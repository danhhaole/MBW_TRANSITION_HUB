[
 {
  "auto_convert_images_to_webp": 1,
  "body_html": null,
  "default_language": "en",
  "docstatus": 0,
  "doctype": "Builder Settings",
  "favicon": null,
  "head_html": null,
  "home_page": null,
  "modified": "2025-10-23 07:54:54.028149",
  "name": "Builder Settings",
  "script": "// // Write your script here\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  const btn = document.getElementById(\"apply-form\");\n  const domain_name = window.location.origin;\n  console.log(\"domain_name>>>>>>>>>>>\", domain_name);\n  let pathname = window.location.pathname;\n  let path = pathname.split(\"/\")[2];\n  var order_details = \"\";\n  console.log(\"path>>>>>>>>>>>\", path);\n  var idopt = document.getElementById(\"opt_select\");\n  var lst_data = [\n    { value: \"python\", label: \"Láº­p trÃ¬nh viÃªn Python\" },\n    { value: \"marketing\", label: \"ChuyÃªn viÃªn marketing\" },\n    { value: \"support\", label: \"NhÃ¢n viÃªn chÄƒm sÃ³c khÃ¡ch hÃ ng\" },\n    { value: \"test\", label: \"NhÃ¢n viÃªn Test\" },\n    { value: \"kt\", label: \"NhÃ¢n viÃªn ká»¹ thuáº­t\" },\n    { value: \"ds\", label: \"NhÃ¢n viÃªn thiáº¿t káº¿\" },\n    { value: \"kd\", label: \"NhÃ¢n viÃªn kinh doanh\" },\n    { value: \"htkt\", label: \"NhÃ¢n viÃªn triá»ƒn khai\" },\n  ];\n  idopt.innerHTML = \"\";\n  var opt_lst = [\"<option value=>Chá»n</option>\"];\n  lst_data.forEach((item) => {\n    var option = `<option value=\"${item.value}\">${item.label}</option>`;\n    opt_lst.push(option);\n  });\n  idopt.innerHTML = opt_lst;\n\n  if (path) getJobDetails(path);\n\n  // HÃ m gá»i POST method (dÃ¹ng chung)\n  async function post_Method(api, payload) {\n    try {\n      const response = await fetch(`${domain_name}/api/method/${api}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(payload),\n      });\n\n      if (!response.ok) {\n        const text = await response.text();\n        throw new Error(`HTTP ${response.status}: ${text}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (err) {\n      console.error(\"âŒ post_Method error:\", err);\n      return { error: err.message };\n    }\n  }\n\n  // HÃ m láº¥y chi tiáº¿t JobOpening\n  async function getJobDetails(path) {\n    const resp = await post_Method(\"frappe.client.get_value\", {\n      doctype: \"Mira Job Opening\",\n      fieldname: [\"*\"], // láº¥y táº¥t cáº£ field\n      filters: [[\"job_url_cms\", \"=\", path]],\n    });\n\n    console.log(\">>> JobOpening by job_url_cms:\", resp);\n\n    if (resp && resp.message) {\n      const order_details = resp.message;\n      console.log(\"âœ… Job Opening details:\", order_details);\n      detailComponent(order_details);\n    } else {\n      console.warn(\"âš ï¸ KhÃ´ng tÃ¬m tháº¥y báº£n ghi hoáº·c lá»—i API:\", resp);\n    }\n  }\n\n  btn.onclick = async function (e) {\n    e.preventDefault();\n\n    // ğŸ• Chá» 300ms Ä‘á»ƒ Builder render input\n    setTimeout(async () => {\n      const inputs = document.querySelectorAll(\"input, textarea, select\");\n      console.log(\"Inputs tÃ¬m Ä‘Æ°á»£c:\", inputs);\n\n      const formData = {};\n      Array.from(inputs).forEach((input) => {\n        const key = input.name || input.id;\n        if (key) formData[key] = input.value;\n      });\n\n      console.log(\"Form data:\", formData);\n\n      const res = await fetch(\"/api/resource/Mira Talent\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(formData),\n      });\n\n      const data = await res.json();\n      console.log(\"Response:\", data);\n\n      if (res.ok) {\n        alert(\"á»¨ng tuyá»ƒn thÃ nh cÃ´ng!\");\n\n        // âœ… Reset toÃ n bá»™ input, textarea, select vá» rá»—ng\n        Array.from(inputs).forEach((input) => {\n          if (\n            input.tagName === \"INPUT\" ||\n            input.tagName === \"TEXTAREA\" ||\n            input.tagName === \"SELECT\"\n          ) {\n            input.value = \"\";\n          }\n        });\n      } else {\n        alert(\"CÃ³ lá»—i xáº£y ra khi á»©ng tuyá»ƒn!\");\n      }\n    }, 500); // <-- cÃ³ thá»ƒ tÄƒng lÃªn 1000 náº¿u trang náº·ng\n  };\n});\n",
  "script_public_url": "/files/page_scripts/builder-asset-script.js?v=4fe01fee26",
  "style": "/* Write your CSS here */\n.item-job {\n  cursor: pointer;\n  background: white;\n  border-radius: 12px;\n  padding: 24px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.item-job:hover {\n  transform: translateY(-8px);\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);\n}\n\n.__text_block__:hover p{\n  color: #fffff\n}\n\n/* Write your CSS here */\n.form-custom {\n  border-radius: 8px;\n  border: 1px solid  #DFE3E8;\n}",
  "style_public_url": "/files/page_styles/builder-asset-style.css?v=edc7500632"
 }
]