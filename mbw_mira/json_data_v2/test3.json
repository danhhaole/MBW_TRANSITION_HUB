[
 {
  "docstatus": 0,
  "doctype": "Builder Client Script",
  "modified": "2025-10-13 10:14:52.110480",
  "name": "JavaScript-5decf",
  "public_url": "/files/page_scripts/JavaScript-5decf-dc53ad3c65.js?v=a9fb8ccd82",
  "script": "// Write your script here\n",
  "script_type": "JavaScript"
 },
 {
  "docstatus": 0,
  "doctype": "Builder Client Script",
  "modified": "2025-10-16 11:51:46.278100",
  "name": "CSS-item-job",
  "public_url": "/files/page_styles/CSS-d2ebe-32531300b9.css?v=a3ab5da084",
  "script": "/* Write your CSS here */\n.item-job {\n  cursor: pointer;\n  background: white;\n  border-radius: 12px;\n  padding: 24px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.item-job:hover {\n  transform: translateY(-8px);\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);\n}\n\n.__text_block__:hover p{\n  color: #fffff\n}",
  "script_type": "CSS"
 },
 {
  "docstatus": 0,
  "doctype": "Builder Client Script",
  "modified": "2025-10-16 15:18:06.672034",
  "name": "Detail job",
  "public_url": "/files/page_scripts/JavaScript-0951e-8ecca0ba0c.js?v=3cd852fff6",
  "script": "// Write your script here console.log(url)\nconst domain_name = window.location.origin\nconsole.log(\"domain_name>>>>>>>>>>>\",domain_name)\nlet pathname = window.location.pathname\nlet path = pathname.split('/')[2]\nvar order_details = ''\nconsole.log(\"path>>>>>>>>>>>\",path)\n\nif (path) getJobDetails(path);\n\n// H√†m g·ªçi POST method (d√πng chung)\nasync function post_Method(api, payload) {\n  try {\n    const response = await fetch(`${domain_name}/api/method/${api}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(payload),\n    });\n\n    if (!response.ok) {\n      const text = await response.text();\n      throw new Error(`HTTP ${response.status}: ${text}`);\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    console.error(\"‚ùå post_Method error:\", err);\n    return { error: err.message };\n  }\n}\n\n// H√†m l·∫•y chi ti·∫øt JobOpening\nasync function getJobDetails(path) {\n  const resp = await post_Method(\"frappe.client.get_value\", {\n    doctype: \"Mira Job Opening\",\n    fieldname: [\"*\"], // l·∫•y t·∫•t c·∫£ field\n    filters: [[\"job_url_cms\", \"=\", path]],\n  });\n\n  console.log(\">>> JobOpening by job_url_cms:\", resp);\n\n  if (resp && resp.message) {\n    const order_details = resp.message;\n    console.log(\"‚úÖ Job Opening details:\", order_details);\n    detailComponent(order_details);\n  } else {\n    console.warn(\"‚ö†Ô∏è Kh√¥ng t√¨m th·∫•y b·∫£n ghi ho·∫∑c l·ªói API:\", resp);\n  }\n}\n",
  "script_type": "JavaScript"
 },
 {
  "docstatus": 0,
  "doctype": "Builder Client Script",
  "modified": "2025-10-16 15:33:12.402561",
  "name": "Button apply form",
  "public_url": "/files/page_scripts/JavaScript-e35b1-5de19fec0b.js?v=2cc82983dc",
  "script": "// Write your script here\nlet btn = document.getElementById(\"apply-form\");\n\nbtn.onclick = async function(e) {\n    e.preventDefault();\n\n  \tconsole.log(\"v√†o ƒë√¢y\")\n\n    let full_name = document.getElementById(\"full_name\").value;\n    let email = document.getElementById(\"email\").value;\n\n    let res = await fetch(\"/api/resource/Mira Talent\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            \"email\": email,\n            \"full_name\": full_name\n        })\n    });\n\n    let data = await res.json();\n    console.log(\"Response:\", data);\n\n    if (res.ok) {\n        alert(\"·ª®ng tuy·ªÉn th√†nh c√¥ng!\");\n      \tfull_name.value = \"\";\n    \temail.value = \"\";\n    } else {\n        alert(\"C√≥ l·ªói x·∫£y ra khi ·ª©ng tuy·ªÉn!\");\n    }\n}",
  "script_type": "JavaScript"
 },
 {
  "docstatus": 0,
  "doctype": "Builder Client Script",
  "modified": "2025-10-16 11:28:02.124115",
  "name": "CSS-e6b73",
  "public_url": "/files/page_styles/CSS-e6b73-2fb20c4c31.css?v=7db6fd27f9",
  "script": "/* Write your CSS here */\n",
  "script_type": "CSS"
 },
 {
  "docstatus": 0,
  "doctype": "Builder Client Script",
  "modified": "2025-10-16 14:36:08.370346",
  "name": "JavaScript-66be9",
  "public_url": "/files/page_scripts/JavaScript-66be9-c915e407f2.js?v=c12181a3c0",
  "script": "// Write your script here\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  // --- T·∫°o n√∫t m·ªü modal ---\n  const openBtn = document.createElement(\"button\");\n  openBtn.id = \"openModalBtn\";\n  openBtn.textContent = \"+ Th√™m th√¥ng tin\";\n  openBtn.className =\n    \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\";\n  document.body.appendChild(openBtn);\n\n  // --- T·∫°o modal container ---\n  const modal = document.createElement(\"div\");\n  modal.id = \"infoModal\";\n  modal.className =\n    \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center hidden z-50\";\n  modal.innerHTML = `\n    <div class=\"bg-white rounded-lg shadow-lg w-full max-w-lg p-6 relative\">\n      <button id=\"closeModalBtn\" class=\"absolute top-2 right-2 text-gray-500 hover:text-gray-800\">‚úï</button>\n      <h2 class=\"text-xl font-semibold text-gray-800 mb-4\">Nh·∫≠p th√¥ng tin</h2>\n      <form id=\"infoForm\" class=\"space-y-4\">\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">Full Name</label>\n          <input type=\"text\" name=\"full_name\" class=\"w-full border rounded-md p-2 focus:ring focus:ring-blue-200\" required />\n        </div>\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\n          <input type=\"email\" name=\"email\" class=\"w-full border rounded-md p-2 focus:ring focus:ring-blue-200\" required />\n        </div>\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">Phone</label>\n          <input type=\"tel\" name=\"phone\" class=\"w-full border rounded-md p-2 focus:ring focus:ring-blue-200\" />\n        </div>\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Upload File</label>\n          <div id=\"dropZone\" class=\"border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 p-6 text-center transition hover:border-blue-400\">\n            <div class=\"flex flex-col items-center\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-10 h-10 text-gray-400 mb-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                  d=\"M7 16a4 4 0 01-.88-7.9A5 5 0 1115.9 6H16a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n              </svg>\n              <p class=\"text-gray-700 font-medium mb-1\">Drop files here or click to upload</p>\n              <p class=\"text-sm text-gray-500 mb-3\">Support Excel (.xlsx, .xls) and CSV files</p>\n              <label for=\"fileInput\" class=\"cursor-pointer inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                    d=\"M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2m-4-4l-4-4m0 0l-4 4m4-4v12\" />\n                </svg>\n                Select File\n              </label>\n              <input id=\"fileInput\" type=\"file\" accept=\".xlsx,.xls,.csv,.pdf\" class=\"hidden\" />\n              <div id=\"fileList\" class=\"mt-3 text-sm text-gray-700\"></div>\n            </div>\n          </div>\n        </div>\n        <div class=\"flex justify-end space-x-2 mt-4\">\n          <button type=\"button\" id=\"cancelBtn\" class=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300\">H·ªßy</button>\n          <button type=\"submit\" class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\">L∆∞u</button>\n        </div>\n      </form>\n    </div>\n  `;\n  document.body.appendChild(modal);\n\n  // --- G·∫Øn logic ---\n  const closeBtn = modal.querySelector(\"#closeModalBtn\");\n  const cancelBtn = modal.querySelector(\"#cancelBtn\");\n  const form = modal.querySelector(\"#infoForm\");\n  const dropZone = modal.querySelector(\"#dropZone\");\n  const fileInput = modal.querySelector(\"#fileInput\");\n  const fileList = modal.querySelector(\"#fileList\");\n\n  const openModal = () => modal.classList.remove(\"hidden\");\n  const closeModal = () => modal.classList.add(\"hidden\");\n\n  openBtn.addEventListener(\"click\", openModal);\n  closeBtn.addEventListener(\"click\", closeModal);\n  cancelBtn.addEventListener(\"click\", closeModal);\n  modal.addEventListener(\"click\", (e) => {\n    if (e.target === modal) closeModal();\n  });\n\n  [\"dragenter\", \"dragover\"].forEach((eventName) => {\n    dropZone.addEventListener(eventName, (e) => {\n      e.preventDefault();\n      dropZone.classList.add(\"border-blue-400\", \"bg-blue-50\");\n    });\n  });\n\n  [\"dragleave\", \"drop\"].forEach((eventName) => {\n    dropZone.addEventListener(eventName, (e) => {\n      e.preventDefault();\n      dropZone.classList.remove(\"border-blue-400\", \"bg-blue-50\");\n    });\n  });\n\n  let uploadedFile = null;\n  dropZone.addEventListener(\"drop\", (e) => {\n    const files = e.dataTransfer.files;\n    handleFiles(files);\n  });\n  fileInput.addEventListener(\"change\", (e) => handleFiles(e.target.files));\n\n  function handleFiles(files) {\n    if (!files.length) return;\n    uploadedFile = files[0];\n    fileList.innerHTML = `üìÑ <strong>${uploadedFile.name}</strong> (${Math.round(\n      uploadedFile.size / 1024\n    )} KB)`;\n  }\n\n  form.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n\n    const data = Object.fromEntries(new FormData(form).entries());\n    if (!uploadedFile) {\n      alert(\"Vui l√≤ng ch·ªçn file tr∆∞·ªõc khi l∆∞u!\");\n      return;\n    }\n\n    const formData = [];\n    formData.push(uploadedFile);\n    formData.push(data.full_name);\n    formData.push(data.email);\n    formData.push(data.phone);\n\n    try {\n      const res = await fetch(\n        \"/api/method/mbw_mira.mbw_mira.doctype.mira_candidate.api.submit_candidate_application\",\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(formData),\n        }\n      );\n\n      const result = await res.json();\n      console.log(\"K·∫øt qu·∫£ t·ª´ Frappe:\", result);\n\n      if (result.message) alert(\"L∆∞u th√†nh c√¥ng!\");\n      else alert(\"C√≥ l·ªói x·∫£y ra, vui l√≤ng ki·ªÉm tra console.\");\n    } catch (error) {\n      console.error(\"L·ªói khi g·ª≠i:\", error);\n      alert(\"Kh√¥ng th·ªÉ g·ª≠i d·ªØ li·ªáu l√™n server!\");\n    }\n\n    closeModal();\n    form.reset();\n    fileList.innerHTML = \"\";\n  });\n});",
  "script_type": "JavaScript"
 },
 {
  "docstatus": 0,
  "doctype": "Builder Client Script",
  "modified": "2025-10-16 14:41:20.031655",
  "name": "JavaScript-c15a1",
  "public_url": "/files/page_scripts/JavaScript-c15a1-b812ccf7dd.js?v=6e29530907",
  "script": "document.addEventListener(\"DOMContentLoaded\", function () {\n  // --- T·∫°o n√∫t m·ªü modal ---\n  const openBtn = document.createElement(\"button\");\n  openBtn.id = \"openModalBtn\";\n  openBtn.className =\n    \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\";\n  document.body.appendChild(openBtn);\n\n  // --- T·∫°o modal container ---\n  const modal = document.createElement(\"div\");\n  modal.id = \"infoModal\";\n  modal.className =\n    \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center hidden z-50\";\n  modal.innerHTML = `\n    <div class=\"bg-white rounded-lg shadow-lg w-full max-w-lg p-6 relative\">\n      <button id=\"closeModalBtn\" class=\"absolute top-2 right-2 text-gray-500 hover:text-gray-800\">‚úï</button>\n      <h2 class=\"text-xl font-semibold text-gray-800 mb-4\">Nh·∫≠p th√¥ng tin</h2>\n      <form id=\"infoForm\" class=\"space-y-4\">\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">Full Name</label>\n          <input type=\"text\" name=\"full_name\" class=\"w-full border rounded-md p-2 focus:ring focus:ring-blue-200\" required />\n        </div>\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\n          <input type=\"email\" name=\"email\" class=\"w-full border rounded-md p-2 focus:ring focus:ring-blue-200\" required />\n        </div>\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">Phone</label>\n          <input type=\"tel\" name=\"phone\" class=\"w-full border rounded-md p-2 focus:ring focus:ring-blue-200\" />\n        </div>\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Upload File</label>\n          <div id=\"dropZone\" class=\"border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 p-6 text-center transition hover:border-blue-400\">\n            <div class=\"flex flex-col items-center\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-10 h-10 text-gray-400 mb-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                  d=\"M7 16a4 4 0 01-.88-7.9A5 5 0 1115.9 6H16a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n              </svg>\n              <p class=\"text-gray-700 font-medium mb-1\">Drop files here or click to upload</p>\n              <p class=\"text-sm text-gray-500 mb-3\">Support Excel (.xlsx, .xls) and CSV files</p>\n              <label for=\"fileInput\" class=\"cursor-pointer inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                    d=\"M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2m-4-4l-4-4m0 0l-4 4m4-4v12\" />\n                </svg>\n                Select File\n              </label>\n              <input id=\"fileInput\" type=\"file\" accept=\".xlsx,.xls,.csv,.pdf\" class=\"hidden\" />\n              <div id=\"fileList\" class=\"mt-3 text-sm text-gray-700\"></div>\n            </div>\n          </div>\n        </div>\n        <div class=\"flex justify-end space-x-2 mt-4\">\n          <button type=\"button\" id=\"cancelBtn\" class=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300\">H·ªßy</button>\n          <button type=\"submit\" class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\">L∆∞u</button>\n        </div>\n      </form>\n    </div>\n  `;\n  document.body.appendChild(modal);\n\n  // --- G·∫Øn logic ---\n  const closeBtn = modal.querySelector(\"#closeModalBtn\");\n  const cancelBtn = modal.querySelector(\"#cancelBtn\");\n  const form = modal.querySelector(\"#infoForm\");\n  const dropZone = modal.querySelector(\"#dropZone\");\n  const fileInput = modal.querySelector(\"#fileInput\");\n  const fileList = modal.querySelector(\"#fileList\");\n\n  const openModal = () => modal.classList.remove(\"hidden\");\n  const closeModal = () => modal.classList.add(\"hidden\");\n\n  openBtn.addEventListener(\"click\", openModal);\n  closeBtn.addEventListener(\"click\", closeModal);\n  cancelBtn.addEventListener(\"click\", closeModal);\n  modal.addEventListener(\"click\", (e) => {\n    if (e.target === modal) closeModal();\n  });\n\n  [\"dragenter\", \"dragover\"].forEach((eventName) => {\n    dropZone.addEventListener(eventName, (e) => {\n      e.preventDefault();\n      dropZone.classList.add(\"border-blue-400\", \"bg-blue-50\");\n    });\n  });\n\n  [\"dragleave\", \"drop\"].forEach((eventName) => {\n    dropZone.addEventListener(eventName, (e) => {\n      e.preventDefault();\n      dropZone.classList.remove(\"border-blue-400\", \"bg-blue-50\");\n    });\n  });\n\n  let uploadedFile = null;\n  dropZone.addEventListener(\"drop\", (e) => {\n    const files = e.dataTransfer.files;\n    handleFiles(files);\n  });\n  fileInput.addEventListener(\"change\", (e) => handleFiles(e.target.files));\n\n  function handleFiles(files) {\n    if (!files.length) return;\n    uploadedFile = files[0];\n    fileList.innerHTML = `üìÑ <strong>${uploadedFile.name}</strong> (${Math.round(\n      uploadedFile.size / 1024\n    )} KB)`;\n  }\n\n  form.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n\n    const data = Object.fromEntries(new FormData(form).entries());\n    if (!uploadedFile) {\n      alert(\"Vui l√≤ng ch·ªçn file tr∆∞·ªõc khi l∆∞u!\");\n      return;\n    }\n\n    const formData = [];\n    formData.push(uploadedFile);\n    formData.push(data.full_name);\n    formData.push(data.email);\n    formData.push(data.phone);\n\n    try {\n      const res = await fetch(\n        \"/api/method/mbw_mira.mbw_mira.doctype.mira_candidate.api.submit_candidate_application\",\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(formData),\n        }\n      );\n\n      const result = await res.json();\n      console.log(\"K·∫øt qu·∫£ t·ª´ Frappe:\", result);\n\n      if (result.message) alert(\"L∆∞u th√†nh c√¥ng!\");\n      else alert(\"C√≥ l·ªói x·∫£y ra, vui l√≤ng ki·ªÉm tra console.\");\n    } catch (error) {\n      console.error(\"L·ªói khi g·ª≠i:\", error);\n      alert(\"Kh√¥ng th·ªÉ g·ª≠i d·ªØ li·ªáu l√™n server!\");\n    }\n\n    closeModal();\n    form.reset();\n    fileList.innerHTML = \"\";\n  });\n});",
  "script_type": "JavaScript"
 },
 {
  "docstatus": 0,
  "doctype": "Builder Client Script",
  "modified": "2025-10-16 14:58:27.947183",
  "name": "JavaScript-b4e41",
  "public_url": "/files/page_scripts/JavaScript-b4e41-3e40b4c97f.js?v=dcdf43ffc9",
  "script": "// Write your script here\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  // H√†m kh·ªüi t·∫°o modal\n  function initModal(openBtn) {\n    if (!openBtn) return;\n    console.log(\"üîπ Button found, binding modal...\");\n\n    // ======= T·∫†O HTML MODAL B·∫∞NG JS =======\n    const modalHTML = `\n      <div id=\"infoModal\" class=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center hidden z-50\">\n        <div class=\"bg-white rounded-lg shadow-lg w-full max-w-lg p-6 relative\">\n          <button id=\"closeModalBtn\" class=\"absolute top-2 right-2 text-gray-500 hover:text-gray-800\">‚úï</button>\n          <h2 class=\"text-xl font-semibold text-gray-800 mb-4\">Nh·∫≠p th√¥ng tin</h2>\n          <form id=\"infoForm\" class=\"space-y-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Full Name</label>\n              <input type=\"text\" name=\"full_name\" required class=\"w-full border rounded-md p-2 focus:ring focus:ring-blue-200\" />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\n              <input type=\"email\" name=\"email\" required class=\"w-full border rounded-md p-2 focus:ring focus:ring-blue-200\" />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Phone</label>\n              <input type=\"tel\" name=\"phone\" class=\"w-full border rounded-md p-2 focus:ring focus:ring-blue-200\" />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Upload File</label>\n              <div id=\"dropZone\" class=\"border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 p-6 text-center transition hover:border-blue-400\">\n                <label for=\"fileInput\" class=\"cursor-pointer inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700\">\n                  Ch·ªçn File\n                </label>\n                <input id=\"fileInput\" type=\"file\" accept=\".xlsx,.xls,.csv,.pdf\" class=\"hidden\" />\n                <div id=\"fileList\" class=\"mt-3 text-sm text-gray-700\"></div>\n              </div>\n            </div>\n            <div class=\"flex justify-end space-x-2 mt-4\">\n              <button type=\"button\" id=\"cancelBtn\" class=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300\">H·ªßy</button>\n              <button type=\"submit\" class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\">L∆∞u</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    `;\n\n    document.body.insertAdjacentHTML(\"beforeend\", modalHTML);\n\n    // ======= ELEMENTS =======\n    const modal = document.getElementById(\"infoModal\");\n    const closeBtn = document.getElementById(\"closeModalBtn\");\n    const cancelBtn = document.getElementById(\"cancelBtn\");\n    const form = document.getElementById(\"infoForm\");\n    const dropZone = document.getElementById(\"dropZone\");\n    const fileInput = document.getElementById(\"fileInput\");\n    const fileList = document.getElementById(\"fileList\");\n\n    const openModal = () => modal.classList.remove(\"hidden\");\n    const closeModal = () => modal.classList.add(\"hidden\");\n\n    openBtn.addEventListener(\"click\", openModal);\n    closeBtn.addEventListener(\"click\", closeModal);\n    cancelBtn.addEventListener(\"click\", closeModal);\n    modal.addEventListener(\"click\", (e) => {\n      if (e.target === modal) closeModal();\n    });\n\n    let uploadedFile = null;\n\n    fileInput.addEventListener(\"change\", (e) => {\n      uploadedFile = e.target.files[0];\n      fileList.innerHTML = uploadedFile\n        ? `üìÑ <strong>${uploadedFile.name}</strong> (${Math.round(uploadedFile.size / 1024)} KB)`\n        : \"\";\n    });\n\n    form.addEventListener(\"submit\", async (e) => {\n      e.preventDefault();\n      const data = Object.fromEntries(new FormData(form).entries());\n      if (!uploadedFile) return alert(\"Vui l√≤ng ch·ªçn file!\");\n\n      const formData = new FormData();\n      formData.append(\"file\", uploadedFile);\n      formData.append(\"full_name\", data.full_name);\n      formData.append(\"email\", data.email);\n      formData.append(\"phone\", data.phone);\n\n      const res = await fetch(\n        \"/api/method/mbw_mira.mbw_mira.doctype.mira_candidate.api.submit_candidate_application\",\n        { method: \"POST\", body: formData }\n      );\n\n      const result = await res.json();\n      alert(result.message ? \"L∆∞u th√†nh c√¥ng!\" : \"C√≥ l·ªói x·∫£y ra!\");\n      closeModal();\n      form.reset();\n      fileList.innerHTML = \"\";\n    });\n  }\n\n  // Quan s√°t DOM ƒë·ªÉ ch·ªù button render\n  const observer = new MutationObserver(() => {\n    const btn = document.getElementById(\"openModalBtn\");\n    if (btn) {\n      observer.disconnect(); // d·ª´ng quan s√°t\n      initModal(btn);\n    }\n  });\n\n  observer.observe(document.body, { childList: true, subtree: true });\n});\n",
  "script_type": "JavaScript"
 },
 {
  "docstatus": 0,
  "doctype": "Builder Client Script",
  "modified": "2025-10-16 16:49:29.981629",
  "name": "CSS-form",
  "public_url": "/files/page_styles/CSS-d7830-c70a50cbd9.css?v=9bc7aaa746",
  "script": "/* Write your CSS here */\n.form-custom {\n  border-radius: 8px;\n  border: 1px solid  #DFE3E8;\n}",
  "script_type": "CSS"
 }
]