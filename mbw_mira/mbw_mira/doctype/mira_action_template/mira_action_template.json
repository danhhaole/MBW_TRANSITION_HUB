{
 "actions": [],
 "allow_rename": 1,
 "creation": "2025-10-29 14:58:49.552262",
 "doctype": "DocType",
 "editable_grid": 1,
 "engine": "InnoDB",
 "field_order": [
  "action_name",
  "action_type",
  "channel_type",
  "order",
  "column_break_basic",
  "status",
  "is_default",
  "is_conditional",
  "configuration_section",
  "action_parameters",
  "condition",
  "column_break_config",
  "delay_minutes",
  "retry_count",
  "timeout_seconds",
  "flow_control_section",
  "next_flow_template",
  "sequence_template",
  "column_break_flow",
  "on_success_action",
  "on_failure_action",
  "template_section",
  "email_template",
  "sms_template",
  "column_break_template",
  "zalo_template",
  "notification_template",
  "metadata_section",
  "description",
  "tags",
  "column_break_meta",
  "configuration_json"
 ],
 "fields": [
  {
   "fieldname": "action_name",
   "fieldtype": "Data",
   "label": "Action Name",
   "reqd": 1
  },
  {
   "fieldname": "action_type",
   "fieldtype": "Select",
   "label": "Action Type",
   "options": "MESSAGE\nSMS\nEMAIL\nZALO\nZALO_CARE\nZALO_ZNS\nSTART_FLOW\nSUBSCRIBE_TO_SEQUENCE\nUN_SUBSCRIBE_TO_SEQUENCE\nSMART_DELAY\nAI_CALL\nADD_TAG\nREMOVE_TAG\nADD_CUSTOM_FIELD\nREMOVE_CUSTOM_FIELD\nLEAD_SCORE\nEXTERNAL_REQUEST\nEMAIL_AI\nCONTENT_AI\nSENT_NOTIFICATION",
   "reqd": 1
  },
  {
   "fieldname": "channel_type",
   "fieldtype": "Select",
   "label": "Channel Type",
   "options": "Email\nSMS\nZalo\nMessenger"
  },
  {
   "fieldname": "order",
   "fieldtype": "Int",
   "label": "Execution Order",
   "default": "0",
   "reqd": 1
  },
  {
   "fieldname": "column_break_basic",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "status",
   "fieldtype": "Select",
   "label": "Status",
   "options": "DRAFT\nACTIVE\nPAUSED\nARCHIVED",
   "default": "ACTIVE"
  },
  {
   "default": "0",
   "fieldname": "is_default",
   "fieldtype": "Check",
   "label": "Is Default Action",
   "description": "Use this action by default when creating from template"
  },
  {
   "default": "0",
   "fieldname": "is_conditional",
   "fieldtype": "Check",
   "label": "Is Conditional",
   "description": "Execute only if condition is met"
  },
  {
   "fieldname": "configuration_section",
   "fieldtype": "Section Break",
   "label": "Configuration"
  },
  {
   "fieldname": "action_parameters",
   "fieldtype": "JSON",
   "label": "Action Parameters",
   "description": "JSON configuration for action parameters"
  },
  {
   "fieldname": "condition",
   "fieldtype": "Code",
   "label": "Execution Condition",
   "options": "JSON",
   "depends_on": "eval:doc.is_conditional==1"
  },
  {
   "fieldname": "column_break_config",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "delay_minutes",
   "fieldtype": "Int",
   "label": "Delay Minutes",
   "default": "0",
   "description": "Delay before executing this action"
  },
  {
   "fieldname": "retry_count",
   "fieldtype": "Int",
   "label": "Retry Count",
   "default": "0",
   "description": "Number of retries on failure"
  },
  {
   "fieldname": "timeout_seconds",
   "fieldtype": "Int",
   "label": "Timeout (seconds)",
   "default": "30",
   "description": "Action timeout in seconds"
  },
  {
   "fieldname": "flow_control_section",
   "fieldtype": "Section Break",
   "label": "Flow Control"
  },
  {
   "fieldname": "next_flow_template",
   "fieldtype": "Data",
   "label": "Next Flow Template",
   "description": "Reference to next flow template"
  },
  {
   "fieldname": "sequence_template",
   "fieldtype": "Data",
   "label": "Sequence Template",
   "description": "Reference to sequence template"
  },
  {
   "fieldname": "column_break_flow",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "on_success_action",
   "fieldtype": "Select",
   "label": "On Success",
   "options": "CONTINUE\nSTOP\nGOTO_NEXT_FLOW\nWAIT",
   "default": "CONTINUE"
  },
  {
   "fieldname": "on_failure_action",
   "fieldtype": "Select",
   "label": "On Failure",
   "options": "CONTINUE\nSTOP\nRETRY\nGOTO_ERROR_FLOW",
   "default": "STOP"
  },
  {
   "fieldname": "template_section",
   "fieldtype": "Section Break",
   "label": "Content Templates"
  },
  {
   "fieldname": "email_template",
   "fieldtype": "Link",
   "label": "Email Template",
   "options": "Email Template",
   "depends_on": "eval:doc.action_type=='EMAIL' || doc.action_type=='EMAIL_AI'"
  },
  {
   "fieldname": "sms_template",
   "fieldtype": "Small Text",
   "label": "SMS Template",
   "depends_on": "eval:doc.action_type=='SMS'"
  },
  {
   "fieldname": "column_break_template",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "zalo_template",
   "fieldtype": "Small Text",
   "label": "Zalo Template",
   "depends_on": "eval:doc.action_type=='ZALO' || doc.action_type=='ZALO_CARE' || doc.action_type=='ZALO_ZNS'"
  },
  {
   "fieldname": "notification_template",
   "fieldtype": "Small Text",
   "label": "Notification Template",
   "depends_on": "eval:doc.action_type=='SENT_NOTIFICATION'"
  },
  {
   "fieldname": "metadata_section",
   "fieldtype": "Section Break",
   "label": "Additional Information"
  },
  {
   "fieldname": "description",
   "fieldtype": "Small Text",
   "label": "Description"
  },
  {
   "fieldname": "tags",
   "fieldtype": "Small Text",
   "label": "Tags"
  },
  {
   "fieldname": "column_break_meta",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "configuration_json",
   "fieldtype": "Long Text",
   "label": "Configuration JSON",
   "description": "Additional configuration as JSON",
   "options": "JSON"
  }
 ],
 "grid_page_length": 50,
 "index_web_pages_for_search": 1,
 "istable": 1,
 "links": [],
 "modified": "2025-10-29 14:58:49.552262",
 "modified_by": "Administrator",
 "module": "MBW Mira",
 "name": "Mira Action Template",
 "owner": "Administrator",
 "permissions": [],
 "row_format": "Dynamic",
 "sort_field": "modified",
 "sort_order": "DESC",
 "states": []
}