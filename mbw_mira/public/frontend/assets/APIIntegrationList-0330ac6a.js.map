{"version":3,"file":"APIIntegrationList-0330ac6a.js","sources":["../../../../frontend/src/components/Connectors/FacebookConnectionForm.vue","../../../../frontend/src/components/Connectors/ZaloConnectionForm.vue","../../../../frontend/src/components/Connectors/CalcomConnectionForm.vue","../../../../frontend/src/components/Connectors/TopcvConnectionForm.vue","../../../../frontend/src/pages/APIIntegrationList.vue"],"sourcesContent":["<template>\n  <div class=\"facebook-connection-form\">\n    <!-- Platform Info Banner -->\n    <div class=\"flex items-center gap-4 p-4 bg-blue-50 rounded-lg mb-6\">\n      <div class=\"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center\">\n        <FeatherIcon name=\"facebook\" class=\"w-6 h-6 text-white\" />\n      </div>\n      <div>\n        <h3 class=\"font-semibold text-gray-900\">{{__('Facebook Integration')}}</h3>\n        <p class=\"text-sm text-gray-600\">\n          {{ isEdit ? __('Update your Facebook connection settings') : __('Connect your Facebook account to manage pages and posts') }}\n        </p>\n      </div>\n    </div>\n\n    <!-- Connection Form -->\n    <div class=\"space-y-6\">\n      <!-- Basic Information -->\n      <div class=\"space-y-4\">\n        <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Basic Information')}}</h4>\n        \n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <!-- <FormControl\n            :label=\"__('Tenant Name')\"\n            v-model=\"localFormData.tenant_name\"\n            :placeholder=\"__('Your organization name')\"\n            :required=\"true\"\n            :error=\"validationErrors.tenant_name\"\n          /> -->\n          \n          <FormControl\n            :label=\"__('User Email')\"\n            type=\"email\"\n            v-model=\"localFormData.user_email\"\n            :placeholder=\"__('your-email@domain.com')\"\n            :required=\"true\"\n            :error=\"validationErrors.user_email\"\n          />\n        </div>\n\n        <FormControl\n          :label=\"__('Full Name')\"\n          v-model=\"localFormData.full_name\"\n          :placeholder=\"__('Your full name')\"\n          :required=\"true\"\n          :error=\"validationErrors.full_name\"\n        />\n      </div>\n\n      <!-- Current Connected Accounts (Show in edit mode) -->\n      <div v-if=\"isEdit && (props.connectedAccounts.length > 0 || props.existingConnection?.accounts?.length > 0)\" class=\"space-y-4\">\n        <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Connected Accounts')}}</h4>\n        \n        <div class=\"bg-green-50 rounded-lg p-4\">\n          <div class=\"flex items-center gap-2 mb-3\">\n            <FeatherIcon name=\"check-circle\" class=\"w-5 h-5 text-green-600\" />\n            <h5 class=\"font-medium text-green-800\">{{__('Active Facebook Accounts')}}</h5>\n          </div>\n          \n          <div class=\"space-y-2\">\n            <div \n              v-for=\"account in (props.connectedAccounts.length > 0 ? props.connectedAccounts : props.existingConnection?.accounts || [])\" \n              :key=\"account.external_account_id\"\n              class=\"flex items-center justify-between p-3 bg-white rounded border\"\n            >\n              <div class=\"flex items-center gap-3\">\n                <div class=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                  <FeatherIcon name=\"facebook\" class=\"w-4 h-4 text-blue-600\" />\n                </div>\n                <div>\n                  <div class=\"font-medium text-gray-900\">{{ account.account_name }}</div>\n                  <div class=\"text-xs text-gray-500\">{{ account.account_type }} • ID: {{ account.external_account_id }}</div>\n                </div>\n              </div>\n              <div class=\"flex items-center gap-2\">\n                <Badge v-if=\"account.is_primary\" variant=\"success\" size=\"sm\">{{__('Primary')}}</Badge>\n                <Badge :variant=\"account.is_active ? 'success' : 'gray'\" size=\"sm\">\n                  {{ account.is_active ? __('Active') : __('Inactive') }}\n                </Badge>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"space-y-4\">\n        <div class=\"flex items-center justify-between border-b pb-2\">\n          <h4 class=\"font-medium text-gray-900\">{{__('OAuth Configuration')}}</h4>\n          <Button\n            @click=\"showAppSetupGuide = !showAppSetupGuide\"\n            variant=\"ghost\"\n            size=\"sm\"\n          >\n            <template #prefix>\n              <FeatherIcon name=\"help-circle\" class=\"w-4 h-4\" />\n            </template>\n            {{__('Setup Guide')}}\n          </Button>\n        </div>\n\n        <!-- Setup Guide (Collapsible) -->\n        <div v-if=\"showAppSetupGuide\" class=\"bg-gray-50 rounded-lg p-4 space-y-3\">\n          <h5 class=\"font-medium text-gray-800\">{{__('OAuth Setup Instructions:')}}</h5>\n          <ol class=\"text-sm text-gray-700 space-y-2 list-decimal list-inside\">\n            <li>{{__('Contact system administrator for OAuth configuration')}}</li>\n            <li>{{__('Your organization\\'s Facebook App will be configured centrally')}}</li>\n            <li>{{__('Connection will be established through secure OAuth flow')}}</li>\n            <li>{{__('No sensitive credentials need to be entered manually')}}</li>\n          </ol>\n          <div class=\"text-xs text-gray-600 bg-white p-2 rounded border\">\n            <strong>{{__('Callback URL:')}}</strong> {{ computedRedirectUrl }}\n          </div>\n        </div>\n\n        <!-- OAuth Connection Info -->\n        <div class=\"bg-blue-50 rounded-lg p-4\">\n          <div class=\"flex items-start gap-3\">\n            <FeatherIcon name=\"shield-check\" class=\"w-5 h-5 text-blue-600 mt-0.5\" />\n            <div>\n              <h5 class=\"font-medium text-blue-900\">{{__('Secure OAuth Connection')}}</h5>\n              <p class=\"text-sm text-blue-700 mt-1\">\n                {{__('This connection uses OAuth 2.0 for secure authentication. Your Facebook credentials are never stored on our servers.')}}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Advanced Settings -->\n      <div v-if=\"showAdvancedSettings\" class=\"space-y-4\">\n        <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Advanced Settings')}}</h4>\n        \n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <FormControl\n            :label=\"__('Connection Timeout (seconds)')\"\n            type=\"number\"\n            v-model=\"localFormData.timeout\"\n            :placeholder=\"__('30')\"\n            :error=\"validationErrors.timeout\"\n          />\n          \n          <FormControl\n            :label=\"__('Max Retry Attempts')\"\n            type=\"number\"\n            v-model=\"localFormData.max_retries\"\n            :placeholder=\"__('3')\"\n            :error=\"validationErrors.max_retries\"\n          />\n        </div>\n\n        <div class=\"flex items-center space-x-3\">\n          <input\n            id=\"auto-sync\"\n            type=\"checkbox\"\n            v-model=\"localFormData.auto_sync_accounts\"\n            class=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n          >\n          <label for=\"auto-sync\" class=\"text-sm\">\n            <span class=\"font-medium text-gray-900\">{{__('Auto-sync accounts')}}</span>\n            <span class=\"block text-xs text-gray-500\">{{__('Automatically sync Facebook pages and accounts')}}</span>\n          </label>\n        </div>\n      </div>\n\n      <!-- Test Connection -->\n      <div v-if=\"isEdit\" class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <h5 class=\"font-medium text-gray-900\">{{__('Test Connection')}}</h5>\n            <p class=\"text-sm text-gray-600\">{{__('Verify that your Facebook connection is working')}}</p>\n          </div>\n          <Button\n            @click=\"testConnection\"\n            variant=\"outline\"\n            size=\"sm\"\n            :loading=\"isTesting\"\n          >\n            <template #prefix>\n              <FeatherIcon name=\"zap\" class=\"w-4 h-4\" />\n            </template>\n            {{__('Test')}}\n          </Button>\n        </div>\n        \n        <div v-if=\"testResult\" class=\"mt-3 p-3 rounded border\" :class=\"testResult.success ? 'border-green-200 bg-green-50' : 'border-red-200 bg-red-50'\">\n          <div class=\"flex items-center gap-2\">\n            <FeatherIcon \n              :name=\"testResult.success ? 'check-circle' : 'x-circle'\" \n              class=\"w-4 h-4\"\n              :class=\"testResult.success ? 'text-green-600' : 'text-red-600'\"\n            />\n            <span class=\"text-sm font-medium\" :class=\"testResult.success ? 'text-green-800' : 'text-red-800'\">\n              {{ testResult.message }}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Actions -->\n    <div class=\"flex justify-between items-center pt-6 border-t\">\n      <Button\n        @click=\"toggleAdvancedSettings\"\n        variant=\"ghost\"\n        size=\"sm\"\n      >\n        {{ showAdvancedSettings ? __('Hide') : __('Show') }} {{__('Advanced Settings')}}\n      </Button>\n      \n      <div class=\"flex gap-3\">\n        <Button\n          @click=\"handleCancel\"\n          variant=\"ghost\"\n        >\n          {{__('Cancel')}}\n        </Button>\n        \n        <Button\n          @click=\"handleSubmit\"\n          variant=\"solid\"\n          :loading=\"isSubmitting\"\n          :disabled=\"!isFormValid\"\n        >\n          {{ isEdit ? __('Update Connection') : __('Connect Facebook') }}\n        </Button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted, nextTick, shallowRef } from 'vue'\nimport { Button, FormControl, FeatherIcon, call } from 'frappe-ui'\nimport useToast from '@/composables/useToast'\n\n// Props\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    default: () => ({})\n  },\n  platform: {\n    type: Object,\n    required: true\n  },\n  isEdit: {\n    type: Boolean,\n    default: false\n  },\n  existingConnection: {\n    type: Object,\n    default: () => ({})\n  },\n  connectedAccounts: {\n    type: Array,\n    default: () => []\n  }\n})\n\n// Emits\nconst emit = defineEmits(['update:modelValue', 'submit', 'cancel'])\nimport { usersStore } from \"@/stores/user\";\nconst { warning: toastWarning } = useToast()\n// Reactive state\nconst isSubmitting = ref(false)\nconst isTesting = ref(false)\nconst showAppSetupGuide = ref(false)\nconst showAdvancedSettings = ref(false)\nconst testResult = shallowRef(null)\nconst validationErrors = ref({})\nconst { userResource, allUsers, getUser } = usersStore();\n// Default form structure - updated to remove App ID/Secret\nconst defaultFormData = {\n  tenant_name: '',\n  user_email: getUser?.data?.email,\n  full_name: getUser?.data?.full_name,\n  hook_url: '',\n  redirect_url: '',\n  timeout: 30,\n  max_retries: 3,\n  permissions: ['pages_manage_posts', 'pages_read_engagement'],\n  auto_sync_accounts: true\n}\n\n// Local form data - avoid direct v-model binding to prevent loops\nconst localFormData = ref({ ...defaultFormData })\n\n// Available Facebook permissions\nconst availablePermissions = [\n  {\n    key: 'pages_manage_posts',\n    label: __('Manage Page Posts'),\n    description: __('Create, edit and delete posts on connected pages')\n  },\n  {\n    key: 'pages_read_engagement',\n    label: __('Read Page Engagement'),\n    description: __('View likes, comments, and engagement metrics')\n  },\n  {\n    key: 'pages_show_list',\n    label: __('List Pages'),\n    description: __('Access list of pages user manages')\n  },\n  {\n    key: 'pages_manage_metadata',\n    label: __('Manage Page Info'),\n    description: __('Update page information and settings')\n  },\n  {\n    key: 'pages_read_user_content',\n    label: __('Read User Content'),\n    description: __('Read content posted by users on pages')\n  }\n]\n\n// Computed properties\nconst computedRedirectUrl = computed(() => {\n  const check_redirect_url = localFormData.value.redirect_url\n  console.log(check_redirect_url)\n  const check_window_location = `${window.location.origin}/api/auth/facebook/callback`\n  console.log(check_window_location)\n  return localFormData.value.redirect_url || `${window.location.origin}/api/auth/facebook/callback`\n})\n\nconst isFormValid = computed(() => {\n  const form = localFormData.value\n  return !!(\n    form.user_email &&\n    form.full_name &&\n    isValidEmail(form.user_email) &&\n    Object.keys(validationErrors.value).length === 0\n  )\n})\n\n// Helper methods\nconst isValidEmail = (email) => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  return emailRegex.test(email)\n}\n\nconst validateForm = () => {\n  const errors = {}\n  const form = localFormData.value\n\n  if (!form.user_email) {\n    errors.user_email = __('Email is required')\n  } else if (!isValidEmail(form.user_email)) {\n    errors.user_email = __('Please enter a valid email address')\n  }\n\n  if (!form.full_name) {\n    errors.full_name = __('Full name is required')\n  }\n\n  if (form.hook_url && !isValidUrl(form.hook_url)) {\n    errors.hook_url = __('Please enter a valid URL')\n  }\n\n  if (form.timeout && (form.timeout < 5 || form.timeout > 300)) {\n    errors.timeout = __('Timeout should be between 5 and 300 seconds')\n  }\n\n  if (form.max_retries && (form.max_retries < 1 || form.max_retries > 10)) {\n    errors.max_retries = __('Max retries should be between 1 and 10')\n  }\n\n  validationErrors.value = errors\n  return Object.keys(errors).length === 0\n}\n\nconst isValidUrl = (string) => {\n  try {\n    new URL(string)\n    return true\n  } catch (_) {\n    return false\n  }\n}\n\nconst togglePermission = (permissionKey) => {\n  const permissions = [...localFormData.value.permissions]\n  const index = permissions.indexOf(permissionKey)\n  \n  if (index > -1) {\n    permissions.splice(index, 1)\n  } else {\n    permissions.push(permissionKey)\n  }\n  \n  localFormData.value.permissions = permissions\n  emitModelUpdate()\n}\n\nconst toggleAdvancedSettings = () => {\n  showAdvancedSettings.value = !showAdvancedSettings.value\n}\n\nconst testConnection = async () => {\n  if (!isFormValid.value) {\n    toastWarning(`${__('Validation Error')}: ${__('Please fix form errors before testing')}`)\n    return\n  }\n\n  isTesting.value = true\n  testResult.value = null\n\n  try {\n    const response = await call('mbw_mira.api.external_connections.test_connection', {\n      connection_id: props.existingConnection.connection_id || props.existingConnection.name\n    })\n\n    const res = response?.message || response\n    if (res?.success) {\n      testResult.value = {\n        success: true,\n        message: res?.message || __('Connection test successful! Facebook OAuth is configured properly.')\n      }\n    } else {\n      testResult.value = {\n        success: false,\n        message: res?.message || __('Connection test failed')\n      }\n    }\n\n  } catch (error) {\n    console.error('Connection test error:', error)\n    testResult.value = {\n      success: false,\n      message: error.message || __('Failed to test connection')\n    }\n  } finally {\n    isTesting.value = false\n  }\n}\n\n// Event handlers\nconst handleSubmit = async () => {\n  if (!validateForm()) {\n    toastWarning(`${__('Validation Error')}: ${__('Please fix the errors in the form')}`)\n    return\n  }\n\n  isSubmitting.value = true\n  try {\n    // Prepare data for submission\n    const submitData = {\n      tenant_name: localFormData.value.tenant_name,\n      user_email: localFormData.value.user_email,\n      full_name: localFormData.value.full_name,\n      app_id: localFormData.value.app_id,\n      app_secret: localFormData.value.app_secret,\n      hook_url: localFormData.value.hook_url || '',\n      redirect_url: computedRedirectUrl.value,\n      api_version: localFormData.value.api_version || 'v18.0',\n      timeout: parseInt(localFormData.value.timeout) || 30,\n      permissions: [...localFormData.value.permissions],\n      auto_sync_accounts: localFormData.value.auto_sync_accounts,\n      platform_type: 'Facebook'\n    }\n\n    // Emit to parent\n    emit('submit', submitData)\n    \n  } catch (error) {\n    console.error('Form submission error:', error)\n    toastWarning(`${__('Error')}: ${error.message || __('Failed to submit form')}`)\n  } finally {\n    isSubmitting.value = false\n  }\n}\n\nconst handleCancel = () => {\n  // Reset form to original state\n  if (props.isEdit && props.existingConnection) {\n    loadExistingData()\n  } else {\n    Object.assign(localFormData.value, { ...defaultFormData })\n  }\n  \n  validationErrors.value = {}\n  testResult.value = null\n  emit('cancel')\n}\n\n// Model value synchronization with debouncing to prevent loops\nconst emitModelUpdate = () => {\n  nextTick(() => {\n    emit('update:modelValue', { ...localFormData.value })\n  })\n}\n\nconst loadExistingData = () => {\n  if (props.existingConnection) {\n    const existing = props.existingConnection\n    Object.assign(localFormData.value, {\n      tenant_name: existing.tenant_name || '',\n      user_email: existing.user_email || '',\n      full_name: existing.full_name || '',\n      hook_url: existing.hook_url || '',\n      redirect_url: existing.redirect_url || computedRedirectUrl.value,\n      timeout: existing.timeout || 30,\n      max_retries: existing.max_retries || 3,\n      permissions: existing.permissions || [...defaultFormData.permissions],\n      auto_sync_accounts: existing.auto_sync_accounts ?? true\n    })\n  }\n}\n\n// Watchers with proper debouncing\nlet updateTimeout = null\nwatch(localFormData, () => {\n  if (updateTimeout) {\n    clearTimeout(updateTimeout)\n  }\n  \n  updateTimeout = setTimeout(() => {\n    validateForm()\n    emitModelUpdate()\n  }, 300)\n}, { \n  deep: true,\n  flush: 'post'\n})\n\n// Initialize form data properly\nwatch(() => props.modelValue, (newValue) => {\n  if (newValue && typeof newValue === 'object') {\n    const currentDataString = JSON.stringify(localFormData.value)\n    const newDataString = JSON.stringify({ ...defaultFormData, ...newValue })\n    \n    if (currentDataString !== newDataString) {\n      Object.assign(localFormData.value, { ...defaultFormData, ...newValue })\n    }\n  }\n}, { \n  immediate: false,\n  deep: true \n})\n\n// Lifecycle\nonMounted(() => {\n  if (props.isEdit && props.existingConnection) {\n    loadExistingData()\n  } else if (props.modelValue && Object.keys(props.modelValue).length > 0) {\n    Object.assign(localFormData.value, { ...defaultFormData, ...props.modelValue })\n  }\n  \n  if (!localFormData.value.redirect_url) {\n    localFormData.value.redirect_url = computedRedirectUrl.value\n  }\n  \n  nextTick(() => {\n    validateForm()\n    emitModelUpdate()\n  })\n})\n</script>\n\n<style scoped>\n.facebook-connection-form {\n  max-width: 100%;\n}\n\n/* Custom form styling */\n::deep(.form-control) {\n  margin-bottom: 0;\n}\n\n::deep(.form-control .form-label) {\n  font-weight: 500;\n  color: #374151;\n  margin-bottom: 0.5rem;\n}\n\n::deep(.form-control .form-input) {\n  border-radius: 0.5rem;\n  border: 1px solid #d1d5db;\n  padding: 0.75rem;\n  transition: all 0.2s;\n}\n\n::deep(.form-control .form-input:focus) {\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n::deep(.form-control .form-error) {\n  color: #ef4444;\n  font-size: 0.875rem;\n  margin-top: 0.25rem;\n}\n\n::deep(.form-control .form-help) {\n  color: #6b7280;\n  font-size: 0.875rem;\n  margin-top: 0.25rem;\n}\n\n/* Prevent layout shifts */\n.grid {\n  min-height: 0;\n}\n\n/* Loading state styling */\n.loading-overlay {\n  position: absolute;\n  inset: 0;\n  background: rgba(255, 255, 255, 0.8);\n  display: flex;\n  items-center: center;\n  justify-content: center;\n  z-index: 10;\n}\n</style>","<template>\n  <div class=\"zalo-connection-form p-4\">\n    <div v-if=\"!isEdit\" class=\"space-y-6\">\n      <!-- Connection Info -->\n      <div class=\"flex items-center p-4 bg-blue-50 rounded-lg\">\n        <FeatherIcon name=\"message-circle\" class=\"w-8 h-8 text-blue-600 mr-3\" />\n        <div>\n          <h4 class=\"font-medium text-blue-900\">{{__('Connect Zalo OA')}}</h4>\n          <p class=\"text-sm text-blue-700\">\n            {{__('Kết nối Zalo Official Account để chia sẻ tin tuyển dụng')}}\n          </p>\n        </div>\n      </div>\n\n      <!-- Basic Information -->\n      <div class=\"space-y-4\">\n        <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Thông tin cơ bản')}}</h4>\n\n        <div class=\"grid grid-cols-1 gap-4\">\n          <!-- <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              {{__('Tenant Name *')}}\n            </label>\n            <input v-model=\"formData.tenant_name\" type=\"text\"\n              class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              :placeholder=\"__('VD: https://hireos.fastwork.vn')\" required />\n          </div> -->\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              {{__('Email người dùng *')}}\n            </label>\n            <input v-model=\"formData.user_email\" type=\"email\"\n              class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              :placeholder=\"__('user@company.com')\" required />\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              {{__('Họ và tên *')}}\n            </label>\n            <input v-model=\"formData.full_name\" type=\"text\"\n              class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              :placeholder=\"__('Nhập họ và tên')\" required />\n          </div>\n        </div>\n      </div>\n\n      <!-- Webhook Configuration -->\n      <div class=\"space-y-4\">\n        <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Cấu hình Webhook')}}</h4>\n\n        <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\n          <div class=\"flex items-start\">\n            <FeatherIcon name=\"alert-triangle\" class=\"w-4 h-4 text-yellow-600 mr-2 mt-0.5\" />\n            <div class=\"text-sm text-yellow-800\">\n              <p class=\"font-medium mb-1\">{{__('Lưu ý quan trọng:')}}</p>\n              <p>{{__('Đảm bảo URL webhook có thể truy cập từ internet để SocialHub gửi callback.')}}</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- <div class=\"grid grid-cols-1 gap-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              {{__('Webhook URL *')}}\n            </label>\n            <input v-model=\"formData.hook_url\" type=\"url\"\n              class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              :placeholder=\"defaultHookUrl\" required />\n            <p class=\"text-xs text-gray-500 mt-1\">\n              {{__('URL nhận callback xác thực từ SocialHub')}}\n            </p>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              {{__('Redirect URL *')}}\n            </label>\n            <input v-model=\"formData.redirect_url\" type=\"url\"\n              class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              :placeholder=\"defaultRedirectUrl\" required />\n            <p class=\"text-xs text-gray-500 mt-1\">\n              {{__('URL chuyển hướng sau khi xác thực thành công')}}\n            </p>\n          </div>\n        </div> -->\n      </div>\n\n      <!-- Broadcasting Settings -->\n      <div class=\"space-y-4\">\n        <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Cài đặt Broadcasting')}}</h4>\n\n        <div class=\"flex items-center space-x-2\">\n          <input id=\"enable-broadcasting\" v-model=\"formData.enable_broadcasting\" type=\"checkbox\"\n            class=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\">\n          <label for=\"enable-broadcasting\" class=\"text-sm text-gray-700\">\n            {{__('Cho phép gửi tin broadcast đến followers')}}\n          </label>\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              {{__('Giới hạn tin/ngày')}}\n            </label>\n            <input v-model=\"formData.daily_message_limit\" type=\"number\"\n              class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"1000\"\n              min=\"1\" />\n            <p class=\"text-xs text-gray-500 mt-1\">{{__('Để trống nếu không giới hạn')}}</p>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              {{__('Ưu tiên tin nhắn')}}\n            </label>\n            <select v-model=\"formData.message_priority\"\n              class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\n              <option value=\"high\">{{__('Cao')}}</option>\n              <option value=\"normal\">{{__('Bình thường')}}</option>\n              <option value=\"low\">{{__('Thấp')}}</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <!-- Advanced Settings -->\n      <div class=\"space-y-4\">\n        <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Cài đặt nâng cao')}}</h4>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              {{__('Tần suất đồng bộ')}}\n            </label>\n            <select v-model=\"formData.sync_frequency\"\n              class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\n              <option value=\"Hourly\">{{__('Every hour')}}</option>\n              <option value=\"Every 5 minutes\">{{__('Every 5 minutes')}}</option>\n              <option value=\"Every 15 minutes\">{{__('Every 15 minutes')}}</option>\n              <option value=\"Every 30 minutes\">{{__('Every 30 minutes')}}</option>\n              <option value=\"Daily\">{{__('Daily')}}</option>\n              <option value=\"Real-time\">{{__('Real-time')}}</option>\n            </select>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              {{__('Số lần thử lại tối đa')}}\n            </label>\n            <input v-model=\"formData.max_retries\" type=\"number\" min=\"1\" max=\"5\"\n              class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"3\" />\n          </div>\n        </div>\n\n        <div class=\"flex items-center space-x-2\">\n          <input id=\"debug-mode\" v-model=\"formData.debug_mode\" type=\"checkbox\"\n            class=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\">\n          <label for=\"debug-mode\" class=\"text-sm text-gray-700\">\n            {{__('Bật chế độ debug để ghi log chi tiết')}}\n          </label>\n        </div>\n      </div>\n\n      <!-- Expected Permissions -->\n      <div class=\"space-y-4\">\n        <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Quyền truy cập Zalo')}}</h4>\n\n        <div class=\"bg-blue-50 rounded-lg p-4\">\n          <p class=\"text-sm text-blue-900 mb-3\">\n            {{__('Các quyền sau sẽ được yêu cầu khi xác thực Zalo OA:')}}\n          </p>\n\n          <div class=\"grid grid-cols-1 gap-3\">\n            <div v-for=\"permission in zaloPermissions\" :key=\"permission.value\" class=\"flex items-start space-x-2\">\n              <FeatherIcon name=\"check\" class=\"w-4 h-4 text-green-600 mt-0.5\" />\n              <div>\n                <div class=\"text-sm font-medium text-gray-900\">{{ __(permission.label) }}</div>\n                <div class=\"text-xs text-gray-600\">{{ __(permission.description) }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Edit Mode - Connected OA Management -->\n    <div v-else class=\"space-y-6\">\n      <!-- Connection Status -->\n      <div class=\"flex items-center p-4 bg-green-50 rounded-lg\">\n        <FeatherIcon name=\"check-circle\" class=\"w-8 h-8 text-green-600 mr-3\" />\n        <div class=\"flex-1\">\n          <h4 class=\"font-medium text-green-900\">{{__('Zalo OA đã kết nối')}}</h4>\n          <p class=\"text-sm text-green-700\">\n            {{__('OA:')}} {{ existingConnection?.account_name || __('Zalo Official Account') }}\n          </p>\n          <p class=\"text-xs text-green-600 mt-1\">\n            {{__('ID:')}} {{ existingConnection?.oa_id || __('N/A') }}\n          </p>\n          <p class=\"text-xs text-green-600\">\n            {{__('Đồng bộ lần cuối:')}} {{ formatDate(existingConnection?.last_sync) }}\n          </p>\n        </div>\n        <Button variant=\"ghost\" size=\"sm\" @click=\"syncNow\" :loading=\"syncing\">\n          <template #prefix>\n            <FeatherIcon name=\"refresh-cw\" class=\"w-4 h-4\" />\n          </template>\n          {{__('Đồng bộ')}}\n        </Button>\n      </div>\n\n      <!-- OA Information -->\n      <div class=\"space-y-4\">\n        <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Thông tin Zalo OA')}}</h4>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div class=\"bg-white border border-gray-200 rounded-lg p-4\">\n            <div class=\"flex items-center space-x-3 mb-3\">\n              <div class=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\">\n                <FeatherIcon name=\"message-circle\" class=\"w-6 h-6 text-blue-600\" />\n              </div>\n              <div>\n                <h5 class=\"font-medium text-gray-900\">{{ oaInfo.name || __('Zalo OA') }}</h5>\n                <p class=\"text-sm text-gray-600\">{{ oaInfo.description || __('Official Account') }}</p>\n              </div>\n            </div>\n\n            <div class=\"space-y-2 text-sm\">\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-600\">{{__('OA ID:')}}</span>\n                <span class=\"font-mono\">{{ oaInfo.oa_id || __('N/A') }}</span>\n              </div>\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-600\">{{__('Trạng thái:')}}</span>\n                <Badge variant=\"solid\" size=\"sm\">{{__('Hoạt động')}}</Badge>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"bg-white border border-gray-200 rounded-lg p-4\">\n            <h5 class=\"font-medium text-gray-900 mb-3\">{{__('Thống kê')}}</h5>\n            <div class=\"space-y-2 text-sm\">\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-600\">{{__('Followers:')}}</span>\n                <span class=\"font-semibold\">{{ oaStmira.followers || __('N/A') }}</span>\n              </div>\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-600\">{{__('Tin gửi hôm nay:')}}</span>\n                <span class=\"font-semibold\">{{ oaStmira.messages_today || '0' }}</span>\n              </div>\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-600\">{{__('Template được duyệt:')}}</span>\n                <span class=\"font-semibold\">{{ oaStmira.approved_templates || '0' }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Message Templates -->\n      <div class=\"space-y-4\">\n        <div class=\"flex items-center justify-between\">\n          <h4 class=\"font-medium text-gray-900\">{{__('Message Templates')}}</h4>\n          <Button variant=\"outline\" size=\"sm\" @click=\"refreshTemplates\" :loading=\"refreshingTemplates\">\n            <template #prefix>\n              <FeatherIcon name=\"refresh-cw\" class=\"w-4 h-4\" />\n            </template>\n            {{__('Làm mới')}}\n          </Button>\n        </div>\n\n        <div v-if=\"messageTemplates.length > 0\" class=\"space-y-3\">\n          <div v-for=\"template in messageTemplates\" :key=\"template.id\"\n            class=\"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors\">\n            <div class=\"flex items-center space-x-3\">\n              <div class=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\">\n                <FeatherIcon name=\"message-square\" class=\"w-4 h-4 text-green-600\" />\n              </div>\n              <div>\n                <div class=\"font-medium text-gray-900\">{{ template.name }}</div>\n                <div class=\"text-sm text-gray-600\">{{ template.content?.substring(0, 50) }}...</div>\n              </div>\n            </div>\n\n            <div class=\"flex items-center space-x-2\">\n              <Badge :variant=\"template.status === 'approved' ? 'solid' : 'outline'\" size=\"sm\">\n                {{ template.status === 'approved' ? __('Đã duyệt') : __('Chờ duyệt') }}\n              </Badge>\n              <Dropdown :options=\"getTemplateActions(template)\">\n                <template #default=\"{ open }\">\n                  <Button variant=\"ghost\" size=\"sm\" @click=\"open\">\n                    <FeatherIcon name=\"more-vertical\" class=\"w-4 h-4\" />\n                  </Button>\n                </template>\n              </Dropdown>\n            </div>\n          </div>\n        </div>\n\n        <div v-else class=\"text-center py-8\">\n          <FeatherIcon name=\"message-square\" class=\"w-12 h-12 text-gray-400 mx-auto mb-3\" />\n          <h3 class=\"text-lg font-medium text-gray-900 mb-2\">{{__('Chưa có template')}}</h3>\n          <p class=\"text-gray-600 mb-4\">\n            {{__('Chưa có message template nào được tìm thấy.')}}\n          </p>\n          <Button variant=\"outline\" @click=\"refreshTemplates\" :loading=\"refreshingTemplates\">\n            <template #prefix>\n              <FeatherIcon name=\"refresh-cw\" class=\"w-4 h-4\" />\n            </template>\n            {{__('Làm mới Templates')}}\n          </Button>\n        </div>\n      </div>\n\n      <!-- Settings Update -->\n      <div class=\"space-y-4\">\n        <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Cập nhật cài đặt')}}</h4>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              {{__('Tần suất đồng bộ')}}\n            </label>\n            <select v-model=\"formData.sync_frequency\"\n              class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\n              <option value=\"Hourly\">{{__('Every hour')}}</option>\n              <option value=\"Every 5 minutes\">{{__('Every 5 minutes')}}</option>\n              <option value=\"Every 15 minutes\">{{__('Every 15 minutes')}}</option>\n              <option value=\"Every 30 minutes\">{{__('Every 30 minutes')}}</option>\n              <option value=\"Daily\">{{__('Daily')}}</option>\n              <option value=\"Real-time\">{{__('Real-time')}}</option>\n            </select>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              {{__('Giới hạn tin/ngày')}}\n            </label>\n            <input v-model=\"formData.daily_message_limit\" type=\"number\"\n              class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"1000\" />\n          </div>\n        </div>\n\n        <div class=\"space-y-3\">\n          <div class=\"flex items-center space-x-2\">\n            <input id=\"enable-broadcasting-edit\" v-model=\"formData.enable_broadcasting\" type=\"checkbox\"\n              class=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\">\n            <label for=\"enable-broadcasting-edit\" class=\"text-sm text-gray-700\">\n              {{__('Cho phép broadcast đến followers')}}\n            </label>\n          </div>\n\n          <div class=\"flex items-center space-x-2\">\n            <input id=\"auto-sync-templates\" v-model=\"formData.auto_sync_templates\" type=\"checkbox\"\n              class=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\">\n            <label for=\"auto-sync-templates\" class=\"text-sm text-gray-700\">\n              {{__('Tự động đồng bộ templates')}}\n            </label>\n          </div>\n\n          <div class=\"flex items-center space-x-2\">\n            <input id=\"debug-mode-edit\" v-model=\"formData.debug_mode\" type=\"checkbox\"\n              class=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\">\n            <label for=\"debug-mode-edit\" class=\"text-sm text-gray-700\">\n              {{__('Bật chế độ debug')}}\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <!-- Danger Zone -->\n      <div class=\"space-y-4 pt-6 border-t border-red-200\">\n        <h4 class=\"font-medium text-red-900\">{{__('Vùng nguy hiểm')}}</h4>\n\n        <div class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <div class=\"flex items-start\">\n            <FeatherIcon name=\"alert-triangle\" class=\"w-5 h-5 text-red-600 mr-3 mt-0.5\" />\n            <div class=\"flex-1\">\n              <h5 class=\"font-medium text-red-900\">{{__('Ngắt kết nối Zalo OA')}}</h5>\n              <p class=\"text-sm text-red-700 mt-1\">\n                {{__('Hành động này sẽ xóa kết nối với Zalo OA và dừng tất cả hoạt động tự động.')}}\n              </p>\n              <Button variant=\"ghost\" class=\"mt-3 text-red-600 hover:bg-red-100\" @click=\"confirmDisconnect\">\n                {{__('Ngắt kết nối Zalo OA')}}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Actions -->\n    <div class=\"flex justify-end space-x-3 pt-6 border-t\">\n      <Button variant=\"ghost\" @click=\"$emit('cancel')\">\n        {{__('Hủy')}}\n      </Button>\n\n      <Button variant=\"solid\" @click=\"handleSubmit\" :loading=\"submitting\" :disabled=\"!isFormValid\">\n        {{ isEdit ? __('Cập nhật cài đặt') : __('Kết nối Zalo OA') }}\n      </Button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, reactive, onMounted } from 'vue'\nimport { Button, Badge, Dropdown, FeatherIcon, toast, call } from 'frappe-ui'\n\n// Props\nconst props = defineProps({\n  platform: {\n    type: Object,\n    required: true\n  },\n  connectionType: {\n    type: String,\n    required: true\n  },\n  isEdit: {\n    type: Boolean,\n    default: false\n  },\n  existingConnection: {\n    type: Object,\n    default: null\n  },\n  modelValue: {\n    type: Object,\n    default: () => ({})\n  }\n})\nimport { usersStore } from \"@/stores/user\";\n// Emits\nconst emit = defineEmits(['submit', 'cancel', 'update:modelValue'])\nconst { userResource, allUsers, getUser } = usersStore();\n// Reactive data\nconst submitting = ref(false)\nconst syncing = ref(false)\nconst refreshingTemplates = ref(false)\nconst messageTemplates = ref([])\nconst oaInfo = ref({})\nconst oaStmira = ref({})\n\nconst formData = reactive({\n  tenant_name: '',\n  user_email: getUser?.data?.email,\n  full_name: getUser?.data?.full_name,\n  hook_url: '',\n  redirect_url: '',\n  enable_broadcasting: true,\n  daily_message_limit: 1000,\n  message_priority: 'normal',\n  sync_frequency: 'Hourly',\n  max_retries: 3,\n  debug_mode: false,\n  auto_sync_templates: true\n})\n\n// Computed\nconst defaultHookUrl = computed(() => {\n  return `${window.location.origin}/api/method/mbw_mira.api.external_connections.handle_webhook`\n})\n\nconst defaultRedirectUrl = computed(() => {\n  return `${window.location.origin}/mbw_mira/connectors`\n})\n\nconst isFormValid = computed(() => {\n  if (props.isEdit) {\n    return true // For edit mode, basic validation\n  }\n\n  return     formData.user_email &&\n    formData.full_name &&\n    formData.hook_url &&\n    formData.redirect_url\n})\n\nconst zaloPermissions = [\n  {\n    label: __('Thông tin OA'),\n    value: 'oa_info',\n    description: __('Truy cập thông tin cơ bản của Official Account')\n  },\n  {\n    label: __('Gửi tin nhắn'),\n    value: 'send_message',\n    description: __('Gửi tin nhắn đến người dùng')\n  },\n  {\n    label: __('Quản lý followers'),\n    value: 'manage_followers',\n    description: __('Truy cập và quản lý danh sách người theo dõi')\n  },\n  {\n    label: __('Broadcast messages'),\n    value: 'broadcast',\n    description: __('Gửi tin nhắn broadcast đến nhiều người dùng')\n  }\n]\n\n// Methods\nconst handleSubmit = async () => {\n  if (!isFormValid.value) return\n\n  try {\n    submitting.value = true\n\n    const submitData = {\n      ...formData,\n      hook_url: formData.hook_url || defaultHookUrl.value,\n      redirect_url: formData.redirect_url || defaultRedirectUrl.value\n    }\n\n    emit('submit', submitData)\n  } catch (error) {\n    console.error('Error submitting form:', error)\n  } finally {\n    submitting.value = false\n  }\n}\n\nconst syncNow = async () => {\n  try {\n    syncing.value = true\n\n    let response = await call('mbw_mira.api.external_connections.sync_accounts', {\n      connection_id: props.existingConnection.connection_id,\n      force_sync: true\n    })\n    if (response && response.status == \"success\") {\n      toast({\n        title: __('Thành công'),\n        text: __('Đồng bộ Zalo OA thành công'),\n        icon: 'check',\n        iconClasses: 'text-green-500'\n      })\n\n      await loadOAInfo()\n    } else {\n      toast({\n        title: __('Lỗi'),\n        text: __('Đồng bộ Zalo OA thất bại'),\n        icon: 'x',\n        iconClasses: 'text-red-500'\n      })\n    }\n  } catch (error) {\n    console.error('Error syncing:', error)\n    toast({\n      title: __('Lỗi'),\n      text: __('Đồng bộ Zalo OA thất bại'),\n      icon: 'x',\n      iconClasses: 'text-red-500'\n    })\n  } finally {\n    syncing.value = false\n  }\n}\n\nconst refreshTemplates = async () => {\n  try {\n    refreshingTemplates.value = true\n    await loadMessageTemplates()\n\n    toast({\n      title: __('Thành công'),\n      text: __('Làm mới templates thành công'),\n      icon: 'check',\n      iconClasses: 'text-green-500'\n    })\n  } catch (error) {\n    console.error('Error refreshing templates:', error)\n    toast({\n      title: __('Lỗi'),\n      text: __('Làm mới templates thất bại'),\n      icon: 'x',\n      iconClasses: 'text-red-500'\n    })\n  } finally {\n    refreshingTemplates.value = false\n  }\n}\n\nconst loadOAInfo = async () => {\n  if (!props.existingConnection) return\n\n  try {\n    const response = await call('mbw_mira.api.external_connections.get_account_details', {\n      connection_id: props.existingConnection.connection_id\n    })\n\n    oaInfo.value = response.oa_info || {}\n    oaStmira.value = response.oa_stmira || {}\n  } catch (error) {\n    console.error('Error loading OA info:', error)\n  }\n}\n\nconst loadMessageTemplates = async () => {\n  if (!props.existingConnection) return\n\n  try {\n    // Mock data - replace with actual API call\n    messageTemplates.value = [\n      {\n        id: 'template_1',\n        name: __('Thông báo tuyển dụng'),\n        content: __('Chúng tôi đang tuyển dụng vị trí {{job_title}}. Ứng tuyển ngay!'),\n        status: 'approved'\n      },\n      {\n        id: 'template_2',\n        name: __('Lời chào ứng viên'),\n        content: __('Xin chào! Cảm ơn bạn đã quan tâm đến vị trí {{job_title}}.'),\n        status: 'pending'\n      }\n    ]\n  } catch (error) {\n    console.error('Error loading templates:', error)\n  }\n}\n\nconst getTemplateActions = (template) => {\n  return [\n    {\n      label: __('Xem chi tiết'),\n      icon: 'eye',\n      onClick: () => viewTemplate(template)\n    },\n    {\n      label: __('Sử dụng template'),\n      icon: 'copy',\n      onClick: () => useTemplate(template)\n    }\n  ]\n}\n\nconst viewTemplate = (template) => {\n  // Implement template viewing\n  toast({\n    title: __('Thông tin'),\n    text: __('Chức năng xem template sẽ được triển khai'),\n    icon: 'info',\n    iconClasses: 'text-blue-500'\n  })\n}\n\nconst useTemplate = (template) => {\n  // Implement template usage\n  toast({\n    title: __('Thông tin'),\n    text: `${__('Template ')}\"${template.name}\"${__(' đã được sao chép')}`,\n    icon: 'info',\n    iconClasses: 'text-blue-500'\n  })\n}\n\nconst confirmDisconnect = () => {\n  if (confirm(__('Bạn có chắc chắn muốn ngắt kết nối Zalo OA? Hành động này không thể hoàn tác.'))) {\n    emit('submit', { action: 'disconnect' })\n  }\n}\n\nconst formatDate = (dateString) => {\n  if (!dateString) return __('Chưa bao giờ')\n  return new Date(dateString).toLocaleString('vi-VN')\n}\n\n// Lifecycle\nonMounted(() => {\n  if (props.isEdit && props.existingConnection) {\n    // Populate form with existing data\n    Object.assign(formData, {\n      tenant_name: props.existingConnection.tenant_name || window.location.origin,\n      user_email: props.existingConnection.user_email || '',\n      full_name: props.existingConnection.full_name || '',\n      hook_url: props.existingConnection.hook_url || defaultHookUrl.value,\n      redirect_url: props.existingConnection.redirect_url || defaultRedirectUrl.value,\n      sync_frequency: props.existingConnection.sync_frequency || 'Hourly',\n      daily_message_limit: props.existingConnection.daily_message_limit || 1000,\n      max_retries: props.existingConnection.max_retries || 3,\n      debug_mode: props.existingConnection.debug_mode || false,\n      enable_broadcasting: props.existingConnection.enable_broadcasting !== false,\n      auto_sync_templates: props.existingConnection.auto_sync_templates !== false\n    })\n\n    loadOAInfo()\n    loadMessageTemplates()\n  } else {\n    // Set defaults for new connection\n    formData.hook_url = defaultHookUrl.value\n    formData.redirect_url = defaultRedirectUrl.value\n  }\n\n  // Initialize parent with form data\n  emit('update:modelValue', { ...formData })\n})\n\n// Watch for changes and emit to parent\nimport { watch } from 'vue'\n\nwatch(formData, (newValue) => {\n  emit('update:modelValue', { ...newValue })\n}, { deep: true })\n\n// Watch for parent updates\nwatch(() => props.modelValue, (newValue) => {\n  if (newValue && Object.keys(newValue).length > 0) {\n    Object.assign(formData, newValue)\n  }\n}, { deep: true })\n</script>\n\n<style scoped>\n.zalo-connection-form {\n  max-height: 70vh;\n  overflow-y: auto;\n  padding-right: 8px;\n}\n\n/* Custom scrollbar */\n.zalo-connection-form::-webkit-scrollbar {\n  width: 6px;\n}\n\n.zalo-connection-form::-webkit-scrollbar-track {\n  background: #f1f1f1;\n  border-radius: 3px;\n}\n\n.zalo-connection-form::-webkit-scrollbar-thumb {\n  background: #c1c1c1;\n  border-radius: 3px;\n}\n\n.zalo-connection-form::-webkit-scrollbar-thumb:hover {\n  background: #a8a8a8;\n}\n</style>","<template>\n  <div class=\"calcom-connection-form space-y-4\">\n    <!-- Basic Information -->\n    <div class=\"space-y-4\">\n      <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Basic Information')}}</h4>\n      \n      <!-- <FormControl \n        :label=\"__('Tenant Name')\"\n        v-model=\"formData.tenant_name\"\n        :required=\"true\"\n        :readonly=\"isEdit\"\n        :placeholder=\"__('Enter tenant name')\"\n      /> -->\n      \n      <FormControl \n        :label=\"__('User Email')\"\n        type=\"email\"\n        v-model=\"formData.user_email\"\n        :required=\"true\"\n        :readonly=\"isEdit\"\n        :placeholder=\"__('user@company.com')\"\n      />\n      \n      <FormControl \n        :label=\"__('Full Name')\"\n        v-model=\"formData.full_name\"\n        :required=\"true\"\n        :placeholder=\"__('Enter full name')\"\n      />\n    </div>\n\n    <!-- Cal.com Configuration -->\n    <div class=\"space-y-4\">\n      <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Cal.com Configuration')}}</h4>\n      \n      <FormControl \n        :label=\"__('Cal.com Username')\"\n        v-model=\"formData.calcom_username\"\n        :required=\"true\"\n        :placeholder=\"__('your-username')\"\n        :description=\"__('Your Cal.com username (e.g., john-doe)')\"\n      />\n      \n      <FormControl \n        :label=\"__('API Key')\"\n        type=\"password\"\n        v-model=\"formData.api_key\"\n        :required=\"true\"\n        :placeholder=\"__('Your Cal.com API Key')\"\n        :description=\"__('Get this from Cal.com API settings')\"\n      />\n      \n      <FormControl \n        :label=\"__('Cal.com Instance URL')\"\n        v-model=\"formData.instance_url\"\n        :placeholder=\"__('https://cal.com')\"\n        :description=\"__('Leave empty for default Cal.com, or enter your self-hosted URL')\"\n      />\n      \n      <FormControl \n        type=\"select\"\n        :label=\"__('Account Type')\"\n        v-model=\"formData.account_type\"\n        :options=\"accountTypeOptions\"\n        :required=\"true\"\n        :description=\"__('Type of your Cal.com account')\"\n      />\n    </div>\n\n    <!-- Webhook Configuration -->\n    <div class=\"space-y-4\">\n      <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Webhook Configuration')}}</h4>\n      \n      <FormControl \n        :label=\"__('Hook URL')\"\n        v-model=\"formData.hook_url\"\n        :required=\"true\"\n        :placeholder=\"__('https://your-domain.com/api/webhook/calcom')\"\n        :description=\"__('URL to receive Cal.com webhooks')\"\n      />\n      \n      <FormControl \n        :label=\"__('Redirect URL')\"\n        v-model=\"formData.redirect_url\"\n        :required=\"true\"\n        :placeholder=\"__('https://your-domain.com/auth/calcom/callback')\"\n        :description=\"__('OAuth redirect URL after authentication')\"\n      />\n      \n      <FormControl \n        :label=\"__('Webhook Secret')\"\n        v-model=\"formData.webhook_secret\"\n        :placeholder=\"__('Auto-generated if empty')\"\n        :description=\"__('Secret for webhook signature verification')\"\n      />\n    </div>\n\n    <!-- Calendar Integration -->\n    <div class=\"space-y-4\">\n      <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Calendar Integration')}}</h4>\n      \n      <div class=\"bg-orange-50 rounded-lg p-3\">\n        <div class=\"flex items-center gap-2 mb-2\">\n          <FeatherIcon name=\"calendar\" class=\"w-4 h-4 text-orange-600\" />\n          <span class=\"text-sm font-medium text-orange-900\">{{__('Calendar Sync')}}</span>\n        </div>\n        <div class=\"text-xs text-orange-700\">\n          {{__('Configure how bookings sync with your calendar system')}}\n        </div>\n      </div>\n\n      <FormControl \n        type=\"select\"\n        :label=\"__('Primary Calendar')\"\n        v-model=\"formData.primary_calendar\"\n        :options=\"calendarOptions\"\n        :description=\"__('Which calendar to use for bookings')\"\n      />\n      \n      <FormControl \n        type=\"checkbox\"\n        :label=\"__('Two-way sync')\"\n        v-model=\"formData.two_way_sync\"\n        :description=\"__('Sync events both from and to Cal.com')\"\n      />\n      \n      <FormControl \n        type=\"number\"\n        :label=\"__('Buffer Time (minutes)')\"\n        v-model=\"formData.buffer_time\"\n        :placeholder=\"__('15')\"\n        :description=\"__('Buffer time between bookings')\"\n      />\n    </div>\n\n    <!-- Event Types Management -->\n    <div class=\"space-y-4\" v-if=\"isEdit && existingConnection\">\n      <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Event Types')}}</h4>\n      \n      <FormControl \n        type=\"checkbox\"\n        :label=\"__('Auto-sync event types')\"\n        v-model=\"formData.auto_sync_event_types\"\n        :description=\"__('Automatically sync new event types from Cal.com')\"\n      />\n      \n      <FormControl \n        type=\"select\"\n        :label=\"__('Default Event Duration')\"\n        v-model=\"formData.default_duration\"\n        :options=\"durationOptions\"\n        :description=\"__('Default duration for new event types')\"\n      />\n      \n      <FormControl \n        type=\"checkbox\"\n        :label=\"__('Allow cancellations')\"\n        v-model=\"formData.allow_cancellations\"\n        :description=\"__('Allow attendees to cancel bookings')\"\n      />\n    </div>\n\n    <!-- Notification Settings -->\n    <div class=\"space-y-4\">\n      <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Notification Settings')}}</h4>\n      \n      <FormControl \n        type=\"checkbox\"\n        :label=\"__('Email notifications')\"\n        v-model=\"formData.email_notifications\"\n        :description=\"__('Send email notifications for bookings')\"\n      />\n      \n      <FormControl \n        type=\"checkbox\"\n        :label=\"__('SMS notifications')\"\n        v-model=\"formData.sms_notifications\"\n        :description=\"__('Send SMS notifications for bookings')\"\n      />\n      \n      <FormControl \n        type=\"select\"\n        :label=\"__('Reminder timing')\"\n        v-model=\"formData.reminder_timing\"\n        :options=\"reminderOptions\"\n        :description=\"__('When to send booking reminders')\"\n      />\n      \n      <FormControl \n        :label=\"__('Custom reminder message')\"\n        type=\"textarea\"\n        v-model=\"formData.custom_reminder\"\n        :placeholder=\"__('Don\\'t forget about your upcoming appointment...')\"\n        :description=\"__('Custom message for booking reminders')\"\n      />\n    </div>\n\n    <!-- Availability Settings -->\n    <div class=\"space-y-4\">\n      <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Availability Settings')}}</h4>\n      \n      <FormControl \n        type=\"select\"\n        :label=\"__('Timezone')\"\n        v-model=\"formData.timezone\"\n        :options=\"timezoneOptions\"\n        :description=\"__('Default timezone for bookings')\"\n      />\n      \n      <FormControl \n        type=\"number\"\n        :label=\"__('Booking lead time (hours)')\"\n        v-model=\"formData.booking_lead_time\"\n        :placeholder=\"__('24')\"\n        :description=\"__('Minimum hours in advance for bookings')\"\n      />\n      \n      <FormControl \n        type=\"number\"\n        :label=\"__('Max bookings per day')\"\n        v-model=\"formData.max_bookings_per_day\"\n        :placeholder=\"__('10')\"\n        :description=\"__('Maximum number of bookings per day')\"\n      />\n    </div>\n\n    <!-- Integration Settings -->\n    <div class=\"space-y-4\">\n      <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Integration Settings')}}</h4>\n      \n      <FormControl \n        type=\"checkbox\"\n        :label=\"__('Create contacts automatically')\"\n        v-model=\"formData.auto_create_contacts\"\n        :description=\"__('Automatically create contacts for new bookings')\"\n      />\n      \n      <FormControl \n        type=\"select\"\n        :label=\"__('Contact source')\"\n        v-model=\"formData.contact_source\"\n        :options=\"contactSourceOptions\"\n        :description=\"__('How to categorize contacts from bookings')\"\n      />\n      \n      <FormControl \n        type=\"checkbox\"\n        :label=\"__('Sync booking history')\"\n        v-model=\"formData.sync_booking_history\"\n        :description=\"__('Import existing booking history')\"\n      />\n    </div>\n\n    <!-- Advanced Settings -->\n    <div class=\"space-y-4\">\n      <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Advanced Settings')}}</h4>\n      \n      <FormControl \n        type=\"select\"\n        :label=\"__('Sync Frequency')\"\n        v-model=\"formData.sync_frequency\"\n        :options=\"syncFrequencyOptions\"\n        :description=\"__('How often to sync data from Cal.com')\"\n      />\n      \n      <FormControl \n        type=\"number\"\n        :label=\"__('Max Retries')\"\n        v-model=\"formData.max_retries\"\n        :placeholder=\"__('3')\"\n        :description=\"__('Maximum number of retry attempts for failed requests')\"\n      />\n      \n      <FormControl \n        type=\"checkbox\"\n        :label=\"__('Enable Debug Mode')\"\n        v-model=\"formData.debug_mode\"\n        :description=\"__('Enable detailed logging for troubleshooting')\"\n      />\n    </div>\n\n    <!-- Required Permissions -->\n    <div class=\"space-y-4\">\n      <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Required Permissions')}}</h4>\n      \n      <div class=\"grid grid-cols-1 gap-3\">\n        <div \n          v-for=\"permission in calcomPermissions\" \n          :key=\"permission.value\"\n          class=\"flex items-start gap-2\"\n        >\n          <input \n            type=\"checkbox\" \n            :id=\"permission.value\"\n            v-model=\"formData.permissions\"\n            :value=\"permission.value\"\n            class=\"mt-1\"\n          />\n          <label :for=\"permission.value\" class=\"text-sm\">\n            <div class=\"font-medium text-gray-900\">{{ __(permission.label) }}</div>\n            <div class=\"text-xs text-gray-500\">{{ __(permission.description) }}</div>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, watch, computed, onMounted } from 'vue'\nimport { FormControl, FeatherIcon } from 'frappe-ui'\n\n// Props\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    default: () => ({})\n  },\n  platform: {\n    type: Object,\n    required: true\n  },\n  isEdit: {\n    type: Boolean,\n    default: false\n  },\n  existingConnection: {\n    type: Object,\n    default: null\n  }\n})\n\n// Emits\nconst emit = defineEmits(['update:modelValue'])\n\n// Form data\nconst formData = reactive({\n  // Basic fields\n  tenant_name: '',\n  user_email: '',\n  full_name: '',\n  \n  // Cal.com specific\n  calcom_username: '',\n  api_key: '',\n  instance_url: 'https://cal.com',\n  account_type: 'personal',\n  \n  // Webhook\n  hook_url: '',\n  redirect_url: '',\n  webhook_secret: '',\n  \n  // Calendar\n  primary_calendar: 'google',\n  two_way_sync: true,\n  buffer_time: 15,\n  \n  // Event types\n  auto_sync_event_types: true,\n  default_duration: 30,\n  allow_cancellations: true,\n  \n  // Notifications\n  email_notifications: true,\n  sms_notifications: false,\n  reminder_timing: '24h',\n  custom_reminder: '',\n  \n  // Availability\n  timezone: 'Asia/Ho_Chi_Minh',\n  booking_lead_time: 24,\n  max_bookings_per_day: 10,\n  \n  // Integration\n  auto_create_contacts: true,\n  contact_source: 'booking',\n  sync_booking_history: false,\n  \n  // Settings\n  sync_frequency: 'hourly',\n  max_retries: 3,\n  debug_mode: false,\n  permissions: ['bookings', 'event_types', 'availability']\n})\n\n// Options\nconst accountTypeOptions = [\n  { label: __('Personal Account'), value: 'personal' },\n  { label: __('Team Account'), value: 'team' },\n  { label: __('Organization'), value: 'organization' }\n]\n\nconst calendarOptions = [\n  { label: __('Google Calendar'), value: 'google' },\n  { label: __('Outlook Calendar'), value: 'outlook' },\n  { label: __('Apple Calendar'), value: 'apple' },\n  { label: __('CalDAV'), value: 'caldav' }\n]\n\nconst durationOptions = [\n  { label: __('15 minutes'), value: 15 },\n  { label: __('30 minutes'), value: 30 },\n  { label: __('45 minutes'), value: 45 },\n  { label: __('1 hour'), value: 60 },\n  { label: __('1.5 hours'), value: 90 },\n  { label: __('2 hours'), value: 120 }\n]\n\nconst reminderOptions = [\n  { label: __('1 hour before'), value: '1h' },\n  { label: __('24 hours before'), value: '24h' },\n  { label: __('48 hours before'), value: '48h' },\n  { label: __('1 week before'), value: '1w' }\n]\n\nconst timezoneOptions = [\n  { label: __('Ho Chi Minh City (GMT+7)'), value: 'Asia/Ho_Chi_Minh' },\n  { label: __('Bangkok (GMT+7)'), value: 'Asia/Bangkok' },\n  { label: __('Singapore (GMT+8)'), value: 'Asia/Singapore' },\n  { label: __('Tokyo (GMT+9)'), value: 'Asia/Tokyo' },\n  { label: __('UTC'), value: 'UTC' }\n]\n\nconst contactSourceOptions = [\n  { label: __('Calendar Booking'), value: 'booking' },\n  { label: __('Calendar Integration'), value: 'calendar' },\n  { label: __('Scheduling'), value: 'scheduling' }\n]\n\nconst syncFrequencyOptions = [\n  { label: __('Every 5 minutes'), value: '5min' },\n  { label: __('Every 15 minutes'), value: '15min' },\n  { label: __('Every 30 minutes'), value: '30min' },\n  { label: __('Every hour'), value: 'hourly' },\n  { label: __('Every 6 hours'), value: '6hourly' },\n  { label: __('Daily'), value: 'daily' }\n]\n\nconst calcomPermissions = [\n  {\n    label: __('Bookings'),\n    value: 'bookings',\n    description: __('Access and manage bookings')\n  },\n  {\n    label: __('Event Types'),\n    value: 'event_types',\n    description: __('Access and manage event types')\n  },\n  {\n    label: __('Availability'),\n    value: 'availability',\n    description: __('Access availability information')\n  },\n  {\n    label: __('Calendar Integration'),\n    value: 'calendar',\n    description: __('Connect and sync with calendars')\n  },\n  {\n    label: __('Webhooks'),\n    value: 'webhooks',\n    description: __('Receive webhook notifications')\n  },\n  {\n    label: __('User Profile'),\n    value: 'profile',\n    description: __('Access user profile information')\n  }\n]\n\n// Watchers\nwatch(formData, (newValue) => {\n  emit('update:modelValue', { ...newValue })\n}, { deep: true })\n\nwatch(() => props.modelValue, (newValue) => {\n  if (newValue) {\n    Object.assign(formData, newValue)\n  }\n}, { deep: true, immediate: true })\n\n// Initialize form data for edit mode\nonMounted(() => {\n  if (props.isEdit && props.existingConnection) {\n    // Populate form with existing connection data\n    Object.assign(formData, {\n      tenant_name: props.existingConnection.tenant_name || '',\n      user_email: props.existingConnection.user_email || '',\n      full_name: props.existingConnection.full_name || '',\n      hook_url: props.existingConnection.hook_url || '',\n      redirect_url: props.existingConnection.redirect_url || '',\n      sync_frequency: props.existingConnection.sync_frequency || 'hourly',\n      max_retries: props.existingConnection.max_retries || 3,\n      // Parse settings if stored as JSON\n      ...parseSettings(props.existingConnection.settings)\n    })\n  }\n})\n\n// Helper function to parse settings\nfunction parseSettings(settings) {\n  try {\n    return typeof settings === 'string' ? JSON.parse(settings) : settings || {}\n  } catch (e) {\n    return {}\n  }\n}\n</script>\n\n<style scoped>\n.calcom-connection-form {\n  max-height: 60vh;\n  overflow-y: auto;\n  padding-right: 8px;\n}\n\n/* Custom scrollbar */\n.calcom-connection-form::-webkit-scrollbar {\n  width: 6px;\n}\n\n.calcom-connection-form::-webkit-scrollbar-track {\n  background: #f1f1f1;\n  border-radius: 3px;\n}\n\n.calcom-connection-form::-webkit-scrollbar-thumb {\n  background: #c1c1c1;\n  border-radius: 3px;\n}\n\n.calcom-connection-form::-webkit-scrollbar-thumb:hover {\n  background: #a8a8a8;\n}\n</style>","<template>\n  <div class=\"topcv-connection-form\">\n    <!-- Platform Info Banner -->\n    <!-- <div class=\"flex items-center gap-4 p-4 bg-purple-50 rounded-lg mb-6\">\n      <div class=\"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center\">\n        <FeatherIcon name=\"briefcase\" class=\"w-6 h-6 text-white\" />\n      </div>\n      <div>\n        <h3 class=\"font-semibold text-gray-900\">{{__('TopCV Integration')}}</h3>\n        <p class=\"text-sm text-gray-600\">\n          {{ isEdit ? __('Update your TopCV connection settings') : __('Connect your TopCV account to manage job postings') }}\n        </p>\n      </div>\n    </div> -->\n\n    <!-- Current Connected Accounts (Show in edit mode) -->\n    <div v-if=\"isEdit && hasConnectedAccounts\" class=\"space-y-4 mb-6\">\n      <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{ __('Connected Accounts') }}</h4>\n\n      <div class=\"bg-green-50 rounded-lg p-4\">\n        <div class=\"flex items-center gap-2 mb-3\">\n          <FeatherIcon name=\"check-circle\" class=\"w-5 h-5 text-green-600\" />\n          <h5 class=\"font-medium text-green-800\">{{ __('Active TopCV Accounts') }}</h5>\n        </div>\n\n        <div class=\"space-y-2\">\n          <div v-for=\"account in connectedAccountsList\" :key=\"account.external_account_id\"\n            class=\"flex items-center justify-between p-3 bg-white rounded border\">\n            <div class=\"flex items-center gap-3\">\n              <div class=\"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center\">\n                <FeatherIcon name=\"briefcase\" class=\"w-4 h-4 text-purple-600\" />\n              </div>\n              <div>\n                <div class=\"font-medium text-gray-900\">{{ account.account_name }}</div>\n                <div class=\"text-xs text-gray-500\">{{ account.account_type }} • ID: {{ account.external_account_id }}\n                </div>\n              </div>\n            </div>\n            <div class=\"flex items-center gap-2\">\n              <Badge v-if=\"account.is_primary\" variant=\"success\" size=\"sm\">{{ __('Primary') }}</Badge>\n              <Badge :variant=\"account.is_active ? 'success' : 'gray'\" size=\"sm\">\n                {{ account.is_active ? __('Active') : __('Inactive') }}\n              </Badge>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Connection Form -->\n    <div class=\"space-y-6\">\n      <!-- Basic Information -->\n      <!-- <div class=\"space-y-4\">\n        <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{ __('Basic Information') }}</h4>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <FormControl :label=\"__('Tenant Name')\" v-model=\"localFormData.tenant_name\"\n            :placeholder=\"__('Your organization tenant name')\" :required=\"true\" :error=\"validationErrors.tenant_name\"\n            :description=\"__('Unique identifier for your organization')\" />\n        </div>\n      </div> -->\n\n      <!-- TopCV API Configuration -->\n      <div class=\"space-y-4\">\n        <div class=\"flex items-center justify-between border-b pb-2\">\n          <h4 class=\"font-medium text-gray-900\">{{ __('TopCV API Configuration') }}</h4>\n          <Button @click=\"showApiSetupGuide = !showApiSetupGuide\" variant=\"ghost\" size=\"sm\">\n            <template #prefix>\n              <FeatherIcon name=\"help-circle\" class=\"w-4 h-4\" />\n            </template>\n            {{ __('Setup Guide') }}\n          </Button>\n        </div>\n\n        <!-- Setup Guide (Collapsible) -->\n        <div v-if=\"showApiSetupGuide\" class=\"bg-gray-50 rounded-lg p-4 space-y-3\">\n          <h5 class=\"font-medium text-gray-800\">{{ __('TopCV API Setup Instructions:') }}</h5>\n          <ol class=\"text-sm text-gray-700 space-y-2 list-decimal list-inside\">\n            <li>{{ __('Login to your TopCV employer account') }}</li>\n            <li>{{ __('Navigate to \"API Settings\" or \"Developer Settings\" section') }}</li>\n            <li>{{ __('Generate or retrieve your API Key and Secret Key') }}</li>\n            <li>{{ __('Copy the credentials and paste them in the form below') }}</li>\n            <li>{{ __('Configure webhook URL for receiving notifications') }}</li>\n          </ol>\n          <div class=\"text-xs text-gray-600 bg-white p-2 rounded border\">\n            <strong>{{ __('Webhook URL:') }}</strong> {{ computedHookUrl }}\n          </div>\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <FormControl :label=\"__('API Key')\" type=\"password\" v-model=\"localFormData.api_key\"\n            :placeholder=\"__('Enter your TopCV API Key')\" :required=\"true\" :error=\"validationErrors.api_key\"\n            :description=\"__('Get this from TopCV API settings')\" />\n\n          <FormControl :label=\"__('Secret Key')\" type=\"password\" v-model=\"localFormData.client_secret\"\n            :placeholder=\"__('Enter your TopCV Secret Key')\" :required=\"true\" :error=\"validationErrors.client_secret\"\n            :description=\"__('Keep this secure - never share publicly')\" />\n        </div>\n\n        <!-- API Security Info -->\n        <div class=\"bg-blue-50 rounded-lg p-4\">\n          <div class=\"flex items-start gap-3\">\n            <FeatherIcon name=\"shield-check\" class=\"w-5 h-5 text-blue-600 mt-0.5\" />\n            <div>\n              <h5 class=\"font-medium text-blue-900\">{{ __('Secure API Connection') }}</h5>\n              <p class=\"text-sm text-blue-700 mt-1\">\n                {{ __('Your API credentials are encrypted and stored securely. They are used only for authorized TopCV operations.')}}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Connection Settings -->\n      <!-- <div class=\"space-y-4\">\n        <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Connection Settings')}}</h4>\n        \n        <FormControl\n          :label=\"__('Hook URL')\"\n          v-model=\"localFormData.hook_url\"\n          :placeholder=\"__('https://your-domain.com/api/webhooks/topcv')\"\n          :required=\"true\"\n          :error=\"validationErrors.hook_url\"\n          :description=\"__('URL where TopCV will send webhook notifications')\"\n        />\n\n        <div class=\"space-y-3\">\n          <h5 class=\"text-sm font-medium text-gray-700\">{{__('TopCV Permissions')}}</h5>\n          <div class=\"space-y-2\">\n            <div \n              v-for=\"permission in availablePermissions\" \n              :key=\"permission.key\"\n              class=\"flex items-center space-x-3\"\n            >\n              <input\n                :id=\"`permission-${permission.key}`\"\n                type=\"checkbox\"\n                :checked=\"localFormData.permissions.includes(permission.key)\"\n                @change=\"togglePermission(permission.key)\"\n                class=\"rounded border-gray-300 text-purple-600 focus:ring-purple-500\"\n              >\n              <label :for=\"`permission-${permission.key}`\" class=\"text-sm\">\n                <span class=\"font-medium text-gray-900\">{{ __(permission.label) }}</span>\n                <span class=\"block text-xs text-gray-500\">{{ __(permission.description) }}</span>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div> -->\n\n      <!-- Job Management Settings -->\n      <!-- <div class=\"space-y-4\">\n        <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Job Management Settings')}}</h4>\n        \n        <div class=\"space-y-3\">\n          <div class=\"flex items-center space-x-3\">\n            <input\n              id=\"auto-post-jobs\"\n              type=\"checkbox\"\n              v-model=\"localFormData.auto_post_jobs\"\n              class=\"rounded border-gray-300 text-purple-600 focus:ring-purple-500\"\n            >\n            <label for=\"auto-post-jobs\" class=\"text-sm\">\n              <span class=\"font-medium text-gray-900\">{{__('Auto-post jobs')}}</span>\n              <span class=\"block text-xs text-gray-500\">{{__('Automatically post new jobs to TopCV')}}</span>\n            </label>\n          </div>\n\n          <div class=\"flex items-center space-x-3\">\n            <input\n              id=\"auto-import-applications\"\n              type=\"checkbox\"\n              v-model=\"localFormData.auto_import_applications\"\n              class=\"rounded border-gray-300 text-purple-600 focus:ring-purple-500\"\n            >\n            <label for=\"auto-import-applications\" class=\"text-sm\">\n              <span class=\"font-medium text-gray-900\">{{__('Auto-import applications')}}</span>\n              <span class=\"block text-xs text-gray-500\">{{__('Automatically import job applications from TopCV')}}</span>\n            </label>\n          </div>\n\n          <div class=\"flex items-center space-x-3\">\n            <input\n              id=\"sync-candidate-profiles\"\n              type=\"checkbox\"\n              v-model=\"localFormData.sync_candidate_profiles\"\n              class=\"rounded border-gray-300 text-purple-600 focus:ring-purple-500\"\n            >\n            <label for=\"sync-candidate-profiles\" class=\"text-sm\">\n              <span class=\"font-medium text-gray-900\">{{__('Sync candidate profiles')}}</span>\n              <span class=\"block text-xs text-gray-500\">{{__('Import candidate CV and profile information')}}</span>\n            </label>\n          </div>\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <FormControl\n            :label=\"__('Default job duration (days)')\"\n            type=\"number\"\n            v-model=\"localFormData.job_duration\"\n            :placeholder=\"__('30')\"\n            :error=\"validationErrors.job_duration\"\n            :description=\"__('How long jobs stay active on TopCV')\"\n          />\n\n          <FormControl\n            :label=\"__('Sync frequency')\"\n            type=\"select\"\n            v-model=\"localFormData.sync_frequency\"\n            :options=\"syncFrequencyOptions\"\n            :description=\"__('How often to sync data from TopCV')\"\n          />\n        </div>\n      </div> -->\n\n      <!-- Advanced Settings -->\n      <!-- <div v-if=\"showAdvancedSettings\" class=\"space-y-4\">\n        <h4 class=\"font-medium text-gray-900 border-b pb-2\">{{__('Advanced Settings')}}</h4>\n        \n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <FormControl\n            :label=\"__('Connection timeout (seconds)')\"\n            type=\"number\"\n            v-model=\"localFormData.timeout\"\n            :placeholder=\"__('30')\"\n            :error=\"validationErrors.timeout\"\n            :description=\"__('Request timeout for TopCV API calls')\"\n          />\n          \n          <FormControl\n            :label=\"__('Max retry attempts')\"\n            type=\"number\"\n            v-model=\"localFormData.max_retries\"\n            :placeholder=\"__('3')\"\n            :error=\"validationErrors.max_retries\"\n            :description=\"__('Maximum retry attempts for failed requests')\"\n          />\n        </div>\n\n        <div class=\"space-y-3\">\n          <div class=\"flex items-center space-x-3\">\n            <input\n              id=\"enable-resume-search\"\n              type=\"checkbox\"\n              v-model=\"localFormData.enable_resume_search\"\n              class=\"rounded border-gray-300 text-purple-600 focus:ring-purple-500\"\n            >\n            <label for=\"enable-resume-search\" class=\"text-sm\">\n              <span class=\"font-medium text-gray-900\">{{__('Enable resume search')}}</span>\n              <span class=\"block text-xs text-gray-500\">{{__('Access TopCV resume database for candidate search')}}</span>\n            </label>\n          </div>\n\n          <div class=\"flex items-center space-x-3\">\n            <input\n              id=\"debug-mode\"\n              type=\"checkbox\"\n              v-model=\"localFormData.debug_mode\"\n              class=\"rounded border-gray-300 text-purple-600 focus:ring-purple-500\"\n            >\n            <label for=\"debug-mode\" class=\"text-sm\">\n              <span class=\"font-medium text-gray-900\">{{__('Enable debug mode')}}</span>\n              <span class=\"block text-xs text-gray-500\">{{__('Enable detailed logging for troubleshooting')}}</span>\n            </label>\n          </div>\n        </div>\n\n        <FormControl\n          :label=\"__('Daily search limit')\"\n          type=\"number\"\n          v-model=\"localFormData.daily_search_limit\"\n          :placeholder=\"__('100')\"\n          :description=\"__('Maximum resume searches per day')\"\n        />\n      </div> -->\n\n      <!-- Test Connection -->\n      <div v-if=\"isEdit\" class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <h5 class=\"font-medium text-gray-900\">{{ __('Test Connection') }}</h5>\n            <p class=\"text-sm text-gray-600\">{{ __('Verify that your TopCV connection is working') }}</p>\n          </div>\n          <Button @click=\"testConnection\" variant=\"outline\" size=\"sm\" :loading=\"isTesting\">\n            <template #prefix>\n              <FeatherIcon name=\"zap\" class=\"w-4 h-4\" />\n            </template>\n            {{ __('Test') }}\n          </Button>\n        </div>\n\n        <div v-if=\"testResult\" class=\"mt-3 p-3 rounded border\"\n          :class=\"testResult.success ? 'border-green-200 bg-green-50' : 'border-red-200 bg-red-50'\">\n          <div class=\"flex items-center gap-2\">\n            <FeatherIcon :name=\"testResult.success ? 'check-circle' : 'x-circle'\" class=\"w-4 h-4\"\n              :class=\"testResult.success ? 'text-green-600' : 'text-red-600'\" />\n            <span class=\"text-sm font-medium\" :class=\"testResult.success ? 'text-green-800' : 'text-red-800'\">\n              {{ testResult.message }}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Actions -->\n    <div class=\"flex justify-between items-center pt-6 border-t\">\n      <!-- <Button\n        @click=\"toggleAdvancedSettings\"\n        variant=\"ghost\"\n        size=\"sm\"\n      >\n        {{ showAdvancedSettings ? __('Hide') : __('Show') }} {{__('Advanced Settings')}}\n      </Button> -->\n\n      <div class=\"flex gap-3\">\n        <Button @click=\"handleCancel\" variant=\"ghost\">\n          {{ __('Cancel') }}\n        </Button>\n\n        <Button @click=\"handleSubmit\" variant=\"solid\" :loading=\"isSubmitting\" :disabled=\"!isFormValid\">\n          {{ isEdit ? __('Update Connection') : __('Connect TopCV') }}\n        </Button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted, nextTick, shallowRef } from 'vue'\nimport { Button, FormControl, FeatherIcon, Badge, toast, call } from 'frappe-ui'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    default: () => ({})\n  },\n  platform: {\n    type: Object,\n    required: true\n  },\n  isEdit: {\n    type: Boolean,\n    default: false\n  },\n  existingConnection: {\n    type: Object,\n    default: () => ({})\n  },\n  connectedAccounts: {\n    type: Array,\n    default: () => []\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'submit', 'cancel'])\nimport { usersStore } from \"@/stores/user\";\nconst { userResource, allUsers, getUser } = usersStore();\n// State\nconst isSubmitting = ref(false)\nconst isTesting = ref(false)\nconst showApiSetupGuide = ref(false)\nconst showAdvancedSettings = ref(false)\nconst testResult = shallowRef(null)\nconst validationErrors = ref({})\n\n// Form data\nconst defaultFormData = {\n  user_email: getUser?.data?.email,\n  full_name: getUser?.data?.full_name,\n  tenant_name: '',\n  api_key: '',\n  client_secret: '',\n  hook_url: '',\n  redirect_url: '',\n  timeout: 30,\n  max_retries: 3,\n  permissions: ['job_posting', 'application_management', 'candidate_search'],\n  auto_post_jobs: true,\n  auto_import_applications: true,\n  sync_candidate_profiles: true,\n  job_duration: 30,\n  sync_frequency: 'Hourly',\n  enable_resume_search: false,\n  debug_mode: false,\n  daily_search_limit: 100\n}\n\nconst localFormData = ref({ ...defaultFormData })\n\n// Available permissions\nconst availablePermissions = [\n  {\n    key: 'job_posting',\n    label: 'Job Posting',\n    description: 'Create and manage job postings'\n  },\n  {\n    key: 'application_management',\n    label: 'Application Management',\n    description: 'Access and manage job applications'\n  },\n  {\n    key: 'candidate_search',\n    label: 'Candidate Search',\n    description: 'Search and access resume database'\n  },\n  {\n    key: 'company_profile',\n    label: 'Company Profile',\n    description: 'Manage company profile and information'\n  },\n  {\n    key: 'analytics',\n    label: 'Analytics & Reports',\n    description: 'Access hiring analytics and reports'\n  },\n  {\n    key: 'bulk_operations',\n    label: 'Bulk Operations',\n    description: 'Perform bulk operations on jobs and applications'\n  }\n]\n\n// Sync frequency options\nconst syncFrequencyOptions = [\n  { label: __('Every 5 minutes'), value: 'Every 5 minutes' },\n  { label: __('Every 15 minutes'), value: 'Every 15 minutes' },\n  { label: __('Every 30 minutes'), value: 'Every 30 minutes' },\n  { label: __('Every hour'), value: 'Hourly' },\n  { label: __('Real-time'), value: 'Real-time' },\n  { label: __('Daily'), value: 'daily' }\n]\n\n// Computed\nconst computedHookUrl = computed(() => {\n  return localFormData.value.hook_url || ''\n})\n\nconst computedRedirectUrl = computed(() => {\n  return localFormData.value.redirect_url || ''\n})\n\nconst isFormValid = computed(() => {\n  const form = localFormData.value\n  console.log(form)\n  return !!(\n    form.api_key?.trim() &&\n    form.client_secret?.trim() &&\n    Object.keys(validationErrors.value).length === 0\n  )\n})\n\nconst hasConnectedAccounts = computed(() => {\n  return connectedAccountsList.value.length > 0\n})\n\nconst connectedAccountsList = computed(() => {\n  return props.connectedAccounts.length > 0\n    ? props.connectedAccounts\n    : props.existingConnection?.accounts || []\n})\n\n// Helper methods\nconst isValidUrl = (string) => {\n  try {\n    new URL(string)\n    return true\n  } catch (_) {\n    return false\n  }\n}\n\nconst validateForm = () => {\n  const errors = {}\n  const form = localFormData.value\n\n  \n\n  if (!form.api_key?.trim()) {\n    errors.api_key = __('API Key is required')\n  }\n\n  if (!form.client_secret?.trim()) {\n    errors.client_secret = __('Secret Key is required')\n  }\n\n\n\n  // if (form.timeout && (form.timeout < 5 || form.timeout > 300)) {\n  //   errors.timeout = __('Timeout should be between 5 and 300 seconds')\n  // }\n\n  // if (form.max_retries && (form.max_retries < 1 || form.max_retries > 10)) {\n  //   errors.max_retries = __('Max retries should be between 1 and 10')\n  // }\n\n  // if (form.job_duration && (form.job_duration < 1 || form.job_duration > 365)) {\n  //   errors.job_duration = __('Job duration should be between 1 and 365 days')\n  // }\n\n  // if (form.daily_search_limit && (form.daily_search_limit < 1 || form.daily_search_limit > 1000)) {\n  //   errors.daily_search_limit = __('Daily search limit should be between 1 and 1000')\n  // }\n\n  validationErrors.value = errors\n  return Object.keys(errors).length === 0\n}\n\nconst togglePermission = (permissionKey) => {\n  const permissions = [...localFormData.value.permissions]\n  const index = permissions.indexOf(permissionKey)\n\n  if (index > -1) {\n    permissions.splice(index, 1)\n  } else {\n    permissions.push(permissionKey)\n  }\n\n  localFormData.value.permissions = permissions\n  emitModelUpdate()\n}\n\nconst toggleAdvancedSettings = () => {\n  showAdvancedSettings.value = !showAdvancedSettings.value\n}\n\n// API Methods - Following Facebook pattern\nconst testConnection = async () => {\n  if (!isFormValid.value) {\n    toast({\n      title: __('Validation Error'),\n      text: __('Please fix form errors before testing'),\n      icon: 'x',\n      iconClasses: 'text-red-600'\n    })\n    return\n  }\n\n  isTesting.value = true\n  testResult.value = null\n\n  try {\n    const response = await call('mbw_mira.api.external_connections.test_connection', {\n      tenant_name: localFormData.value.tenant_name,\n      connection_id:props.existingConnection.connection_id\n    })\n\n    if (response?.status === 'Success') {\n      testResult.value = {\n        success: true,\n        message: __('Connection test successful! TopCV API is configured properly.')\n      }\n    } else {\n      testResult.value = {\n        success: false,\n        message: response?.message || __('Connection test failed')\n      }\n    }\n\n  } catch (error) {\n    console.error('Connection test error:', error)\n    testResult.value = {\n      success: false,\n      message: error.message || __('Failed to test connection')\n    }\n  } finally {\n    isTesting.value = false\n  }\n}\n\n// Event handlers\nconst handleSubmit = async () => {\n  if (!validateForm()) {\n    toast({\n      title: __('Validation Error'),\n      text: __('Please fix the errors in the form'),\n      icon: 'x',\n      iconClasses: 'text-red-600'\n    })\n    return\n  }\n\n  isSubmitting.value = true\n\n  const submitData = {\n    tenant_name: localFormData.value.tenant_name.trim(),\n    api_key: localFormData.value.api_key.trim(),\n    secret_key: localFormData.value.client_secret.trim(),\n    hook_url: localFormData.value.hook_url.trim(),\n    user_email:localFormData.value.user_email,\n    full_name:localFormData.value.full_name\n  }\n  console.log(submitData)\n  emit('submit', submitData)\n\n}\n\nconst handleCancel = () => {\n  if (props.isEdit && props.existingConnection) {\n    loadExistingData()\n  } else {\n    Object.assign(localFormData.value, { ...defaultFormData })\n  }\n\n  validationErrors.value = {}\n  testResult.value = null\n  emit('cancel')\n}\n\nconst emitModelUpdate = () => {\n  nextTick(() => {\n    emit('update:modelValue', { ...localFormData.value })\n  })\n}\n\nconst loadExistingData = () => {\n  if (props.existingConnection) {\n    const existing = props.existingConnection\n    Object.assign(localFormData.value, {\n      tenant_name: existing.tenant_name || '',\n      api_key: existing.api_key || '',\n      client_secret: existing.secret_key || '',\n      hook_url: existing.hook_url || '',\n      redirect_url: existing.redirect_url || computedRedirectUrl.value,\n      timeout: existing.timeout || 30,\n      max_retries: existing.max_retries || 3,\n      permissions: existing.permissions || [...defaultFormData.permissions],\n      auto_post_jobs: existing.auto_post_jobs ?? true,\n      auto_import_applications: existing.auto_import_applications ?? true,\n      sync_candidate_profiles: existing.sync_candidate_profiles ?? true,\n      job_duration: existing.job_duration || 30,\n      sync_frequency: existing.sync_frequency || 'Hourly',\n      enable_resume_search: existing.enable_resume_search || false,\n      debug_mode: existing.debug_mode || false,\n      daily_search_limit: existing.daily_search_limit || 100\n    })\n  }\n}\n\n// Watchers\nlet updateTimeout = null\nwatch(localFormData, () => {\n  if (updateTimeout) {\n    clearTimeout(updateTimeout)\n  }\n\n  updateTimeout = setTimeout(() => {\n    validateForm()\n    emitModelUpdate()\n  }, 300)\n}, {\n  deep: true,\n  flush: 'post'\n})\n\nwatch(() => props.modelValue, (newValue) => {\n  if (newValue && typeof newValue === 'object') {\n    const currentDataString = JSON.stringify(localFormData.value)\n    const newDataString = JSON.stringify({ ...defaultFormData, ...newValue })\n\n    if (currentDataString !== newDataString) {\n      Object.assign(localFormData.value, { ...defaultFormData, ...newValue })\n    }\n  }\n}, {\n  immediate: false,\n  deep: true\n})\n\n// Lifecycle\nonMounted(() => {\n  if (props.isEdit && props.existingConnection) {\n    loadExistingData()\n  } else if (props.modelValue && Object.keys(props.modelValue).length > 0) {\n    Object.assign(localFormData.value, { ...defaultFormData, ...props.modelValue })\n  }\n\n  if (!localFormData.value.redirect_url) {\n    localFormData.value.redirect_url = computedRedirectUrl.value\n  }\n\n  if (!localFormData.value.hook_url) {\n    localFormData.value.hook_url = computedHookUrl.value\n  }\n\n  nextTick(() => {\n    validateForm()\n    emitModelUpdate()\n  })\n})\n</script>\n\n<style scoped>\n.topcv-connection-form {\n  max-width: 100%;\n}\n\n:deep(.form-control) {\n  margin-bottom: 0;\n}\n\n:deep(.form-control .form-label) {\n  font-weight: 500;\n  color: #374151;\n  margin-bottom: 0.5rem;\n}\n\n:deep(.form-control .form-input) {\n  border-radius: 0.5rem;\n  border: 1px solid #d1d5db;\n  padding: 0.75rem;\n  transition: all 0.2s;\n}\n\n:deep(.form-control .form-input:focus) {\n  border-color: #8b5cf6;\n  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);\n}\n\n:deep(.form-control .form-error) {\n  color: #ef4444;\n  font-size: 0.875rem;\n  margin-top: 0.25rem;\n}\n\n:deep(.form-control .form-help) {\n  color: #6b7280;\n  font-size: 0.875rem;\n  margin-top: 0.25rem;\n}\n\n.grid {\n  min-height: 0;\n}\n\n.loading-overlay {\n  position: absolute;\n  inset: 0;\n  background: rgba(255, 255, 255, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10;\n}\n</style>","<template>\n  <div class=\"external-connections-container\">\n    <!-- Header -->\n    <div class=\"flex items-center justify-between mb-6\">\n      <div>\n        <h1 class=\"text-2xl font-bold text-gray-900\">{{ __(\"External Connections\") }}</h1>\n        <p class=\"text-sm text-gray-600 mt-1\">\n          {{ __(\"Manage your connections to external platforms\") }}\n        </p>\n      </div>\n      <Button @click=\"refreshConnections\" :loading=\"isRefreshing\" variant=\"outline\">\n        <template #prefix>\n          <FeatherIcon name=\"refresh-cw\" class=\"w-4 h-4\" />\n        </template>\n        {{ __(\"Refresh\") }}\n      </Button>\n    </div>\n\n    <!-- Connection Types Grid -->\n    <div class=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6\">\n      <div\n        v-for=\"platform in allPlatforms\"\n        :key=\"typeKey\"\n        class=\"bg-white rounded-lg border border-gray-200 shadow-sm\"\n      >\n        <!-- Type Header -->\n        <div class=\"p-4 border-b border-gray-100\">\n          <div class=\"flex items-center gap-3\">\n            <div\n              class=\"w-10 h-10 rounded-lg flex items-center justify-center\"\n              :class=\"typeData.color\"\n            >\n              <FeatherIcon :name=\"typeData.icon\" class=\"w-5 h-5 text-white\" />\n            </div>\n            <div>\n              <h3 class=\"font-semibold text-gray-900\">{{ __(typeData.title) }}</h3>\n              <p class=\"text-xs text-gray-500\">\n                {{ typeData.platforms.length }} {{ __(\"platforms\") }}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Platforms List -->\n        <div class=\"p-4 space-y-3\">\n          <div\n            v-for=\"platform in typeData.platforms\"\n            :key=\"platform.id\"\n            class=\"border rounded-lg p-3 transition-all duration-200 hover:shadow-md\"\n            :class=\"platform.color\"\n          >\n            <!-- Platform Header -->\n            <div class=\"flex items-center justify-between mb-2\">\n              <div class=\"flex items-center gap-3\">\n                <span class=\"text-lg\">{{ platform.icon }}</span>\n                <div>\n                  <h4 class=\"font-medium text-gray-900\">{{ platform.name }}</h4>\n                  <p class=\"text-xs text-gray-500\">{{ __(platform.description) }}</p>\n                </div>\n              </div>\n\n              <!-- Connection Status Badge -->\n              <Badge :variant=\"getConnectionBadgeVariant(platform.id)\" size=\"sm\">\n                {{ getConnectionStatusText(platform.id) }}\n              </Badge>\n            </div>\n\n            <!-- Connected Accounts -->\n            <div\n              v-if=\"getConnectedAccountsForPlatform(platform.id).length > 0\"\n              class=\"mb-3\"\n            >\n              <div class=\"text-xs text-gray-600 mb-1\">\n                {{ __(\"Connected Accounts:\") }}\n              </div>\n              <div class=\"space-y-1\">\n                <div\n                  v-for=\"account in getConnectedAccountsForPlatform(platform.id)\"\n                  :key=\"account.external_account_id\"\n                  class=\"flex items-center gap-2 text-xs\"\n                >\n                  <div\n                    class=\"w-4 h-4 rounded-full bg-green-100 flex items-center justify-center\"\n                  >\n                    <FeatherIcon name=\"check\" class=\"w-2 h-2 text-green-600\" />\n                  </div>\n                  <span class=\"text-gray-700\">{{ account.account_name }}</span>\n                  <Badge v-if=\"account.is_primary\" variant=\"subtle\" size=\"xs\">{{\n                    __(\"Primary\")\n                  }}</Badge>\n                </div>\n              </div>\n            </div>\n\n            <!-- Platform Features -->\n            <div class=\"mb-3\">\n              <div class=\"flex flex-wrap gap-1\">\n                <Badge\n                  v-for=\"feature in platform.features\"\n                  :key=\"feature\"\n                  variant=\"outline\"\n                  size=\"xs\"\n                >\n                  {{ __(feature) }}\n                </Badge>\n              </div>\n            </div>\n\n            <!-- Action Buttons -->\n            <div class=\"flex items-center gap-2\">\n              <!-- Connect Button - Chỉ khi chưa có kết nối -->\n              <Button\n                v-if=\"!hasConnection(platform.id)\"\n                @click=\"initiatePlatformConnection(platform)\"\n                variant=\"solid\"\n                size=\"sm\"\n                :loading=\"connectingPlatforms.includes(platform.id)\"\n              >\n                <template #prefix>\n                  <FeatherIcon name=\"link\" class=\"w-3 h-3\" />\n                </template>\n                {{ __(\"Connect\") }}\n              </Button>\n\n              <!-- Disconnect Button - Cho Connected và Pending -->\n              <Button\n                v-if=\"canManageConnection(platform.id)\"\n                @click=\"confirmAndDisconnect(platform.id)\"\n                variant=\"outline\"\n                size=\"sm\"\n                theme=\"red\"\n                :loading=\"disconnectingPlatforms.includes(platform.id)\"\n                :disabled=\"disconnectingPlatforms.includes(platform.id)\"\n              >\n                <template #prefix>\n                  <FeatherIcon name=\"unlink\" class=\"w-3 h-3\" />\n                </template>\n                {{ __(\"Disconnect\") }}\n              </Button>\n\n              <!-- Edit Button - Cho Connected và Pending -->\n              <Button\n                v-if=\"canManageConnection(platform.id)\"\n                @click=\"editConnectionForPlatform(platform.id)\"\n                variant=\"ghost\"\n                size=\"sm\"\n                :disabled=\"\n                  connectingPlatforms.includes(platform.id) ||\n                  disconnectingPlatforms.includes(platform.id)\n                \"\n              >\n                <template #prefix>\n                  <FeatherIcon name=\"edit-2\" class=\"w-3 h-3\" />\n                </template>\n                {{ __(\"Edit\") }}\n              </Button>\n\n              <!-- Sync Button - Chỉ cho Connected -->\n              <Button\n                v-if=\"isConnectionConnected(platform.id)\"\n                @click=\"syncAccounts(platform.id)\"\n                variant=\"outline\"\n                size=\"sm\"\n                :loading=\"syncingPlatforms.includes(platform.id)\"\n                :disabled=\"\n                  syncingPlatforms.includes(platform.id) ||\n                  disconnectingPlatforms.includes(platform.id)\n                \"\n              >\n                <template #prefix>\n                  <FeatherIcon name=\"refresh-cw\" class=\"w-3 h-3\" />\n                </template>\n                {{ __(\"Sync\") }}\n              </Button>\n\n              <!-- Settings Button - Chỉ cho Connected -->\n              <Button\n                v-if=\"isConnectionConnected(platform.id)\"\n                @click=\"openAccountSettingsForPlatform(platform.id)\"\n                variant=\"ghost\"\n                size=\"sm\"\n              >\n                <template #prefix>\n                  <FeatherIcon name=\"settings\" class=\"w-3 h-3\" />\n                </template>\n                {{ __(\"Settings\") }}\n              </Button>\n\n              <!-- Retry Button - Cho Failed/Disconnected -->\n              <Button\n                v-if=\"isConnectionFailed(platform.id)\"\n                @click=\"retryConnection(platform.id)\"\n                variant=\"outline\"\n                size=\"sm\"\n                theme=\"orange\"\n                :loading=\"connectingPlatforms.includes(platform.id)\"\n              >\n                <template #prefix>\n                  <FeatherIcon name=\"rotate-ccw\" class=\"w-3 h-3\" />\n                </template>\n                {{ __(\"Retry\") }}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Connect Platform Modal -->\n    <Dialog\n      v-if=\"showConnectModal\"\n      v-model=\"showConnectModal\"\n      :options=\"{ title: getModalTitle('connect'), size: '2xl' }\"\n    >\n      <template #body-content>\n        <div v-if=\"selectedPlatform\" class=\"space-y-4 p-4\">\n          <!-- Platform Info -->\n          <div class=\"flex items-center gap-4 p-4 bg-gray-50 rounded-lg\">\n            <span class=\"text-2xl\">{{ selectedPlatform.icon }}</span>\n            <div>\n              <h3 class=\"font-semibold text-gray-900\">{{ selectedPlatform.name }}</h3>\n              <p class=\"text-sm text-gray-600\">{{ __(selectedPlatform.description) }}</p>\n            </div>\n          </div>\n\n          <!-- Dynamic Form based on Platform -->\n          <component\n            :is=\"currentFormComponent\"\n            v-model=\"currentConnectionForm\"\n            :platform=\"selectedPlatform\"\n            :is-edit=\"false\"\n            @submit=\"handleConnectionSubmit\"\n            @cancel=\"closeConnectModal\"\n          />\n        </div>\n      </template>\n    </Dialog>\n\n    <!-- Edit Connection Modal -->\n    <Dialog\n      v-if=\"showEditModal\"\n      v-model=\"showEditModal\"\n      :options=\"{ title: getModalTitle('edit'), size: '2xl' }\"\n    >\n      <template #body-content>\n        <div v-if=\"editingConnection && selectedPlatform\" class=\"space-y-4\">\n          <!-- Platform Info -->\n          <div class=\"flex items-center gap-4 p-4 bg-gray-50 rounded-lg\">\n            <span class=\"text-2xl\">{{ selectedPlatform.icon }}</span>\n            <div>\n              <h3 class=\"font-semibold text-gray-900\">{{ selectedPlatform.name }}</h3>\n              <p class=\"text-sm text-gray-600\">{{ __(\"Edit connection settings\") }}</p>\n              <Badge\n                :variant=\"getConnectionBadgeVariant(selectedPlatform.id)\"\n                size=\"sm\"\n                class=\"mt-1\"\n              >\n                {{ getConnectionStatusText(selectedPlatform.id) }}\n              </Badge>\n            </div>\n          </div>\n\n          <!-- Status-specific Messages -->\n          <div\n            v-if=\"getConnectionStatus(selectedPlatform.id) === 'Pending'\"\n            class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\"\n          >\n            <div class=\"flex items-center gap-2\">\n              <FeatherIcon name=\"clock\" class=\"w-4 h-4 text-yellow-600\" />\n              <span class=\"text-sm text-yellow-800\">\n                {{\n                  __(\n                    \"This connection is pending authentication. You can edit settings or disconnect if needed.\"\n                  )\n                }}\n              </span>\n            </div>\n          </div>\n\n          <div\n            v-else-if=\"getConnectionStatus(selectedPlatform.id) === 'Failed'\"\n            class=\"bg-red-50 border border-red-200 rounded-lg p-3\"\n          >\n            <div class=\"flex items-center gap-2\">\n              <FeatherIcon name=\"alert-triangle\" class=\"w-4 h-4 text-red-600\" />\n              <span class=\"text-sm text-red-800\">\n                {{\n                  __(\n                    \"This connection failed to authenticate. You can edit settings and try again.\"\n                  )\n                }}\n              </span>\n            </div>\n          </div>\n\n          <div\n            v-else-if=\"getConnectionStatus(selectedPlatform.id) === 'Disconnected'\"\n            class=\"bg-gray-50 border border-gray-200 rounded-lg p-3\"\n          >\n            <div class=\"flex items-center gap-2\">\n              <FeatherIcon name=\"unlink\" class=\"w-4 h-4 text-gray-600\" />\n              <span class=\"text-sm text-gray-800\">\n                {{\n                  __(\n                    \"This connection has been disconnected. You can edit settings to reconnect.\"\n                  )\n                }}\n              </span>\n            </div>\n          </div>\n\n          <!-- Connected Accounts Section - Enhanced -->\n          <div\n            v-if=\"editingConnection.accounts && editingConnection.accounts.length > 0\"\n            class=\"bg-blue-50 rounded-lg p-4\"\n          >\n            <h4 class=\"font-medium text-gray-900 mb-3 flex items-center gap-2\">\n              <FeatherIcon name=\"users\" class=\"w-4 h-4\" />\n              {{ __(\"Currently Connected Accounts\") }}\n            </h4>\n            <div class=\"space-y-2\">\n              <div\n                v-for=\"account in editingConnection.accounts\"\n                :key=\"account.external_account_id\"\n                class=\"flex items-center justify-between p-2 bg-white rounded border\"\n              >\n                <div class=\"flex items-center gap-2\">\n                  <div\n                    class=\"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center\"\n                  >\n                    <FeatherIcon name=\"check\" class=\"w-3 h-3 text-green-600\" />\n                  </div>\n                  <div>\n                    <span class=\"text-sm font-medium text-gray-900\">{{\n                      account.account_name\n                    }}</span>\n                    <div class=\"text-xs text-gray-500\">{{ account.account_type }}</div>\n                  </div>\n                </div>\n                <div class=\"flex items-center gap-1\">\n                  <Badge v-if=\"account.is_primary\" variant=\"subtle\" size=\"xs\">{{\n                    __(\"Primary\")\n                  }}</Badge>\n                  <Badge :variant=\"account.is_active ? 'success' : 'gray'\" size=\"xs\">\n                    {{ account.is_active ? __(\"Active\") : __(\"Inactive\") }}\n                  </Badge>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- No Accounts Message for Pending/Failed -->\n          <div\n            v-else-if=\"getConnectionStatus(selectedPlatform.id) === 'Pending'\"\n            class=\"bg-yellow-50 rounded-lg p-4\"\n          >\n            <div class=\"flex items-center gap-2\">\n              <FeatherIcon name=\"clock\" class=\"w-4 h-4 text-yellow-600\" />\n              <span class=\"text-sm text-yellow-800\">\n                {{\n                  __(\n                    \"No accounts connected yet. Complete authentication to see connected accounts.\"\n                  )\n                }}\n              </span>\n            </div>\n          </div>\n\n          <!-- Dynamic Form based on Platform -->\n          <component\n            :is=\"currentFormComponent\"\n            v-model=\"currentEditForm\"\n            :platform=\"selectedPlatform\"\n            :connectionType=\"selectedPlatform\"\n            :isEdit=\"true\"\n            :existingConnection=\"editingConnection\"\n            :connectedAccounts=\"editingConnection.accounts || []\"\n            @submit=\"handleConnectionUpdate\"\n            @cancel=\"closeEditModal\"\n          />\n        </div>\n      </template>\n    </Dialog>\n\n    <!-- Account Settings Modal -->\n    <Dialog\n      v-if=\"showAccountModal\"\n      v-model=\"showAccountModal\"\n      :options=\"{ title: __('Account Settings'), size: '2xl' }\"\n    >\n      <template #body-content>\n        <div v-if=\"selectedConnection\" class=\"space-y-6\">\n          <!-- Connection Info -->\n          <div class=\"bg-gray-50 rounded-lg p-4\">\n            <h3 class=\"font-semibold text-gray-900 mb-2\">\n              {{ __(\"Connection Information\") }}\n            </h3>\n            <div class=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <span class=\"text-gray-600\">{{ __(\"Platform:\") }}</span>\n                <span class=\"ml-2 font-medium\">{{\n                  selectedConnection.platform_type\n                }}</span>\n              </div>\n              <div>\n                <span class=\"text-gray-600\">{{ __(\"Status:\") }}</span>\n                <Badge\n                  :variant=\"\n                    selectedConnection.connection_status === 'Connected'\n                      ? 'success'\n                      : getStatusVariant(selectedConnection.connection_status)\n                  \"\n                  size=\"sm\"\n                  class=\"ml-2\"\n                >\n                  {{ __(selectedConnection.connection_status) || __(\"Unknown\") }}\n                </Badge>\n              </div>\n              <div>\n                <span class=\"text-gray-600\">{{ __(\"Created:\") }}</span>\n                <span class=\"ml-2\">{{ formatDate(selectedConnection.creation) }}</span>\n              </div>\n              <div>\n                <span class=\"text-gray-600\">{{ __(\"Last Sync:\") }}</span>\n                <span class=\"ml-2\">{{\n                  formatDate(selectedConnection.last_sync_time)\n                }}</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Connected Accounts -->\n          <div\n            v-if=\"selectedConnection.accounts && selectedConnection.accounts.length > 0\"\n          >\n            <h3 class=\"font-semibold text-gray-900 mb-3\">\n              {{ __(\"Connected Accounts\") }}\n            </h3>\n            <div class=\"space-y-2\">\n              <div\n                v-for=\"account in selectedConnection.accounts\"\n                :key=\"account.external_account_id\"\n                class=\"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                <div class=\"flex items-center gap-3\">\n                  <div\n                    class=\"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center\"\n                  >\n                    <FeatherIcon name=\"user\" class=\"w-4 h-4 text-gray-600\" />\n                  </div>\n                  <div>\n                    <div class=\"font-medium text-gray-900\">\n                      {{ account.account_name }}\n                    </div>\n                    <div class=\"text-xs text-gray-500\">\n                      {{ account.account_type }} • {{ account.external_account_id }}\n                    </div>\n                  </div>\n                </div>\n                <div class=\"flex items-center gap-2\">\n                  <Badge v-if=\"account.is_primary\" variant=\"success\" size=\"sm\">{{\n                    __(\"Primary\")\n                  }}</Badge>\n                  <Badge :variant=\"account.is_active ? 'success' : 'gray'\" size=\"sm\">\n                    {{ account.is_active ? __(\"Active\") : __(\"Inactive\") }}\n                  </Badge>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- No Accounts Message -->\n          <div v-else class=\"text-center py-6\">\n            <FeatherIcon name=\"users\" class=\"w-12 h-12 text-gray-400 mx-auto mb-2\" />\n            <p class=\"text-gray-500\">{{ __(\"No accounts connected\") }}</p>\n          </div>\n\n          <!-- Statistics -->\n          <div\n            v-if=\"selectedConnection.accounts && selectedConnection.accounts.length > 0\"\n          >\n            <h3 class=\"font-semibold text-gray-900 mb-3\">\n              {{ __(\"Connection Statistics\") }}\n            </h3>\n            <div class=\"grid grid-cols-3 gap-4\">\n              <div class=\"text-center p-3 bg-blue-50 rounded-lg\">\n                <div class=\"text-2xl font-bold text-blue-600\">\n                  {{ selectedConnection.total_api_calls || 0 }}\n                </div>\n                <div class=\"text-xs text-blue-600\">{{ __(\"Total API Calls\") }}</div>\n              </div>\n              <div class=\"text-center p-3 bg-green-50 rounded-lg\">\n                <div class=\"text-2xl font-bold text-green-600\">\n                  {{ selectedConnection.successful_calls || 0 }}\n                </div>\n                <div class=\"text-xs text-green-600\">{{ __(\"Successful Calls\") }}</div>\n              </div>\n              <div class=\"text-center p-3 bg-red-50 rounded-lg\">\n                <div class=\"text-2xl font-bold text-red-600\">\n                  {{ selectedConnection.failed_calls || 0 }}\n                </div>\n                <div class=\"text-xs text-red-600\">{{ __(\"Failed Calls\") }}</div>\n              </div>\n            </div>\n\n            <!-- Success Rate -->\n            <div class=\"mt-3 p-3 bg-gray-50 rounded-lg\">\n              <div class=\"flex items-center justify-between text-sm\">\n                <span class=\"text-gray-600\">{{ __(\"Success Rate:\") }}</span>\n                <span\n                  class=\"font-medium\"\n                  :class=\"getSuccessRateColor(selectedConnection)\"\n                >\n                  {{ calculateSuccessRate(selectedConnection) }}%\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n\n      <template #actions>\n        <div class=\"flex items-center gap-2\">\n          <!-- Refresh Connection Button -->\n          <Button\n            v-if=\"selectedConnection.connection_status === 'Connected'\"\n            @click=\"refreshSingleConnection(selectedConnection)\"\n            variant=\"outline\"\n            size=\"sm\"\n            :loading=\"isRefreshingSingle\"\n          >\n            <template #prefix>\n              <FeatherIcon name=\"refresh-cw\" class=\"w-3 h-3\" />\n            </template>\n            {{ __(\"Refresh\") }}\n          </Button>\n\n          <Button @click=\"closeAccountModal\" variant=\"ghost\">\n            {{ __(\"Close\") }}\n          </Button>\n        </div>\n      </template>\n    </Dialog>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, onMounted, computed, shallowRef, nextTick } from \"vue\";\n// import { useToast } from '@/composables/useToast'\nimport { Button, Dialog, FormControl, Badge, FeatherIcon, call } from \"frappe-ui\";\nimport { showToast } from \"@/utils\";\nimport { ToastContainer } from \"@/components/shared\";\nimport FacebookConnectionForm from \"@/components/Connectors/FacebookConnectionForm.vue\";\nimport ZaloConnectionForm from \"@/components/Connectors/ZaloConnectionForm.vue\";\nimport CalcomConnectionForm from \"@/components/Connectors/CalcomConnectionForm.vue\";\nimport TopcvConnectionForm from \"@/components/Connectors/TopcvConnectionForm.vue\";\nimport useToast from \"@/composables/useToast\";\n// Simple notifier to standardize icon usage\nconst {\n  success: toastSuccess,\n  error: toastError,\n  warning: toastWarning,\n  info: toastInfo,\n} = useToast();\nconst notify = (type, title, text) => {\n  if (type === \"success\") return toastSuccess(`${title}: ${text}`);\n  if (type === \"error\") return toastError(`${title}: ${text}`);\n  if (type === \"warning\") return toastWarning(`${title}: ${text}`);\n  return toastInfo(`${title}: ${text}`);\n};\n\n// Master data cho các nhóm connect type và platform\nconst CONNECTION_TYPES = {\n  social_media: {\n    title: __(\"Social Media\"),\n    icon: \"users\",\n    color: \"bg-blue-500\",\n    platforms: [\n      {\n        id: \"facebook\",\n        name: \"Facebook\",\n        icon: \"📘\",\n        description: __(\"Connect Facebook Pages and Personal Profiles\"),\n        color: \"border-blue-500\",\n        features: [\n          __(\"Pages Management\"),\n          __(\"Posts Publishing\"),\n          __(\"Comments Monitoring\"),\n          __(\"Insights Analytics\"),\n        ],\n      },\n    ],\n  },\n  messaging: {\n    title: __(\"Messaging Platforms\"),\n    icon: \"message-circle\",\n    color: \"bg-green-500\",\n    platforms: [\n      {\n        id: \"zalo\",\n        name: \"Zalo\",\n        icon: \"💬\",\n        description: __(\"Connect Zalo Official Accounts\"),\n        color: \"border-blue-400\",\n        features: [\n          __(\"Message Broadcasting\"),\n          __(\"Customer Chat\"),\n          __(\"Template Messages\"),\n          __(\"User Management\"),\n        ],\n      },\n    ],\n  },\n  calendar: {\n    title: __(\"Calendar Integration\"),\n    icon: \"calendar\",\n    color: \"bg-orange-500\",\n    platforms: [\n      {\n        id: \"cal_com\",\n        name: \"Cal.com\",\n        icon: \"📅\",\n        description: __(\"Connect Cal.com Scheduling\"),\n        color: \"border-orange-500\",\n        features: [\n          __(\"Event Scheduling\"),\n          __(\"Calendar Sync\"),\n          __(\"Booking Management\"),\n          __(\"Availability Settings\"),\n        ],\n      },\n    ],\n  },\n  job_board: {\n    title: __(\"Job Board\"),\n    icon: \"briefcase\",\n    color: \"bg-purple-500\",\n    platforms: [\n      {\n        id: \"topcv\",\n        name: \"TopCV\",\n        icon: \"💼\",\n        description: __(\"Connect TopCV Job Portal\"),\n        color: \"border-purple-500\",\n        features: [\n          __(\"Job Posting\"),\n          __(\"Candidate Management\"),\n          __(\"Application Tracking\"),\n          __(\"Resume Database Access\"),\n        ],\n      },\n    ],\n  },\n};\n\n// Platform form components mapping\nconst platformFormComponents = shallowRef({\n  facebook: FacebookConnectionForm,\n  zalo: ZaloConnectionForm,\n  cal_com: CalcomConnectionForm,\n  topcv: TopcvConnectionForm,\n});\n\n// State\nconst connections = ref([]);\nconst isRefreshing = ref(false);\nconst showConnectModal = ref(false);\nconst showAccountModal = ref(false);\nconst showEditModal = ref(false);\n\nconst selectedPlatform = shallowRef(null);\nconst selectedConnection = shallowRef(null);\nconst editingConnection = shallowRef(null);\n\nconst connectingPlatforms = ref([]);\nconst disconnectingPlatforms = ref([]);\nconst syncingPlatforms = ref([]);\nconst isConnecting = ref(false);\nconst isUpdating = ref(false);\nconst isRefreshingSingle = ref(false);\n\n// Form data\nconst connectForm = reactive({\n  tenant_name: \"\",\n  hook_url: \"\",\n  redirect_url: \"\",\n});\n\nconst editFormData = reactive({\n  tenant_name: \"\",\n  hook_url: \"\",\n  redirect_url: \"\",\n});\n\nconst emit = defineEmits([\"connection-updated\", \"job-shared\"]);\n\n// Computed values\nconst currentFormComponent = computed(() => {\n  if (!selectedPlatform.value?.id) return null;\n  return (\n    platformFormComponents.value[selectedPlatform.value.id] || FacebookConnectionForm\n  );\n});\n\nconst currentConnectionForm = computed({\n  get() {\n    return { ...connectForm };\n  },\n  set(value) {\n    Object.assign(connectForm, value);\n  },\n});\n\nconst currentEditForm = computed({\n  get() {\n    return { ...editFormData };\n  },\n  set(value) {\n    Object.assign(editFormData, value);\n  },\n});\n\n// Helper methods để kiểm tra trạng thái connection\nconst getConnectionByPlatformId = (platformId) => {\n  if (!Array.isArray(connections.value)) return null;\n  return connections.value.find(\n    (conn) => conn.platform_type.toLowerCase() === platformId\n  );\n};\n\nconst getConnectionStatus = (platformId) => {\n  const connection = getConnectionByPlatformId(platformId);\n  return connection?.connection_status || null;\n};\n\n// Kiểm tra có connection hay không (bất kỳ trạng thái nào)\nconst hasConnection = (platformId) => {\n  return getConnectionByPlatformId(platformId);\n};\n\n// Kiểm tra connection đang Connected\nconst isConnectionConnected = (platformId) => {\n  const status = getConnectionStatus(platformId);\n  return status === \"Connected\";\n};\n\n// Kiểm tra connection đang Pending\nconst isConnectionPending = (platformId) => {\n  const status = getConnectionStatus(platformId);\n  return status === \"Pending\";\n};\n\n// Kiểm tra connection Failed hoặc Disconnected\nconst isConnectionFailed = (platformId) => {\n  const status = getConnectionStatus(platformId);\n  return status === \"Failed\" || status === \"Disconnected\";\n};\n\n// Kiểm tra có thể manage connection (edit/disconnect) - Connected hoặc Pending\nconst canManageConnection = (platformId) => {\n  const status = getConnectionStatus(platformId);\n  return status !== null;\n};\n\nconst getConnectedAccountsForPlatform = (platformId) => {\n  const connection = getConnectionByPlatformId(platformId);\n\n  // Chỉ hiển thị accounts khi Connected\n  if (!connection || connection.connection_status !== \"Connected\") {\n    return [];\n  }\n\n  return connection?.accounts || connection?.connected_accounts || [];\n};\n\nconst getConnectionBadgeVariant = (platformId) => {\n  const status = getConnectionStatus(platformId);\n\n  switch (status) {\n    case \"Connected\":\n      return \"success\";\n    case \"Pending\":\n      return \"warning\";\n    case \"Failed\":\n    case \"Disconnected\":\n      return \"red\";\n    default:\n      return \"subtle\";\n  }\n};\n\nconst getConnectionStatusText = (platformId) => {\n  const status = getConnectionStatus(platformId);\n  return status ? __(status) : __(\"Not Connected\");\n};\n\nconst getStatusVariant = (status) => {\n  switch (status) {\n    case \"Connected\":\n      return \"success\";\n    case \"Pending\":\n      return \"warning\";\n    case \"Failed\":\n    case \"Disconnected\":\n      return \"red\";\n    default:\n      return \"gray\";\n  }\n};\n\nconst getModalTitle = (type) => {\n  if (!selectedPlatform.value) return __(\"Platform Connection\");\n\n  if (type === \"connect\") {\n    return `${__(\"Connect to\")} ${selectedPlatform.value.name}`;\n  } else if (type === \"edit\") {\n    const status = getConnectionStatus(selectedPlatform.value.id);\n    return `${__(\"Edit\")} ${selectedPlatform.value.name} ${__(\"Connection\")}${\n      status ? ` (${__(status)})` : \"\"\n    }`;\n  }\n\n  return __(\"Platform Connection\");\n};\n\n// Utility methods\nconst resetForm = (formObject) => {\n  Object.keys(formObject).forEach((key) => {\n    formObject[key] = \"\";\n  });\n};\n\nconst clearLoadingState = (platformId, loadingArray) => {\n  const index = loadingArray.findIndex((id) => id === platformId);\n  if (index > -1) {\n    loadingArray.splice(index, 1);\n  }\n};\n\nconst validateConnectionData = (connectionData) => {\n  const required = [];\n  const missing = required.filter((field) => !connectionData[field]?.trim());\n\n  if (missing.length > 0) {\n    throw new Error(`${__(\"Missing required fields:\")} ${missing.join(\", \")}`);\n  }\n\n  return true;\n};\n\nconst handleApiResponse = (\n  response,\n  successMessage = __(\"Operation completed successfully\")\n) => {\n  if (response?.data?.login_url) {\n    const win = window.open(response.data.login_url, \"_blank\");\n    if (!win || win.closed || typeof win.closed === \"undefined\") {\n      notify(\n        \"warning\",\n        __(\"Popup Blocked\"),\n        __(\"Please allow popups to complete authentication.\")\n      );\n    } else {\n      notify(\n        \"info\",\n        __(\"Authentication\"),\n        __(\"Please complete authentication in the new window.\")\n      );\n    }\n    return {\n      success: true,\n      message: __(\"Please complete authentication in the new window.\"),\n      requiresAuth: true,\n    };\n  } else if (response?.status === \"success\") {\n    return {\n      success: true,\n      message: successMessage,\n      requiresAuth: false,\n    };\n  } else {\n    throw new Error(response?.message || __(\"Operation failed\"));\n  }\n};\n\nconst calculateSuccessRate = (connection) => {\n  const total = connection.total_api_calls || 0;\n  const successful = connection.successful_calls || 0;\n\n  if (total === 0) return 0;\n  return Math.round((successful / total) * 100);\n};\n\nconst getSuccessRateColor = (connection) => {\n  const rate = calculateSuccessRate(connection);\n  if (rate >= 95) return \"text-green-600\";\n  if (rate >= 80) return \"text-yellow-600\";\n  return \"text-red-600\";\n};\n\nconst formatDate = (dateString) => {\n  if (!dateString) return __(\"N/A\");\n  try {\n    return new Date(dateString).toLocaleDateString(\"vi-VN\", {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  } catch (error) {\n    return __(\"Invalid Date\");\n  }\n};\n\n// Modal control methods\nconst closeConnectModal = () => {\n  showConnectModal.value = false;\n  selectedPlatform.value = null;\n  resetForm(connectForm);\n};\n\nconst closeEditModal = () => {\n  showEditModal.value = false;\n  editingConnection.value = null;\n  selectedPlatform.value = null;\n  resetForm(editFormData);\n};\n\nconst closeAccountModal = () => {\n  showAccountModal.value = false;\n  selectedConnection.value = null;\n};\n\n// Platform action methods\nconst initiatePlatformConnection = (platform) => {\n  selectedPlatform.value = { ...platform };\n  resetForm(connectForm);\n  showConnectModal.value = true;\n};\n\nconst editConnectionForPlatform = async (platformId) => {\n  const connection = getConnectionByPlatformId(platformId);\n\n  if (!connection) {\n    notify(\"error\", __(\"Error\"), __(\"Connection not found\"));\n    return;\n  }\n\n  try {\n    let accountsData = [];\n\n    // Chỉ load account details cho Connected connections\n    if (connection.connection_status === \"Connected\") {\n      try {\n        const response = await call(\n          \"mbw_mira.api.external_connections.get_account_details\",\n          {\n            connection_id: connection.connection_id || connection.name,\n          }\n        );\n\n        if (response?.message?.status === \"success\") {\n          accountsData = response.message.data || [];\n        } else if (response?.status === \"success\") {\n          accountsData = response.data || [];\n        } else if (Array.isArray(response)) {\n          accountsData = response;\n        } else if (response?.message) {\n          accountsData = Array.isArray(response.message) ? response.message : [];\n        }\n      } catch (accountError) {\n        console.warn(\n          __(\"Failed to load account details, proceeding without accounts:\"),\n          accountError\n        );\n      }\n    }\n\n    // Tạo enriched connection object\n    const enrichedConnection = {\n      ...connection,\n      accounts: accountsData,\n      connected_accounts: accountsData,\n    };\n\n    editingConnection.value = enrichedConnection;\n    selectedPlatform.value = Object.values(CONNECTION_TYPES)\n      .flatMap((type) => type.platforms)\n      .find((platform) => platform.id === platformId);\n\n    // Reset và populate edit form\n    resetForm(editFormData);\n    Object.assign(editFormData, {\n      tenant_name: enrichedConnection.tenant_name || \"\",\n      hook_url: enrichedConnection.hook_url || \"\",\n      redirect_url: enrichedConnection.redirect_url || \"\",\n    });\n\n    showEditModal.value = true;\n  } catch (error) {\n    console.error(\"Error loading connection for edit:\", error);\n    notify(\"error\", __(\"Error\"), __(\"Failed to load connection details for editing\"));\n  }\n};\n\nconst openAccountSettingsForPlatform = async (platformId) => {\n  const connection = getConnectionByPlatformId(platformId);\n\n  if (!connection) return;\n\n  // Chỉ cho phép account settings cho Connected connections\n  if (connection.connection_status !== \"Connected\") {\n    notify(\n      \"warning\",\n      __(\"Cannot Access Settings\"),\n      __(\"Account settings are only available for connected platforms\")\n    );\n    return;\n  }\n\n  try {\n    const response = await call(\"mbw_mira.api.external_connections.get_account_details\", {\n      connection_id: connection.connection_id || connection.name,\n    });\n\n    let accountsData = [];\n\n    if (response?.message?.status === \"success\") {\n      accountsData = response.message.data || [];\n    } else if (response?.status === \"success\") {\n      accountsData = response.data || [];\n    } else if (Array.isArray(response)) {\n      accountsData = response;\n    } else if (response?.message) {\n      accountsData = Array.isArray(response.message) ? response.message : [];\n    }\n\n    selectedConnection.value = {\n      ...connection,\n      accounts: accountsData,\n    };\n\n    showAccountModal.value = true;\n  } catch (error) {\n    console.error(\"Error loading account details:\", error);\n    notify(\"error\", __(\"Error\"), __(\"Failed to load account details\"));\n  }\n};\n\n// Enhanced connection operations\nconst createConnection = async (connectionData) => {\n  try {\n    validateConnectionData(connectionData);\n\n    const response = await call(\"mbw_mira.api.external_connections.create_connection\", {\n      platform_type: selectedPlatform.value.name,\n      //tenant_name: connectionData.tenant_name,\n      hook_url: connectionData.hook_url,\n      redirect_url: connectionData.redirect_url,\n      user_email: connectionData.user_email,\n      full_name: connectionData.full_name,\n    });\n\n    const result = handleApiResponse(response, __(\"Connection created successfully\"));\n\n    notify(\"success\", __(\"Success\"), result.message);\n\n    await refreshConnections();\n    emit(\"connection-updated\", {\n      action: \"create\",\n      platform: selectedPlatform.value.name,\n      requiresAuth: result.requiresAuth,\n    });\n\n    return result;\n  } catch (error) {\n    console.error(\"Error creating connection:\", error);\n    notify(\"error\", __(\"Error\"), error.message || __(\"Failed to create connection\"));\n    throw error;\n  }\n};\n\nconst updateConnection = async (connectionData) => {\n  try {\n    validateConnectionData(connectionData);\n\n    const response = await call(\"mbw_mira.api.external_connections.update_connection\", {\n      connection_id:\n        editingConnection.value.connection_id || editingConnection.value.name,\n      tenant_name: connectionData.tenant_name,\n      hook_url: connectionData.hook_url,\n      redirect_url: connectionData.redirect_url,\n      user_email: connectionData.user_email,\n      full_name: connectionData.full_name,\n    });\n\n    const result = handleApiResponse(response, __(\"Connection updated successfully\"));\n\n    notify(\"success\", __(\"Success\"), result.message);\n\n    await refreshConnections();\n    emit(\"connection-updated\", {\n      action: \"update\",\n      platform: selectedPlatform.value?.name,\n      requiresAuth: result.requiresAuth,\n    });\n\n    return result;\n  } catch (error) {\n    console.error(\"Error updating connection:\", error);\n    notify(\"error\", __(\"Error\"), error.message || __(\"Failed to update connection\"));\n    throw error;\n  }\n};\n\nconst confirmAndDisconnect = async (platformId) => {\n  const connection = getConnectionByPlatformId(platformId);\n  if (!connection) return;\n\n  const platformName =\n    Object.values(CONNECTION_TYPES)\n      .flatMap((type) => type.platforms)\n      .find((platform) => platform.id === platformId)?.name || __(\"Platform\");\n\n  if (\n    !confirm(\n      `${__(\"Are you sure you want to disconnect from\")} ${platformName}? ${__(\n        \"This action cannot be undone.\"\n      )}`\n    )\n  ) {\n    return;\n  }\n\n  await disconnectPlatform(platformId);\n};\n\nconst refreshSingleConnection = async (connection) => {\n  if (!connection) return;\n\n  isRefreshingSingle.value = true;\n\n  try {\n    const response = await call(\"mbw_mira.api.external_connections.get_account_details\", {\n      connection_id: connection.connection_id || connection.name,\n      force_refresh: true,\n    });\n\n    let accountsData = [];\n\n    if (response?.message?.status === \"success\") {\n      accountsData = response.message.data || [];\n    } else if (response?.status === \"success\") {\n      accountsData = response.data || [];\n    } else if (Array.isArray(response)) {\n      accountsData = response;\n    }\n\n    // Update selectedConnection\n    selectedConnection.value = {\n      ...selectedConnection.value,\n      accounts: accountsData,\n      last_sync_time: new Date().toISOString(),\n    };\n\n    notify(\"success\", __(\"Success\"), __(\"Connection refreshed successfully\"));\n\n    // Also refresh the main connections list\n    await refreshConnections();\n  } catch (error) {\n    console.error(\"Error refreshing single connection:\", error);\n    notify(\"error\", __(\"Error\"), error.message || __(\"Failed to refresh connection\"));\n  } finally {\n    isRefreshingSingle.value = false;\n  }\n};\n\n// Main methods\nconst refreshConnections = async () => {\n  isRefreshing.value = true;\n  try {\n    const requestParams = {\n      tenant_name: connectForm.tenant_name || \"\",\n    };\n\n    const response = await call(\n      \"mbw_mira.api.external_connections.get_connection_info\",\n      requestParams\n    );\n\n    let connectionsData = [];\n\n    if (response && response.status === \"success\" && response.data) {\n      connectionsData = Array.isArray(response.data) ? response.data : [];\n    } else if (response && response.message) {\n      connectionsData = Array.isArray(response.message) ? response.message : [];\n    } else if (Array.isArray(response)) {\n      connectionsData = response;\n    } else {\n      console.warn(__(\"Unexpected response format:\"), response);\n      connectionsData = [];\n    }\n\n    await nextTick();\n    connections.value = connectionsData;\n  } catch (error) {\n    console.error(\"Error refreshing connections:\", error);\n    connections.value = [];\n    notify(\n      \"error\",\n      __(\"Error\"),\n      `${__(\"Failed to refresh connections:\")} ${error.message || error}`\n    );\n  } finally {\n    isRefreshing.value = false;\n  }\n};\n\nconst handleConnectionSubmit = async (connectionData) => {\n  if (!selectedPlatform.value) return;\n\n  isConnecting.value = true;\n  connectingPlatforms.value.push(selectedPlatform.value.id);\n\n  try {\n    await createConnection(connectionData);\n    closeConnectModal();\n  } catch (error) {\n    // Error already handled in createConnection\n  } finally {\n    isConnecting.value = false;\n    clearLoadingState(selectedPlatform.value?.id, connectingPlatforms.value);\n  }\n};\n\nconst handleConnectionUpdate = async (connectionData) => {\n  if (!editingConnection.value) return;\n\n  isUpdating.value = true;\n\n  try {\n    await updateConnection(connectionData);\n    closeEditModal();\n  } catch (error) {\n    // Error already handled in updateConnection\n  } finally {\n    isUpdating.value = false;\n  }\n};\n\nconst disconnectPlatform = async (platformId) => {\n  const connection = getConnectionByPlatformId(platformId);\n\n  if (!connection) {\n    notify(\"error\", __(\"Error\"), __(\"Connection not found\"));\n    return;\n  }\n\n  // Kiểm tra có thể disconnect không\n  if (!canManageConnection(platformId)) {\n    notify(\n      \"warning\",\n      __(\"Cannot Disconnect\"),\n      __(\"This connection cannot be disconnected in its current state\")\n    );\n    return;\n  }\n\n  disconnectingPlatforms.value.push(platformId);\n\n  try {\n    const response = await call(\n      \"mbw_mira.api.external_connections.disconnect_connection\",\n      {\n        connection_id: connection.connection_id,\n        reason: __(\"User requested disconnect\"),\n      }\n    );\n\n    const result = handleApiResponse(response, __(\"Platform disconnected successfully\"));\n\n    notify(\"success\", __(\"Success\"), result.message);\n\n    await refreshConnections();\n\n    emit(\"connection-updated\", {\n      action: \"disconnect\",\n      platform: connection.platform_type,\n    });\n  } catch (error) {\n    console.error(\"Error disconnecting platform:\", error);\n    notify(\"error\", __(\"Error\"), error.message || __(\"Failed to disconnect platform\"));\n  } finally {\n    clearLoadingState(platformId, disconnectingPlatforms.value);\n  }\n};\n\nconst syncAccounts = async (platformId) => {\n  const connection = getConnectionByPlatformId(platformId);\n\n  if (!connection) {\n    notify(\"error\", __(\"Error\"), __(\"Connection not found\"));\n    return;\n  }\n\n  // Chỉ cho phép sync cho Connected connections\n  if (connection.connection_status !== \"Connected\") {\n    notify(\n      \"warning\",\n      __(\"Cannot Sync\"),\n      __(\"Account sync is only available for connected platforms\")\n    );\n    return;\n  }\n\n  syncingPlatforms.value.push(platformId);\n\n  try {\n    const response = await call(\"mbw_mira.api.external_connections.sync_accounts\", {\n      connection_id: connection.connection_id,\n      force_sync: true,\n    });\n\n    const result = handleApiResponse(response, __(\"Accounts synced successfully\"));\n\n    notify(\"success\", __(\"Success\"), result.message);\n\n    await refreshConnections();\n  } catch (error) {\n    console.error(\"Error syncing accounts:\", error);\n    notify(\"error\", __(\"Error\"), error.message || __(\"Failed to sync accounts\"));\n  } finally {\n    clearLoadingState(platformId, syncingPlatforms.value);\n  }\n};\n\nconst retryConnection = async (platformId) => {\n  const connection = getConnectionByPlatformId(platformId);\n\n  if (!connection) {\n    notify(\"error\", __(\"Error\"), __(\"Connection not found\"));\n    return;\n  }\n\n  if (!isConnectionFailed(platformId)) {\n    notify(\n      \"warning\",\n      __(\"Cannot Retry\"),\n      __(\"Connection retry is only available for failed connections\")\n    );\n    return;\n  }\n\n  connectingPlatforms.value.push(platformId);\n\n  try {\n    const response = await call(\"mbw_mira.api.external_connections.retry_connection\", {\n      connection_id: connection.connection_id || connection.name,\n    });\n\n    const result = handleApiResponse(\n      response,\n      __(\"Connection retry initiated successfully\")\n    );\n\n    notify(\n      \"success\",\n      result.requiresAuth ? __(\"Retry Initiated\") : __(\"Success\"),\n      result.message\n    );\n\n    await refreshConnections();\n\n    emit(\"connection-updated\", {\n      action: \"retry\",\n      platform: connection.platform_type,\n    });\n  } catch (error) {\n    console.error(\"Error retrying connection:\", error);\n    notify(\"error\", __(\"Error\"), error.message || __(\"Failed to retry connection\"));\n  } finally {\n    clearLoadingState(platformId, connectingPlatforms.value);\n  }\n};\n\n// Enhanced error recovery\nconst handleConnectionError = async (error, platformId, operation) => {\n  console.error(`Error in ${operation} for platform ${platformId}:`, error);\n\n  // Check if it's an authentication error\n  if (error.message && error.message.includes(\"authentication\")) {\n    notify(\n      \"warning\",\n      __(\"Authentication Required\"),\n      __(\"Your authentication has expired. Please reconnect to continue.\")\n    );\n\n    // Optionally trigger reconnect flow\n    const platform = Object.values(CONNECTION_TYPES)\n      .flatMap((type) => type.platforms)\n      .find((p) => p.id === platformId);\n\n    if (platform && confirm(__(\"Would you like to reconnect now?\"))) {\n      initiatePlatformConnection(platform);\n    }\n  } else if (error.message && error.message.includes(\"network\")) {\n    notify(\n      \"error\",\n      __(\"Network Error\"),\n      __(\"Please check your internet connection and try again.\")\n    );\n  } else {\n    notify(\"error\", __(\"Error\"), error.message || `${__(\"Failed to\")} ${operation}`);\n  }\n};\n\n// Lifecycle\nonMounted(async () => {\n  await refreshConnections();\n\n  // Auto-refresh every 30 seconds for pending connections\n  setInterval(async () => {\n    const hasPendingConnections = connections.value.some(\n      (conn) => conn.connection_status === \"Pending\"\n    );\n\n    if (hasPendingConnections && !isRefreshing.value) {\n      console.log(__(\"Auto-refreshing due to pending connections\"));\n      await refreshConnections();\n    }\n  }, 30000);\n});\n</script>\n\n<style scoped>\n.external-connections-container {\n  padding: 24px;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n/* Custom scrollbar for modal content */\n::deep(.dialog-body) {\n  max-height: 70vh;\n  overflow-y: auto;\n}\n\n/* Hover effects */\n.transition-all {\n  transition: all 0.2s ease-in-out;\n}\n\n/* Grid responsive adjustments */\n@media (max-width: 768px) {\n  .grid {\n    grid-template-columns: 1fr;\n  }\n}\n\n/* Loading states */\n.loading-overlay {\n  position: relative;\n}\n\n.loading-overlay::after {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.7);\n  border-radius: inherit;\n  pointer-events: none;\n}\n\n/* Status-specific styling */\n.status-pending {\n  border-left: 4px solid #f59e0b;\n}\n\n.status-connected {\n  border-left: 4px solid #10b981;\n}\n\n.status-failed {\n  border-left: 4px solid #ef4444;\n}\n\n.status-disconnected {\n  border-left: 4px solid #6b7280;\n}\n</style>\n"],"names":["props","__props","emit","__emit","toastWarning","useToast","isSubmitting","ref","isTesting","showAppSetupGuide","showAdvancedSettings","testResult","shallowRef","validationErrors","userResource","allUsers","getUser","usersStore","defaultFormData","_a","_b","localFormData","computedRedirectUrl","computed","check_redirect_url","check_window_location","isFormValid","form","isValidEmail","email","validateForm","errors","isValidUrl","string","toggleAdvancedSettings","testConnection","response","call","res","error","handleSubmit","submitData","handleCancel","loadExistingData","emitModelUpdate","nextTick","existing","updateTimeout","watch","newValue","currentDataString","newDataString","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_unref","FeatherIcon","_hoisted_4","_toDisplayString","__","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","FormControl","_cache","$event","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_Fragment","_c","account","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_createBlock","_component_Badge","_createTextVNode","_hoisted_21","_hoisted_22","_hoisted_23","Button","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_vModelCheckbox","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_normalizeClass","_hoisted_43","_hoisted_44","_hoisted_45","submitting","syncing","refreshingTemplates","messageTemplates","oaInfo","oaStmira","formData","reactive","defaultHookUrl","defaultRedirectUrl","zaloPermissions","syncNow","toast","loadOAInfo","refreshTemplates","loadMessageTemplates","getTemplateActions","template","viewTemplate","useTemplate","confirmDisconnect","formatDate","dateString","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","Badge","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_renderList","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","Dropdown","_withCtx","open","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_vModelSelect","_hoisted_105","_vModelText","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","_hoisted_46","_hoisted_47","permission","_hoisted_48","_hoisted_49","_hoisted_120","$emit","accountTypeOptions","calendarOptions","durationOptions","reminderOptions","timezoneOptions","contactSourceOptions","syncFrequencyOptions","calcomPermissions","parseSettings","settings","showApiSetupGuide","computedHookUrl","hasConnectedAccounts","connectedAccountsList","toastSuccess","toastError","toastInfo","notify","type","title","text","CONNECTION_TYPES","platformFormComponents","FacebookConnectionForm","ZaloConnectionForm","CalcomConnectionForm","TopcvConnectionForm","connections","isRefreshing","showConnectModal","showAccountModal","showEditModal","selectedPlatform","selectedConnection","editingConnection","connectingPlatforms","disconnectingPlatforms","syncingPlatforms","isConnecting","isUpdating","isRefreshingSingle","connectForm","editFormData","currentFormComponent","currentConnectionForm","value","currentEditForm","getConnectionByPlatformId","platformId","conn","getConnectionStatus","connection","hasConnection","isConnectionConnected","isConnectionFailed","status","canManageConnection","getConnectedAccountsForPlatform","getConnectionBadgeVariant","getConnectionStatusText","getStatusVariant","getModalTitle","resetForm","formObject","key","clearLoadingState","loadingArray","index","id","validateConnectionData","connectionData","missing","field","handleApiResponse","successMessage","win","calculateSuccessRate","total","successful","getSuccessRateColor","rate","closeConnectModal","closeEditModal","closeAccountModal","initiatePlatformConnection","platform","editConnectionForPlatform","accountsData","accountError","enrichedConnection","openAccountSettingsForPlatform","createConnection","result","refreshConnections","updateConnection","confirmAndDisconnect","platformName","disconnectPlatform","refreshSingleConnection","requestParams","connectionsData","handleConnectionSubmit","handleConnectionUpdate","syncAccounts","retryConnection","allPlatforms","typeKey","typeData","feature","Dialog","_resolveDynamicComponent"],"mappings":"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"}