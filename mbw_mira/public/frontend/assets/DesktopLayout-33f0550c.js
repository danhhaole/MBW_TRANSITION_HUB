import{f as X,s as V,g as S,h as N,i as Me,n as he,j as te,k as fe,l as Ie,t as Ae,c as xe,o as D,v as Ve,P as Re,a as pe,N as ne,O as _e,C as me,D as Ce,L as le,p as Ze,q as Be,r as Oe,w as Ne,T as ge,_ as De,u as se,b as Q,d as ze,x as He,E as je,e as Te}from"./GlobalModals-b27187b8.js";import{v as M,o as n,b as a,g as e,j as p,x as W,t as k,f as l,e as r,y as Fe,_ as Z,h as b,F as H,i as F,z as ae,w as g,n as z,A as oe,B as ie,l as R,C as J,c as j,D as ee,E as B,G as Ue,H as ke,I as we,k as G,J as re,K as Pe,L as Ee,r as T,M as qe,N as We,O as Ge,p as Ye,P as Qe,Q as Je,R as O,U as A,V as Ke,W as ve}from"./index-d693690c.js";import{_ as Xe}from"./Dropdown.vue_vue_type_script_setup_true_lang-dd4f5276.js";const et={},tt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function nt(s,t){return n(),a("svg",tt,t[0]||(t[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 6.5C9.10457 6.5 10 5.60457 10 4.5C10 3.39543 9.10457 2.5 8 2.5C6.89543 2.5 6 3.39543 6 4.5C6 5.60457 6.89543 6.5 8 6.5ZM8 7.5C9.65685 7.5 11 6.15685 11 4.5C11 2.84315 9.65685 1.5 8 1.5C6.34315 1.5 5 2.84315 5 4.5C5 6.15685 6.34315 7.5 8 7.5ZM12 13.5C13.1046 13.5 14 12.6046 14 11.5C14 10.3954 13.1046 9.5 12 9.5C10.8954 9.5 10 10.3954 10 11.5C10 12.6046 10.8954 13.5 12 13.5ZM12 14.5C13.6569 14.5 15 13.1569 15 11.5C15 9.84315 13.6569 8.5 12 8.5C10.3431 8.5 9 9.84315 9 11.5C9 13.1569 10.3431 14.5 12 14.5ZM6 11.5C6 12.6046 5.10457 13.5 4 13.5C2.89543 13.5 2 12.6046 2 11.5C2 10.3954 2.89543 9.5 4 9.5C5.10457 9.5 6 10.3954 6 11.5ZM7 11.5C7 13.1569 5.65685 14.5 4 14.5C2.34315 14.5 1 13.1569 1 11.5C1 9.84315 2.34315 8.5 4 8.5C5.65685 8.5 7 9.84315 7 11.5Z",fill:"currentColor"},null,-1)]))}const Y=M(et,[["render",nt]]),lt={},st={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-minimize-2"};function at(s,t){return n(),a("svg",st,t[0]||(t[0]=[e("polyline",{points:"4 14 10 14 10 20"},null,-1),e("polyline",{points:"20 10 14 10 14 4"},null,-1),e("line",{x1:"14",y1:"10",x2:"21",y2:"3"},null,-1),e("line",{x1:"3",y1:"21",x2:"10",y2:"14"},null,-1)]))}const ot=M(lt,[["render",at]]),it={},rt={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-maximize-2"};function ct(s,t){return n(),a("svg",rt,t[0]||(t[0]=[e("polyline",{points:"15 3 21 3 21 9"},null,-1),e("polyline",{points:"9 21 3 21 3 15"},null,-1),e("line",{x1:"21",y1:"3",x2:"14",y2:"10"},null,-1),e("line",{x1:"3",y1:"21",x2:"10",y2:"14"},null,-1)]))}const dt=M(it,[["render",ct]]),ut={},ft={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function pt(s,t){return n(),a("svg",ft,t[0]||(t[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.25 8C14.25 11.4518 11.4518 14.25 8 14.25C4.54822 14.25 1.75 11.4518 1.75 8C1.75 4.54822 4.54822 1.75 8 1.75C11.4518 1.75 14.25 4.54822 14.25 8ZM15.25 8C15.25 12.0041 12.0041 15.25 8 15.25C3.99594 15.25 0.75 12.0041 0.75 8C0.75 3.99594 3.99594 0.75 8 0.75C12.0041 0.75 15.25 3.99594 15.25 8ZM7.37988 9.37695V9.44531H8.39062V9.37695C8.39062 9.10352 8.41992 8.88542 8.47852 8.72266C8.53711 8.55664 8.62826 8.41504 8.75195 8.29785C8.87891 8.18066 9.04329 8.06185 9.24512 7.94141C9.56087 7.74609 9.8099 7.51009 9.99219 7.2334C10.1745 6.95345 10.2656 6.61328 10.2656 6.21289C10.2656 5.82878 10.1745 5.49186 9.99219 5.20215C9.81315 4.91244 9.56087 4.6862 9.23535 4.52344C8.90983 4.36068 8.52734 4.2793 8.08789 4.2793C7.69401 4.2793 7.33268 4.35579 7.00391 4.50879C6.67513 4.65853 6.41146 4.88151 6.21289 5.17773C6.01432 5.4707 5.90853 5.82878 5.89551 6.25195H6.96973C6.986 6.0013 7.04948 5.79785 7.16016 5.6416C7.27083 5.4821 7.40755 5.36491 7.57031 5.29004C7.73633 5.21517 7.90885 5.17773 8.08789 5.17773C8.28971 5.17773 8.47363 5.22005 8.63965 5.30469C8.80892 5.38932 8.94075 5.50814 9.03516 5.66113C9.13281 5.81413 9.18164 5.99479 9.18164 6.20312C9.18164 6.47005 9.11003 6.69954 8.9668 6.8916C8.82357 7.0804 8.64453 7.23828 8.42969 7.36523C8.21159 7.50195 8.02279 7.64193 7.86328 7.78516C7.70703 7.92513 7.58659 8.11556 7.50195 8.35645C7.42057 8.59408 7.37988 8.93425 7.37988 9.37695ZM7.37988 11.5205C7.51986 11.654 7.69076 11.7207 7.89258 11.7207C8.09766 11.7207 8.26855 11.654 8.40527 11.5205C8.54525 11.3838 8.61523 11.2161 8.61523 11.0176C8.61523 10.8158 8.54525 10.6481 8.40527 10.5146C8.26855 10.3779 8.09766 10.3096 7.89258 10.3096C7.69076 10.3096 7.51986 10.3779 7.37988 10.5146C7.24316 10.6481 7.1748 10.8158 7.1748 11.0176C7.1748 11.2161 7.24316 11.3838 7.37988 11.5205Z",fill:"currentColor"},null,-1)]))}const _t=M(ut,[["render",pt]]),mt={class:"flex flex-col justify-center items-center gap-1 mt-4 mb-7"},Ct={class:"text-base font-medium"},gt={class:"text-p-base font-normal"},vt={class:"flex flex-col gap-2.5 overflow-hidden"},ht={class:"flex justify-between items-center py-0.5"},xt={class:"flex"},kt={class:"flex flex-col gap-1.5 overflow-y-auto"},wt=["onClick"],yt={__name:"OnboardingSteps",props:{appName:{type:String,default:"frappecrm"},title:{type:String,default:"Frappe CRM"},logo:{type:Object,required:!0},afterSkip:{type:Function,default:()=>{}},afterSkipAll:{type:Function,default:()=>{}},afterReset:{type:Function,default:()=>{}},afterResetAll:{type:Function,default:()=>{}}},setup(s){const t=s;function d(_){if(_.dependsOn&&!_.completed){const x=i.find(m=>m.name===_.dependsOn);if(x&&!x.completed)return!0}return!1}function u(_){if(_.dependsOn&&!_.completed){const x=i.find(m=>m.name===_.dependsOn);if(x&&!x.completed)return`You need to complete "${x.title}" first.`}return""}const{steps:i,stepsCompleted:v,totalSteps:$,completedPercentage:h,skip:w,skipAll:o,reset:f,resetAll:L}=X(t.appName);return(_,x)=>(n(),a(H,null,[e("div",mt,[(n(),p(W(s.logo),{class:"size-10 shrink-0 rounded mb-4"})),e("div",Ct,k("Welcome to "+s.title),1),e("div",gt,k(`${l(v)}/${l($)} steps completed`),1)]),e("div",vt,[e("div",ht,[r(Fe,{label:`${l(h)}% completed`,theme:l(h)==100?"green":"orange",size:"lg"},null,8,["label","theme"]),e("div",xt,[l(h)!=0?(n(),p(Z,{key:0,variant:"ghost",label:"Reset all",onClick:x[0]||(x[0]=()=>l(L)(s.afterResetAll))})):b("",!0),l(h)!=100?(n(),p(Z,{key:1,variant:"ghost",label:"Skip all",onClick:x[1]||(x[1]=()=>l(o)(s.afterSkipAll))})):b("",!0)])]),e("div",kt,[(n(!0),a(H,null,F(l(i),m=>(n(),a("div",{key:m.title,class:"group w-full flex gap-2 justify-between items-center hover:bg-surface-gray-1 rounded px-2 py-1.5 cursor-pointer",onClick:ae(()=>!m.completed&&!d(m)&&m.onClick(),["stop"])},[(n(),p(W(d(m)?oe:"div"),{text:u(m)},{default:g(()=>[e("div",{class:z(["flex gap-2 items-center",[m.completed?"text-ink-gray-5":d(m)?"text-ink-gray-4":"text-ink-gray-8"]])},[(n(),p(W(m.icon),{class:"h-4"})),e("div",{class:z(["text-base",{"line-through":m.completed}])},k(m.title),3)],2)]),_:2},1032,["text"])),!m.completed&&!d(m)?(n(),p(Z,{key:0,label:"Skip",class:"!h-4 text-xs !text-ink-gray-6 hidden group-hover:flex",onClick:()=>l(w)(m.name,s.afterSkip)},null,8,["onClick"])):d(m)?b("",!0):(n(),p(Z,{key:1,label:"Reset",class:"!h-4 text-xs !text-ink-gray-6 hidden group-hover:flex",onClick:ae(()=>l(f)(m.name,s.afterReset),["stop"])},null,8,["onClick"]))],8,wt))),128))])])],64))}},bt={class:"flex flex-col gap-2 overflow-hidden"},$t={class:"m-1"},Lt={class:"flex justify-between items-center text-base text-ink-gray-5 mx-2"},St={class:"flex flex-col gap-1.5 overflow-y-auto"},Mt=["onClick"],It={class:"flex items-center gap-2"},At={class:"text-base text-ink-gray-8"},Vt={class:"flex flex-col gap-1.5 ml-5"},Rt=["onClick"],Zt={class:"flex items-center gap-2"},Bt={class:"text-base text-ink-gray-8"},Ot={__name:"HelpCenter",props:ie({docsLink:{type:String,default:"https://docs.frappe.io/crm"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const t=s,d=R(null),u=R(""),i=J(s,"modelValue"),v=j(()=>u.value?i.value.filter(w=>{const o=w.subArticles.filter(f=>f.title.toLowerCase().includes(u.value.toLowerCase()));return w.title.toLowerCase().includes(u.value.toLowerCase())||o.length>0?{...w,subArticles:o}:!1}):i.value);function $(){window.open(t.docsLink,"_blank")}function h(w){window.open(`${t.docsLink}/${w}`,"_blank")}return ee(()=>{var w,o;(o=(w=d.value)==null?void 0:w.el)==null||o.focus()}),(w,o)=>(n(),a("div",bt,[e("div",$t,[r(Ue,{ref_key:"searchInput",ref:d,placeholder:"Search articles...",modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=f=>u.value=f),debounce:300},{prefix:g(()=>[r(B,{name:"search",class:"h-4 text-ink-gray-5"})]),_:1},8,["modelValue"])]),e("div",Lt,[o[1]||(o[1]=e("div",null,"All articles",-1)),r(Z,{variant:"ghost",onClick:$},{default:g(()=>[r(B,{name:"arrow-up-right",class:"h-4 text-ink-gray-5"})]),_:1})]),e("div",St,[(n(!0),a(H,null,F(v.value,f=>(n(),a("div",{key:f.title,class:"flex flex-col gap-1.5"},[e("div",{class:"flex items-center justify-between p-1.5 hover:bg-surface-gray-1 rounded cursor-pointer",onClick:L=>f.opened=!f.opened},[e("div",It,[r(B,{name:f.opened?"chevron-down":"chevron-right",class:"h-4 text-ink-gray-5"},null,8,["name"]),e("div",At,k(f.title),1)])],8,Mt),ke(e("div",Vt,[(n(!0),a(H,null,F(f.subArticles,L=>(n(),a("div",{key:L.name,class:"group flex items-center justify-between gap-2 p-1.5 hover:bg-surface-gray-1 rounded cursor-pointer",onClick:()=>h(L.name)},[e("div",Zt,[r(B,{name:"file-text",class:"h-4 text-ink-gray-5"}),e("div",Bt,k(L.title),1)]),r(B,{name:"arrow-up-right",class:"h-4 hidden group-hover:flex text-ink-gray-5"})],8,Rt))),128))],512),[[we,f.opened]])]))),128))])]))}},Nt={class:"flex items-center justify-between px-2 py-1.5"},Dt={class:"text-base font-medium"},zt={class:"flex gap-1"},Ht={class:"h-full overflow-hidden flex flex-col"},jt={class:"flex flex-col gap-1.5"},Tt=["onClick"],Ft={class:"text-base"},Ut={__name:"HelpModal",props:ie({appName:{type:String,default:"frappecrm"},title:{type:String,default:"Frappe CRM"},logo:{type:Object,required:!0},afterSkip:{type:Function,default:()=>{}},afterSkipAll:{type:Function,default:()=>{}},afterReset:{type:Function,default:()=>{}},afterResetAll:{type:Function,default:()=>{}},docsLink:{type:String,default:"https://docs.frappe.io/crm"}},{modelValue:{},modelModifiers:{},articles:{},articlesModifiers:{}}),emits:["update:modelValue","update:articles"],setup(s){const t=s,{syncStatus:d,resetAll:u,isOnboardingStepsCompleted:i}=X(t.appName),v=J(s,"modelValue"),$=J(s,"articles"),h=j(()=>{if(!i.value&&!V.value)return"Getting started";if(V.value)return"Help center"}),w=j(()=>[{icon:Y,label:"Reset onboarding steps",onClick:f,condition:()=>V.value&&i.value}].filter(_=>_.condition())),o=j(()=>[{icon:_t,label:"Help centre",onClick:()=>{d(),V.value=!0},condition:!i.value&&!V.value},{icon:Y,label:"Getting started",onClick:()=>V.value=!1,condition:V.value&&!i.value}].filter(_=>_.condition));function f(){u(),i.value=!1,V.value=!1}return ee(()=>{i.value&&(V.value=!0)}),(L,_)=>ke((n(),a("div",{class:z(["fixed z-50 right-0 w-80 h-[calc(100%_-_80px)] text-ink-gray-9 m-5 mt-[62px] p-3 flex gap-2 flex-col justify-between rounded-lg bg-surface-modal shadow-2xl",{"top-[calc(100%_-_120px)] border":l(S)}]),onClick:_[3]||(_[3]=ae(()=>{},["stop"]))},[e("div",Nt,[e("div",Dt,k(h.value),1),e("div",zt,[w.value.length?(n(),p(Xe,{key:0,options:w.value},{default:g(()=>[r(Z,{variant:"ghost",icon:"more-horizontal"})]),_:1},8,["options"])):b("",!0),r(Z,{onClick:_[0]||(_[0]=x=>S.value=!l(S)),variant:"ghost"},{default:g(()=>[(n(),p(W(l(S)?dt:ot),{class:"h-3.5"}))]),_:1}),r(Z,{variant:"ghost",onClick:_[1]||(_[1]=x=>v.value=!1)},{default:g(()=>[r(B,{name:"x",class:"h-3.5"})]),_:1})])]),e("div",Ht,[!l(i)&&!l(V)?(n(),p(yt,{key:0,title:s.title,logo:s.logo,afterSkip:s.afterSkip,afterSkipAll:s.afterSkipAll,afterReset:s.afterReset,afterResetAll:s.afterResetAll,appName:s.appName},null,8,["title","logo","afterSkip","afterSkipAll","afterReset","afterResetAll","appName"])):l(V)?(n(),p(Ot,{key:1,modelValue:$.value,"onUpdate:modelValue":_[2]||(_[2]=x=>$.value=x),docsLink:s.docsLink},null,8,["modelValue","docsLink"])):b("",!0)]),(n(!0),a(H,null,F(o.value,x=>(n(),a("div",jt,[e("div",{class:"w-full flex gap-2 items-center hover:bg-surface-gray-1 text-ink-gray-8 rounded px-2 py-1.5 cursor-pointer",onClick:x.onClick},[(n(),p(W(x.icon),{class:"h-4"})),e("div",Ft,k(x.label),1)],8,Tt)]))),256))],2)),[[we,v.value]])}},Pt={key:0,class:"flex flex-col gap-3 shadow-sm rounded-lg py-2.5 px-3 bg-surface-modal text-base"},Et={key:0,class:"inline-flex text-ink-gray-9 gap-2"},qt={class:"flex flex-col text-p-sm gap-0.5"},Wt={class:"text-ink-gray-7"},Gt={key:1,class:"flex flex-col gap-1"},Yt={class:"flex items-center justify-between gap-1"},Qt={class:"flex items-center gap-2 shrink-0"},Jt={__name:"GettingStartedBanner",props:{isSidebarCollapsed:{type:Boolean,default:!1},appName:{type:String,default:"frappecrm"}},setup(s){const t=s,{stepsCompleted:d,totalSteps:u,isOnboardingStepsCompleted:i}=X(t.appName),v=()=>{S.value=!1,N.value=!0};return($,h)=>s.isSidebarCollapsed?l(d)!=l(u)?(n(),p(Z,{key:1,onClick:v},{default:g(()=>[r(Y,{class:"h-4 my-0.5 shrink-0"})]),_:1})):b("",!0):(n(),a("div",Pt,[l(d)!=l(u)?(n(),a("div",Et,[r(Y,{class:"h-4 my-0.5 shrink-0"}),e("div",qt,[h[1]||(h[1]=e("div",{class:"font-medium"},k("Getting started"),-1)),e("div",Wt,k(`${l(d)}/${l(u)} steps`),1)])])):(n(),a("div",Gt,[e("div",Yt,[e("div",Qt,[r(Y,{class:"h-4 my-0.5"}),h[2]||(h[2]=e("div",{class:"text-ink-gray-9 font-medium"},k("You are all set"),-1))]),r(B,{name:"x",class:"h-4 cursor-pointer",onClick:h[0]||(h[0]=()=>{V.value=!0,i.value=!0})})]),h[3]||(h[3]=e("div",{class:"text-p-sm text-ink-gray-7"},k("All steps are completed successfully"),-1))])),l(d)!=l(u)?(n(),p(Z,{key:2,label:l(d)==0?"Start now":"Continue",theme:"blue",onClick:v},{prefix:g(()=>[r(B,{name:"chevrons-right",class:"size-4"})]),_:1},8,["label"])):b("",!0)]))}},Kt={class:"flex flex-col gap-2 text-ink-gray-9 text-base"},Xt={key:0},e1={key:1,class:"w-full rounded",controls:"",autoplay:"",muted:""},t1=["src"],n1={__name:"IntermediateStepModal",props:ie({currentStep:{type:Object,default:{title:"Title",message:"Message",videoURL:"",buttonLabel:"Button Label",onClick:()=>{}}},dialogOptions:{type:Object,default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const t=s,d=J(s,"modelValue"),u=j(()=>t.dialogOptions&&Object.keys(t.dialogOptions).length?t.dialogOptions:{title:t.currentStep.title,size:"2xl",actions:[{label:t.currentStep.buttonLabel,variant:"solid",onClick:t.currentStep.onClick}]});return(i,v)=>(n(),p(l(Pe),{modelValue:d.value,"onUpdate:modelValue":v[0]||(v[0]=$=>d.value=$),options:u.value},{"boday-header":g(()=>[G(i.$slots,"body-header")]),"body-content":g(()=>[G(i.$slots,"default",{},()=>[e("div",Kt,[s.currentStep.message?(n(),a("div",Xt,k(s.currentStep.message),1)):b("",!0),s.currentStep.videoURL?(n(),a("video",e1,[e("source",{src:s.currentStep.videoURL,type:"video/mp4"},null,8,t1),v[1]||(v[1]=re(" Your browser does not support the video tag. "))])):b("",!0)])])]),actions:g(()=>[G(i.$slots,"actions")]),_:3},8,["modelValue","options"]))}},l1={},s1={width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function a1(s,t){return n(),a("svg",s1,t[0]||(t[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.2641 1C5.5758 1 4.97583 1.46845 4.80889 2.1362L3.57555 7.06953C3.33887 8.01625 4.05491 8.93333 5.03077 8.93333H7.50682L6.72168 14.4293C6.68838 14.6624 6.82229 14.8872 7.04319 14.9689C7.26408 15.0507 7.51204 14.9671 7.63849 14.7684L13.2161 6.00354C13.6398 5.33782 13.1616 4.46667 12.3725 4.46667H9.59038L10.3017 1.62127C10.3391 1.4719 10.3055 1.31365 10.2108 1.19229C10.116 1.07094 9.97063 1 9.81666 1H6.2641ZM5.77903 2.37873C5.83468 2.15615 6.03467 2 6.2641 2H9.17627L8.46492 4.8454C8.42758 4.99477 8.46114 5.15302 8.55589 5.27437C8.65064 5.39573 8.79602 5.46667 8.94999 5.46667H12.3725L8.0395 12.2757L8.5783 8.50404C8.5988 8.36056 8.55602 8.21523 8.46105 8.10573C8.36608 7.99623 8.22827 7.93333 8.08332 7.93333H5.03077C4.70548 7.93333 4.4668 7.62764 4.5457 7.31207L5.77903 2.37873Z",fill:"currentColor"},null,-1)]))}const K=M(l1,[["render",a1]]),o1={key:0,class:"flex flex-col gap-3 shadow-sm rounded-lg py-2.5 px-3 bg-surface-modal text-base"},i1={class:"flex flex-col gap-1"},r1={class:"inline-flex text-ink-gray-9 gap-2 items-center font-medium"},c1="Upgrade to a paid plan for uninterrupted services",d1={__name:"TrialBanner",props:{isSidebarCollapsed:{type:Boolean,default:!1},afterUpgrade:{type:Function,default:()=>{}}},setup(s){const t=s,d=R(0),u=R(!1),i=R("https://frappecloud.com"),v=R(""),$=j(()=>d.value>1?"Trial ends in "+d.value+" days":"Trial ends tomorrow");Ee({url:"frappe.integrations.frappe_providers.frappecloud_billing.current_site_info",cache:"current_site_info_data",auto:!0,onSuccess:o=>{d.value=h(o.trial_end_date),i.value=o.base_url,v.value=o.site_name,u.value=o.setup_complete&&o.plan.is_trial_plan&&d.value>0}});function h(o){if(!o)return 0;o=new Date(o);const L=o-new Date;return Math.ceil(L/(1e3*60*60*24))}function w(){var o;window.open(`${i.value}/dashboard/sites/${v.value}`,"_blank"),(o=t.afterUpgrade)==null||o.call(t)}return(o,f)=>!s.isSidebarCollapsed&&u.value?(n(),a("div",o1,[e("div",i1,[e("div",r1,[r(B,{class:"h-4",name:"info"}),re(" "+k($.value),1)]),e("div",{class:"text-ink-gray-7 text-p-sm"},k(c1))]),r(l(Z),{label:"Upgrade plan",theme:"blue",onClick:w},{prefix:g(()=>[r(K,{class:"size-4"})]),_:1})])):s.isSidebarCollapsed&&u.value?(n(),p(l(Z),{key:1,onClick:w},{default:g(()=>[r(K,{class:"h-4 my-0.5 shrink-0"})]),_:1})):b("",!0)}},u1={key:0,class:"flex flex-col gap-3 shadow-sm rounded-lg py-2.5 px-3 bg-surface-white text-base"},f1={class:"flex flex-col gap-1"},p1={class:"inline-flex gap-2 items-center font-medium"},_1={class:"text-ink-gray-7 text-p-sm"},m1={__name:"SignupBanner",props:{isSidebarCollapsed:{type:Boolean,default:!1},appName:{type:String,default:"Frappe CRM"},redirectURL:{type:String,default:"https://frappecloud.com/crm/signup"},afterSignup:{type:Function,default:()=>{}}},setup(s){const t=s;function d(){var u;window.open(t.redirectURL,"_blank"),(u=t.afterSignup)==null||u.call(t)}return(u,i)=>{const v=T("FeatherIcon"),$=T("Button");return s.isSidebarCollapsed?(n(),p($,{key:1,onClick:d},{default:g(()=>[r(K,{class:"h-4 my-0.5 shrink-0"})]),_:1})):(n(),a("div",u1,[e("div",f1,[G(u.$slots,"default",{},()=>[e("div",p1,[r(v,{class:"h-4",name:"info"}),i[0]||(i[0]=re(" Loved the demo? "))]),e("div",_1,k(`Try ${s.appName} for free with a 14-day trial.`),1)])]),r($,{label:"Sign up now",theme:"blue",onClick:d},{prefix:g(()=>[r(K,{class:"size-4"})]),_:1})]))}}},C1={},g1={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function v1(s,t){return n(),a("svg",g1,t[0]||(t[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.5 0C13.7761 0 14 0.223858 14 0.5V2H15.5C15.7761 2 16 2.22386 16 2.5C16 2.77614 15.7761 3 15.5 3H14V4.5C14 4.77614 13.7761 5 13.5 5C13.2239 5 13 4.77614 13 4.5V3H11.5C11.2239 3 11 2.77614 11 2.5C11 2.22386 11.2239 2 11.5 2H13V0.5C13 0.223858 13.2239 0 13.5 0ZM7.9998 2C4.6862 2 2 4.6862 2 7.9998C2 9.49431 2.54643 10.8612 3.45041 11.9116C4.18218 10.8499 5.63104 9.51974 7.99595 9.50011L8.0001 9.50008C9.89267 9.50009 11.5613 10.456 12.5506 11.91C13.4537 10.8598 13.9996 9.49355 13.9996 7.9998C13.9996 7.72366 14.2235 7.4998 14.4996 7.4998C14.7757 7.4998 14.9996 7.72366 14.9996 7.9998C14.9996 11.8657 11.8657 14.9996 7.9998 14.9996C4.13392 14.9996 1 11.8657 1 7.9998C1 4.13392 4.13392 1 7.9998 1C8.27594 1 8.4998 1.22386 8.4998 1.5C8.4998 1.77614 8.27594 2 7.9998 2ZM11.8227 12.6242C11.0281 11.3487 9.61378 10.5008 8.00216 10.5001C5.94811 10.518 4.73746 11.7366 4.17676 12.6241C5.21484 13.4833 6.54702 13.9996 7.9998 13.9996C9.45251 13.9996 10.7846 13.4833 11.8227 12.6242ZM8 4.5C7.0335 4.5 6.25 5.2835 6.25 6.25C6.25 7.2165 7.0335 8 8 8C8.9665 8 9.75 7.2165 9.75 6.25C9.75 5.2835 8.9665 4.5 8 4.5ZM5.25 6.25C5.25 4.73122 6.48122 3.5 8 3.5C9.51878 3.5 10.75 4.73122 10.75 6.25C10.75 7.76878 9.51878 9 8 9C6.48122 9 5.25 7.76878 5.25 6.25Z",fill:"currentColor"},null,-1)]))}const h1=M(C1,[["render",v1]]),x1={},k1={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function w1(s,t){return n(),a("svg",k1,t[0]||(t[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.71639 1.68847C7.20728 1.49315 5.6781 1.84427 4.40534 2.67832C3.50159 3.27056 2.7695 4.07854 2.26943 5.02055C2.13995 5.26445 2.23271 5.56714 2.47662 5.69662C2.72052 5.8261 3.02321 5.73334 3.15269 5.48943C3.57431 4.69521 4.19153 4.01402 4.95345 3.51473C6.02649 2.81155 7.31573 2.51553 8.58803 2.6802C9.86034 2.84487 11.0317 3.45936 11.8904 4.41255C12.5455 5.13978 12.9856 6.02752 13.1713 6.97711L12.0682 6.38995C11.8245 6.2602 11.5217 6.35263 11.3919 6.59639C11.2622 6.84015 11.3546 7.14294 11.5984 7.27269L13.8052 8.44735C14.049 8.5771 14.3518 8.48468 14.4815 8.24091L15.6562 6.03407C15.7859 5.79031 15.6935 5.48752 15.4497 5.35777C15.206 5.22802 14.9032 5.32044 14.7734 5.5642L14.1448 6.74523C13.92 5.63395 13.4012 4.59563 12.6334 3.74325C11.6149 2.61265 10.2255 1.88379 8.71639 1.68847ZM7.51332 14.3501C9.0288 14.4875 10.5434 14.0781 11.7833 13.1959C12.5865 12.6244 13.2401 11.8789 13.7005 11.0233C13.8314 10.7801 13.7404 10.4769 13.4972 10.3461C13.254 10.2152 12.9508 10.3062 12.82 10.5494C12.4317 11.2708 11.8807 11.8993 11.2035 12.3811C10.1582 13.1249 8.88128 13.47 7.6036 13.3542C6.32592 13.2384 5.13186 12.6692 4.23732 11.7496C3.50475 10.9965 3.01266 10.0491 2.81428 9.02749L3.95178 9.68895C4.1905 9.82776 4.49655 9.74677 4.63536 9.50805C4.77417 9.26934 4.69318 8.96329 4.45447 8.82448L2.29329 7.56777C2.05458 7.42895 1.74853 7.50994 1.60972 7.74866L0.353003 9.90983C0.214191 10.1485 0.295179 10.4546 0.533896 10.5934C0.772613 10.7322 1.07866 10.6512 1.21747 10.4125L1.85313 9.31938C2.10072 10.4924 2.67584 11.5786 3.52051 12.4469C4.58154 13.5377 5.99784 14.2128 7.51332 14.3501Z",fill:"currentColor"},null,-1)]))}const y1=M(x1,[["render",w1]]),b1={},$1={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function L1(s,t){return n(),a("svg",$1,t[0]||(t[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 2.5C4.2911 2.5 1.5 4.84419 1.5 7.5C1.5 9.14452 2.54729 10.6518 4.25112 11.5816C4.50048 11.7177 4.758 12.0041 4.7326 12.4082C4.71107 12.7508 4.61659 13.2533 4.47175 13.6657C4.44071 13.7541 4.40789 13.8389 4.37434 13.9195C4.62005 13.8524 4.91964 13.7411 5.26646 13.5579C5.48882 13.4404 5.69385 13.2901 5.9102 13.1207C5.95058 13.089 5.9922 13.056 6.03481 13.0222C6.20816 12.8848 6.39803 12.7342 6.58835 12.6102C6.7875 12.4803 7.01146 12.4447 7.20831 12.4631C7.46767 12.4875 7.73186 12.5 8 12.5C11.7089 12.5 14.5 10.1558 14.5 7.5C14.5 4.84419 11.7089 2.5 8 2.5ZM0.5 7.5C0.5 4.08068 3.97691 1.5 8 1.5C12.0231 1.5 15.5 4.08068 15.5 7.5C15.5 10.9193 12.0231 13.5 8 13.5C7.70158 13.5 7.40709 13.4861 7.11751 13.459C6.97583 13.5528 6.83777 13.6621 6.67569 13.7905C6.62832 13.828 6.5789 13.8671 6.52674 13.908C6.30071 14.085 6.03818 14.2812 5.73354 14.4421C4.73389 14.9702 3.9948 15.0302 3.62977 15.0147C3.39759 15.0048 3.20936 14.8646 3.12194 14.6754C3.03801 14.4938 3.05143 14.2816 3.15736 14.1099C3.24804 13.963 3.40655 13.6808 3.52825 13.3343C3.62961 13.0457 3.70134 12.6878 3.72712 12.4347C1.81521 11.3748 0.5 9.58517 0.5 7.5Z",fill:"currentColor"},null,-1)]))}const S1=M(b1,[["render",L1]]),M1={},I1={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function A1(s,t){return n(),a("svg",I1,t[0]||(t[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.75 7.06416V12.1549C13.75 12.9834 13.0784 13.6549 12.25 13.6549H3.75C2.92157 13.6549 2.25 12.9834 2.25 12.1549V7.06416L6.81475 9.5221C7.55469 9.92053 8.44531 9.92053 9.18525 9.5221L13.75 7.06416ZM13.7469 5.93008C13.7137 5.41511 13.4172 4.95039 12.9583 4.70457L8.70833 2.42778C8.26586 2.19074 7.73414 2.19074 7.29167 2.42778L3.04167 4.70457C2.5828 4.95039 2.28629 5.41511 2.25311 5.93008L7.28885 8.64163C7.73282 8.88069 8.26719 8.88069 8.71115 8.64163L13.7469 5.93008ZM1.25 6.02679C1.25 5.10517 1.75706 4.25829 2.56945 3.82309L6.81945 1.5463C7.55691 1.15123 8.4431 1.15123 9.18055 1.5463L13.4306 3.82309C14.2429 4.25829 14.75 5.10517 14.75 6.02679V12.1549C14.75 13.5356 13.6307 14.6549 12.25 14.6549H3.75C2.36929 14.6549 1.25 13.5356 1.25 12.1549V6.02679Z",fill:"currentColor"},null,-1)]))}const V1=M(M1,[["render",A1]]),R1={},Z1={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function B1(s,t){return n(),a("svg",Z1,t[0]||(t[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 6.5C9.10457 6.5 10 5.60457 10 4.5C10 3.39543 9.10457 2.5 8 2.5C6.89543 2.5 6 3.39543 6 4.5C6 5.60457 6.89543 6.5 8 6.5ZM8 7.5C9.65685 7.5 11 6.15685 11 4.5C11 2.84315 9.65685 1.5 8 1.5C6.34315 1.5 5 2.84315 5 4.5C5 6.15685 6.34315 7.5 8 7.5ZM12 13.5C13.1046 13.5 14 12.6046 14 11.5C14 10.3954 13.1046 9.5 12 9.5C10.8954 9.5 10 10.3954 10 11.5C10 12.6046 10.8954 13.5 12 13.5ZM12 14.5C13.6569 14.5 15 13.1569 15 11.5C15 9.84315 13.6569 8.5 12 8.5C10.3431 8.5 9 9.84315 9 11.5C9 13.1569 10.3431 14.5 12 14.5ZM6 11.5C6 12.6046 5.10457 13.5 4 13.5C2.89543 13.5 2 12.6046 2 11.5C2 10.3954 2.89543 9.5 4 9.5C5.10457 9.5 6 10.3954 6 11.5ZM7 11.5C7 13.1569 5.65685 14.5 4 14.5C2.34315 14.5 1 13.1569 1 11.5C1 9.84315 2.34315 8.5 4 8.5C5.65685 8.5 7 9.84315 7 11.5Z",fill:"currentColor"},null,-1)]))}const O1=M(R1,[["render",B1]]),N1={},D1={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-square-asterisk-icon lucide-square-asterisk"};function z1(s,t){return n(),a("svg",D1,t[0]||(t[0]=[e("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"},null,-1),e("path",{d:"M12 8v8"},null,-1),e("path",{d:"m8.5 14 7-4"},null,-1),e("path",{d:"m8.5 10 7 4"},null,-1)]))}const H1=M(N1,[["render",z1]]),j1={},T1={width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function F1(s,t){return n(),a("svg",T1,t[0]||(t[0]=[e("path",{d:"M10.875 9.06223L3 9.06232",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("path",{d:"M6.74537 5.31699L3 9.06236L6.74527 12.8076",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("path",{d:"M14.1423 4L14.1423 14.125",stroke:"currentColor","stroke-linecap":"round"},null,-1)]))}const U1=M(j1,[["render",F1]]),P1={},E1={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function q1(s,t){return n(),a("svg",E1,t[0]||(t[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.25 8C14.25 11.4518 11.4518 14.25 8 14.25C4.54822 14.25 1.75 11.4518 1.75 8C1.75 4.54822 4.54822 1.75 8 1.75C11.4518 1.75 14.25 4.54822 14.25 8ZM15.25 8C15.25 12.0041 12.0041 15.25 8 15.25C3.99594 15.25 0.75 12.0041 0.75 8C0.75 3.99594 3.99594 0.75 8 0.75C12.0041 0.75 15.25 3.99594 15.25 8ZM7.37988 9.37695V9.44531H8.39062V9.37695C8.39062 9.10352 8.41992 8.88542 8.47852 8.72266C8.53711 8.55664 8.62826 8.41504 8.75195 8.29785C8.87891 8.18066 9.04329 8.06185 9.24512 7.94141C9.56087 7.74609 9.8099 7.51009 9.99219 7.2334C10.1745 6.95345 10.2656 6.61328 10.2656 6.21289C10.2656 5.82878 10.1745 5.49186 9.99219 5.20215C9.81315 4.91244 9.56087 4.6862 9.23535 4.52344C8.90983 4.36068 8.52734 4.2793 8.08789 4.2793C7.69401 4.2793 7.33268 4.35579 7.00391 4.50879C6.67513 4.65853 6.41146 4.88151 6.21289 5.17773C6.01432 5.4707 5.90853 5.82878 5.89551 6.25195H6.96973C6.986 6.0013 7.04948 5.79785 7.16016 5.6416C7.27083 5.4821 7.40755 5.36491 7.57031 5.29004C7.73633 5.21517 7.90885 5.17773 8.08789 5.17773C8.28971 5.17773 8.47363 5.22005 8.63965 5.30469C8.80892 5.38932 8.94075 5.50814 9.03516 5.66113C9.13281 5.81413 9.18164 5.99479 9.18164 6.20312C9.18164 6.47005 9.11003 6.69954 8.9668 6.8916C8.82357 7.0804 8.64453 7.23828 8.42969 7.36523C8.21159 7.50195 8.02279 7.64193 7.86328 7.78516C7.70703 7.92513 7.58659 8.11556 7.50195 8.35645C7.42057 8.59408 7.37988 8.93425 7.37988 9.37695ZM7.37988 11.5205C7.51986 11.654 7.69076 11.7207 7.89258 11.7207C8.09766 11.7207 8.26855 11.654 8.40527 11.5205C8.54525 11.3838 8.61523 11.2161 8.61523 11.0176C8.61523 10.8158 8.54525 10.6481 8.40527 10.5146C8.26855 10.3779 8.09766 10.3096 7.89258 10.3096C7.69076 10.3096 7.51986 10.3779 7.37988 10.5146C7.24316 10.6481 7.1748 10.8158 7.1748 11.0176C7.1748 11.2161 7.24316 11.3838 7.37988 11.5205Z",fill:"currentColor"},null,-1)]))}const W1=M(P1,[["render",q1]]),G1={},Y1={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Q1(s,t){return n(),a("svg",Y1,t[0]||(t[0]=[e("path",{d:"M4.19429 13.6C5.56327 14.5333 8.15223 15.1961 9.73933 14.8099C11.3264 14.4238 12.7265 13.4706 13.6872 12.1223C14.6479 10.7739 15.1061 9.11889 14.9793 7.45557C14.8524 5.79226 14.1487 4.22998 12.9952 3.05026C11.8416 1.87055 10.3139 1.15098 8.68746 1.02121C7.061 0.891454 5.4427 1.36004 4.12418 2.34253C2.80566 3.32502 1.87363 4.7568 1.49604 6.37987C1.11846 8.00294 1.45633 10.3333 2.36898 11.7333L1 15L4.19429 13.6Z",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.71612 10.4723L9.28571 9.71429C9.70194 9.29806 9.94789 9.46347 10.5197 9.69365C10.5539 9.70744 10.5864 9.72549 10.616 9.74759L10.8769 9.94262C11.0372 10.056 11.0417 10.2914 10.8858 10.4108L10.3234 10.8417C10.0967 11.0153 9.79336 11.0518 9.53832 10.9229C8.90412 10.6023 7.67975 9.92002 6.81142 9.04152C5.9706 8.19086 5.36418 7.06182 5.06827 6.44175C4.93712 6.16692 5.00025 5.84477 5.21201 5.62529L5.7289 5.08958C5.86084 4.95283 6.08682 4.97592 6.18808 5.13648L6.53726 5.62529C6.81142 6.0633 6.42128 6.43691 6.18808 6.59294L5.42857 7.13786",fill:"currentColor"},null,-1),e("path",{d:"M8.71612 10.4723L9.28571 9.71429C9.70194 9.29806 9.94789 9.46347 10.5197 9.69365C10.5539 9.70744 10.5864 9.72549 10.616 9.74759L10.8769 9.94262C11.0372 10.056 11.0417 10.2914 10.8858 10.4108L10.3234 10.8417C10.0967 11.0153 9.79336 11.0518 9.53832 10.9229C8.90412 10.6023 7.67975 9.92002 6.81142 9.04152C5.9706 8.19086 5.36418 7.06182 5.06827 6.44175C4.93712 6.16692 5.00025 5.84477 5.21201 5.62529L5.7289 5.08958C5.86084 4.95283 6.08682 4.97592 6.18808 5.13648L6.53726 5.62529C6.81142 6.0633 6.42128 6.43691 6.18808 6.59294L5.42857 7.13786",stroke:"currentColor","stroke-linejoin":"round"},null,-1)]))}const J1=M(G1,[["render",Q1]]),K1={},X1={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function en(s,t){return n(),a("svg",X1,t[0]||(t[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.1443 4.56673C15.3259 4.35875 15.3046 4.04289 15.0966 3.86123C14.8886 3.67957 14.5728 3.7009 14.3911 3.90887L8.18815 11.0103L7.78736 10.57C7.60147 10.3657 7.28524 10.3509 7.08103 10.5368C6.87682 10.7227 6.86196 11.0389 7.04785 11.2431L7.82609 12.0981C7.92205 12.2035 8.05843 12.2629 8.20097 12.2615C8.34351 12.26 8.47864 12.1978 8.57242 12.0904L15.1443 4.56673ZM11.2939 4.56674C11.4756 4.35876 11.4543 4.0429 11.2463 3.86124C11.0383 3.67957 10.7225 3.7009 10.5408 3.90888L4.33783 11.0103L1.6023 8.00507C1.41642 7.80086 1.10018 7.786 0.895974 7.97189C0.691764 8.15777 0.676909 8.47401 0.862793 8.67822L3.97577 12.0981C4.07172 12.2035 4.20811 12.2629 4.35065 12.2615C4.49318 12.26 4.62832 12.1978 4.7221 12.0904L11.2939 4.56674Z",fill:"currentColor"},null,-1)]))}const tn=M(K1,[["render",en]]),nn={class:"flex h-screen flex-col text-ink-gray-9"},ln={class:"z-20 flex items-center justify-between border-b bg-surface-white px-5 py-2.5"},sn={class:"text-base font-medium"},an={class:"flex gap-1"},on={key:0,class:"divide-y divide-outline-gray-modals overflow-auto text-base"},rn={class:"mt-1 flex items-center gap-2.5"},cn=["innerHTML"],dn={key:1,class:"mb-2 space-x-1 leading-5 text-ink-gray-5"},un={class:"font-medium text-ink-gray-9"},fn={class:"font-medium text-ink-gray-9"},pn={class:"text-sm text-ink-gray-5"},_n={key:1,class:"flex flex-1 flex-col items-center justify-center gap-2"},mn={class:"text-lg font-medium text-ink-gray-4"},Cn={__name:"Notifications",setup(s){const{$socket:t}=Me(),{mark_as_read:d,toggle:u,mark_doc_as_read:i}=he(),v=R(null);qe(v,()=>{fe.value&&u()},{ignore:["#notifications-btn"]});function $(o){D("notification_mark_as_read"),i(o)}function h(){D("notification_mark_all_as_read"),d.reload()}We(()=>{t.off("crm_notification")}),ee(()=>{t.on("crm_notification",()=>{te.reload()})});function w(o){let f={leadId:o.reference_name};return o.route_name==="Deal"&&(f={dealId:o.reference_name}),{name:o.route_name,params:f,hash:o.hash}}return(o,f)=>{var m;const L=T("Button"),_=T("FeatherIcon"),x=T("RouterLink");return l(fe)?(n(),a("div",{key:0,ref_key:"target",ref:v,class:"absolute z-20 h-screen bg-surface-white transition-all duration-300 ease-in-out",style:{"box-shadow":"8px 0px 8px rgba(0, 0, 0, 0.1)","max-width":"350px","min-width":"350px",left:"calc(100% + 1px)"}},[e("div",nn,[e("div",ln,[e("div",sn,k(o.__("Notifications")),1),e("div",an,[r(l(oe),{text:o.__("Mark all as read")},{default:g(()=>[e("div",null,[r(L,{variant:"ghost",onClick:f[0]||(f[0]=()=>h())},{icon:g(()=>[r(tn,{class:"h-4 w-4"})]),_:1})])]),_:1},8,["text"]),r(l(oe),{text:o.__("Close")},{default:g(()=>[e("div",null,[r(L,{variant:"ghost",onClick:f[1]||(f[1]=()=>l(u)())},{icon:g(()=>[r(_,{name:"x",class:"h-4 w-4"})]),_:1})])]),_:1},8,["text"])])]),(m=l(te).data)!=null&&m.length?(n(),a("div",on,[(n(!0),a(H,null,F(l(te).data,I=>(n(),p(x,{key:I.comment,to:w(I),class:"flex cursor-pointer items-start gap-2.5 px-4 py-2.5 hover:bg-surface-gray-2",onClick:ce=>$(I.comment||I.notification_type_doc)},{default:g(()=>[e("div",rn,[e("div",{class:z(["size-[5px] rounded-full",[I.read?"bg-transparent":"bg-surface-gray-7"]])},null,2),I.type=="WhatsApp"?(n(),p(J1,{key:0,class:"size-7"})):(n(),p(Ie,{key:1,user:I.from_user.name,size:"lg"},null,8,["user"]))]),e("div",null,[I.notification_text?(n(),a("div",{key:0,innerHTML:I.notification_text},null,8,cn)):(n(),a("div",dn,[e("span",un,k(I.from_user.full_name),1),e("span",null,k(o.__("mentioned you in {0}",[I.reference_doctype])),1),e("span",fn,k(I.reference_name),1)])),e("div",pn,k(o.__(l(Ae)(I.creation))),1)])]),_:2},1032,["to","onClick"]))),128))])):(n(),a("div",_n,[r(xe,{class:"h-20 w-20 text-ink-gray-2"}),e("div",mn,k(o.__("No new notifications")),1)]))])],512)):b("",!0)}}},gn={class:"flex-1 overflow-y-auto"},vn={class:"mb-3 flex flex-col"},hn={key:1,class:"absolute -left-1.5 top-1 z-20 h-[5px] w-[5px] translate-x-6 translate-y-1 rounded-full bg-surface-gray-6 ring-1 ring-white"},xn={key:0,class:"mx-2 my-2 h-1 border-b"},kn=["onClick"],wn={class:"flex flex-col"},yn={class:"m-2 flex flex-col gap-1"},bn={class:"flex flex-col gap-2 mb-1"},$n={class:"grid h-4 w-4 flex-shrink-0 place-items-center"},Ln={__name:"AppSidebar",setup(s){const{getPinnedViews:t,getPublicViews:d}=Ve(),{toggle:u}=he(),i=Ge("isSidebarCollapsed",!1),v=R(window.is_fc_site),$=R(window.is_demo_site),h=[{label:"Leads",icon:le,to:"Leads"},{label:"Deals",icon:Ce,to:"Deals"},{label:"Contacts",icon:me,to:"Contacts"},{label:"Organizations",icon:_e,to:"Organizations"},{label:"Notes",icon:ne,to:"Notes"},{label:"Tasks",icon:ge,to:"Tasks"},{label:"Call Logs",icon:pe,to:"Call Logs"},{label:"Email Templates",icon:je,to:"Email Templates"}],w=j(()=>{let c=[{name:"All Views",hideLabel:!0,opened:!0,views:h}];return d().length&&c.push({name:"Public views",opened:!0,views:o(d())}),t().length&&c.push({name:"Pinned views",opened:!0,views:o(t())}),c});function o(c){return c.map(C=>({label:C.label,icon:f(C.route_name,C.icon),to:{name:C.route_name,params:{viewType:C.type||"list"},query:{view:C.name}}}))}function f(c,C){if(C)return Ye("div",{class:"size-auto"},C);switch(c){case"Leads":return le;case"Deals":return Ce;case"Contacts":return me;case"Organizations":return _e;case"Notes":return ne;case"Call Logs":return pe;default:return Re}}const{user:L}=Qe(),{users:_,isManager:x}=Ze(),{isOnboardingStepsCompleted:m,setUp:I}=X("frappecrm");async function ce(){let c=localStorage.getItem("firstLead"+L);return c||await ve("crm.api.onboarding.get_first_lead")}async function P(){let c=localStorage.getItem("firstDeal"+L);return c||await ve("crm.api.onboarding.get_first_deal")}const U=R(!1),E=R({}),ye=Je([{name:"setup_your_password",title:__("Setup your password"),icon:O(H1),completed:!1,onClick:()=>{S.value=!0,Be.value=!0}},{name:"create_first_lead",title:__("Create your first lead"),icon:O(le),completed:!1,onClick:()=>{S.value=!0,A.push({name:"Leads"})}},{name:"invite_your_team",title:__("Invite your team"),icon:O(h1),completed:!1,onClick:()=>{S.value=!0,Oe.value=!0,Ne.value="Invite User"},condition:()=>x()},{name:"convert_lead_to_deal",title:__("Convert lead to deal"),icon:O(y1),completed:!1,dependsOn:"create_first_lead",onClick:async()=>{S.value=!0,E.value={title:__("Convert lead to deal"),buttonLabel:__("Convert"),videoURL:"/assets/crm/videos/convertToDeal.mov",onClick:async()=>{U.value=!1,E.value={};let c=await ce();c?A.push({name:"Lead",params:{leadId:c}}):A.push({name:"Leads"})}},U.value=!0}},{name:"create_first_task",title:__("Create your first task"),icon:O(ge),completed:!1,onClick:async()=>{S.value=!0;let c=await P();c?A.push({name:"Deal",params:{dealId:c},hash:"#tasks"}):A.push({name:"Tasks"})}},{name:"create_first_note",title:__("Create your first note"),icon:O(ne),completed:!1,onClick:async()=>{S.value=!0;let c=await P();c?A.push({name:"Deal",params:{dealId:c},hash:"#notes"}):A.push({name:"Notes"})}},{name:"add_first_comment",title:__("Add your first comment"),icon:O(S1),completed:!1,dependsOn:"create_first_lead",onClick:async()=>{S.value=!0;let c=await P();c?A.push({name:"Deal",params:{dealId:c},hash:"#comments"}):A.push({name:"Leads"})}},{name:"send_first_email",title:__("Send email"),icon:O(V1),completed:!1,dependsOn:"create_first_lead",onClick:async()=>{S.value=!0;let c=await P();c?A.push({name:"Deal",params:{dealId:c},hash:"#emails"}):A.push({name:"Leads"})}},{name:"change_deal_status",title:__("Change deal status"),icon:O(O1),completed:!1,dependsOn:"convert_lead_to_deal",onClick:async()=>{S.value=!0,E.value={title:__("Change deal status"),buttonLabel:__("Change"),videoURL:"/assets/crm/videos/changeDealStatus.mov",onClick:async()=>{U.value=!1,E.value={};let c=await P();c?A.push({name:"Deal",params:{dealId:c},hash:"#activity"}):A.push({name:"Leads"})}},U.value=!0}}]);ee(async()=>{await _.promise;const c=ye.filter(C=>C.condition?C.condition():!0);I(c)});const de=R([{title:__("Introduction"),opened:!1,subArticles:[{name:"introduction",title:__("Introduction")},{name:"setting-up",title:__("Setting up")}]},{title:__("Settings"),opened:!1,subArticles:[{name:"profile",title:__("Profile")},{name:"custom-branding",title:__("Custom branding")},{name:"home-actions",title:__("Home actions")},{name:"invite-users",title:__("Invite users")}]},{title:__("Masters"),opened:!1,subArticles:[{name:"lead",title:__("Lead")},{name:"deal",title:__("Deal")},{name:"contact",title:__("Contact")},{name:"organization",title:__("Organization")},{name:"note",title:__("Note")},{name:"task",title:__("Task")},{name:"call-log",title:__("Call log")},{name:"email-template",title:__("Email template")}]},{title:__("Capturing leads"),opened:!1,subArticles:[{name:"web-form",title:__("Web form")}]},{title:__("Views"),opened:!1,subArticles:[{name:"view",title:__("Saved view")},{name:"public-view",title:__("Public view")},{name:"pinned-view",title:__("Pinned view")}]},{title:__("Other features"),opened:!1,subArticles:[{name:"email-communication",title:__("Email communication")},{name:"comment",title:__("Comment")},{name:"data",title:__("Data")},{name:"service-level-agreement",title:__("Service level agreement")},{name:"assignment-rule",title:__("Assignment rule")},{name:"notification",title:__("Notification")}]},{title:__("Customization"),opened:!1,subArticles:[{name:"custom-fields",title:__("Custom fields")},{name:"custom-actions",title:__("Custom actions")},{name:"custom-statuses",title:__("Custom statuses")},{name:"custom-list-actions",title:__("Custom list actions")},{name:"quick-entry-layout",title:__("Quick entry layout")}]},{title:__("Integration"),opened:!1,subArticles:[{name:"twilio",title:__("Twilio")},{name:"exotel",title:__("Exotel")},{name:"whatsapp",title:__("WhatsApp")},{name:"erpnext",title:__("ERPNext")}]},{title:__("Frappe CRM mobile"),opened:!1,subArticles:[{name:"mobile-app-installation",title:__("Mobile app installation")}]}]);return(c,C)=>{const be=T("Badge"),$e=T("Settings");return n(),a("div",{class:z(["relative flex h-full flex-col justify-between transition-all duration-300 ease-in-out",l(i)?"w-12":"w-[220px]"])},[e("div",null,[r(De,{class:"p-2",isCollapsed:l(i)},null,8,["isCollapsed"])]),e("div",gn,[e("div",vn,[r(Q,{id:"notifications-btn",label:c.__("Notifications"),icon:xe,isCollapsed:l(i),onClick:C[0]||(C[0]=()=>l(u)()),class:"relative mx-2 my-0.5"},{right:g(()=>[!l(i)&&l(se)?(n(),p(be,{key:0,label:l(se),variant:"subtle"},null,8,["label"])):l(se)?(n(),a("div",hn)):b("",!0)]),_:1},8,["label","isCollapsed"])]),(n(!0),a(H,null,F(w.value,y=>{var ue;return n(),a("div",{key:y.label},[!y.hideLabel&&l(i)&&((ue=y.views)!=null&&ue.length)?(n(),a("div",xn)):b("",!0),r(ze,{label:y.name,hideLabel:y.hideLabel,opened:y.opened},{header:g(({opened:q,hide:Le,toggle:Se})=>[Le?b("",!0):(n(),a("div",{key:0,class:z(["flex cursor-pointer gap-1.5 px-1 text-base font-medium text-ink-gray-5 transition-all duration-300 ease-in-out",l(i)?"ml-0 h-0 overflow-hidden opacity-0":"ml-2 mt-4 h-7 w-auto opacity-100"]),onClick:Bn=>Se()},[r(l(B),{name:"chevron-right",class:z(["h-4 text-ink-gray-9 transition-all duration-300 ease-in-out",{"rotate-90":q}])},null,8,["class"]),e("span",null,k(c.__(y.name)),1)],10,kn))]),default:g(()=>[e("nav",wn,[(n(!0),a(H,null,F(y.views,q=>(n(),p(Q,{icon:q.icon,label:c.__(q.label),to:q.to,isCollapsed:l(i),class:"mx-2 my-0.5"},null,8,["icon","label","to","isCollapsed"]))),256))])]),_:2},1032,["label","hideLabel","opened"])])}),128))]),e("div",yn,[e("div",bn,[$.value?(n(),p(l(m1),{key:0,isSidebarCollapsed:l(i),afterSignup:()=>l(D)("signup_from_demo_site")},null,8,["isSidebarCollapsed","afterSignup"])):b("",!0),v.value?(n(),p(l(d1),{key:1,isSidebarCollapsed:l(i),afterUpgrade:()=>l(D)("upgrade_plan_from_trial_banner")},null,8,["isSidebarCollapsed","afterUpgrade"])):b("",!0),l(m)?b("",!0):(n(),p(l(Jt),{key:2,isSidebarCollapsed:l(i)},null,8,["isSidebarCollapsed"]))]),l(m)?(n(),p(Q,{key:0,label:c.__("Help"),isCollapsed:l(i),onClick:C[1]||(C[1]=()=>{N.value=l(S)?!0:!l(N),S.value=!l(N)})},{icon:g(()=>[r(W1,{class:"h-4 w-4"})]),_:1},8,["label","isCollapsed"])):b("",!0),r(Q,{label:l(i)?c.__("Expand"):c.__("Collapse"),isCollapsed:l(i),onClick:C[2]||(C[2]=y=>i.value=!l(i)),class:""},{icon:g(()=>[e("span",$n,[r(U1,{class:z(["h-4 w-4 text-ink-gray-7 duration-300 ease-in-out",{"[transform:rotateY(180deg)]":l(i)}])},null,8,["class"])])]),_:1},8,["label","isCollapsed"])]),r(Cn),r($e),l(N)?(n(),p(l(Ut),{key:0,modelValue:l(N),"onUpdate:modelValue":C[3]||(C[3]=y=>Ke(N)?N.value=y:null),articles:de.value,"onUpdate:articles":C[4]||(C[4]=y=>de.value=y),logo:He,afterSkip:y=>l(D)("onboarding_step_skipped_"+y),afterSkipAll:()=>l(D)("onboarding_steps_skipped"),afterReset:y=>l(D)("onboarding_step_reset_"+y),afterResetAll:()=>l(D)("onboarding_steps_reset"),docsLink:"https://docs.frappe.io/crm"},null,8,["modelValue","articles","afterSkip","afterSkipAll","afterReset","afterResetAll"])):b("",!0),r(l(n1),{modelValue:U.value,"onUpdate:modelValue":C[5]||(C[5]=y=>U.value=y),currentStep:E.value},null,8,["modelValue","currentStep"])],2)}}},Sn={},Mn={class:"flex border-b pr-5"};function In(s,t){return n(),a("div",Mn,t[0]||(t[0]=[e("div",{id:"app-header",class:"flex-1"},null,-1),e("div",{class:"flex items-center justify-center"},null,-1)]))}const An=M(Sn,[["render",In]]),Vn={class:"flex h-screen w-screen"},Rn={class:"h-full border-r bg-surface-menu-bar"},Zn={class:"flex-1 flex flex-col h-full overflow-auto bg-surface-white"},zn={__name:"DesktopLayout",setup(s){return(t,d)=>(n(),a("div",Vn,[e("div",Rn,[r(Ln)]),e("div",Zn,[r(An),G(t.$slots,"default")]),r(Te)]))}};export{zn as default};
//# sourceMappingURL=DesktopLayout-33f0550c.js.map
