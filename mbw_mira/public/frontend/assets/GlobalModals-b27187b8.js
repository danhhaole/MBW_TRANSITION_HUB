import{d as Dt,l as U,p as un,X as xo,Z as Ta,c as X,$ as yn,a0 as He,a1 as tt,D as Ot,a2 as It,a3 as Co,a4 as Kn,a5 as So,F as Me,a6 as Pa,a7 as ea,a8 as ze,a9 as ca,aa as ur,ab as ft,ac as Qn,ad as wo,ae as Eo,af as en,ag as vt,o as w,b as A,n as de,k as Se,J as _t,t as ee,g as O,h as q,ah as gt,j as k,w as j,e as $,f as S,G as Lt,ai as Ze,aj as Dr,_ as Vt,E as Bt,i as Fe,ak as Mr,al as gr,am as Oo,v as Le,m as yt,x as $a,B as ut,C as rt,an as St,ao as wt,r as he,H as Nn,I as kn,ap as Io,L as Ve,z as nt,aq as Tr,P as Aa,Q as Mt,u as Ra,ar as La,as as Do,O as ta,R as cn,V as Jt,at as Mo,A as Un,W as Yn,au as Bn,av as wn,aw as Hn,K as Pr,ax as na,ay as To,az as Po,aA as $o,aB as Ao,aC as Ro,aD as da,aE as Fa,aF as Lo,aG as Fo,aH as Vo,aI as Va,aJ as fa,aK as ja,y as Na,aL as Vr,aM as va,aN as jo,U as No}from"./index-d693690c.js";import{s as ko,_ as Zr}from"./Dropdown.vue_vue_type_script_setup_true_lang-dd4f5276.js";let Uo=Dt({props:{onFocus:{type:Function,required:!0}},setup(t){let n=U(!0);return()=>n.value?un(Ta,{as:"button",type:"button",features:xo.Focusable,onFocus(r){r.preventDefault();let o,a=50;function l(){var e;if(a--<=0){o&&cancelAnimationFrame(o);return}if((e=t.onFocus)!=null&&e.call(t)){n.value=!1,cancelAnimationFrame(o);return}o=requestAnimationFrame(l)}o=requestAnimationFrame(l)}}):null}});var Bo=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Bo||{}),Ho=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(Ho||{});let ka=Symbol("TabsContext");function zn(t){let n=ze(ka,null);if(n===null){let r=new Error(`<${t} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,zn),r}return n}let ra=Symbol("TabsSSRContext"),Go=Dt({name:"TabGroup",emits:{change:t=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:n,attrs:r,emit:o}){var a;let l=U((a=t.selectedIndex)!=null?a:t.defaultIndex),e=U([]),i=U([]),u=X(()=>t.selectedIndex!==null),c=X(()=>u.value?t.selectedIndex:l.value);function p(v){var m;let y=yn(d.tabs.value,He),g=yn(d.panels.value,He),b=y.filter(C=>{var E;return!((E=He(C))!=null&&E.hasAttribute("disabled"))});if(v<0||v>y.length-1){let C=ur(l.value===null?0:Math.sign(v-l.value),{[-1]:()=>1,0:()=>ur(Math.sign(v),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),E=ur(C,{0:()=>y.indexOf(b[0]),1:()=>y.indexOf(b[b.length-1])});E!==-1&&(l.value=E),d.tabs.value=y,d.panels.value=g}else{let C=y.slice(0,v),E=[...y.slice(v),...C].find(R=>b.includes(R));if(!E)return;let x=(m=y.indexOf(E))!=null?m:d.selectedIndex.value;x===-1&&(x=d.selectedIndex.value),l.value=x,d.tabs.value=y,d.panels.value=g}}let d={selectedIndex:X(()=>{var v,m;return(m=(v=l.value)!=null?v:t.defaultIndex)!=null?m:null}),orientation:X(()=>t.vertical?"vertical":"horizontal"),activation:X(()=>t.manual?"manual":"auto"),tabs:e,panels:i,setSelectedIndex(v){c.value!==v&&o("change",v),u.value||p(v)},registerTab(v){var m;if(e.value.includes(v))return;let y=e.value[l.value];if(e.value.push(v),e.value=yn(e.value,He),!u.value){let g=(m=e.value.indexOf(y))!=null?m:l.value;g!==-1&&(l.value=g)}},unregisterTab(v){let m=e.value.indexOf(v);m!==-1&&e.value.splice(m,1)},registerPanel(v){i.value.includes(v)||(i.value.push(v),i.value=yn(i.value,He))},unregisterPanel(v){let m=i.value.indexOf(v);m!==-1&&i.value.splice(m,1)}};tt(ka,d);let f=U({tabs:[],panels:[]}),s=U(!1);Ot(()=>{s.value=!0}),tt(ra,X(()=>s.value?null:f.value));let h=X(()=>t.selectedIndex);return Ot(()=>{It([h],()=>{var v;return p((v=t.selectedIndex)!=null?v:t.defaultIndex)},{immediate:!0})}),Co(()=>{if(!u.value||c.value==null||d.tabs.value.length<=0)return;let v=yn(d.tabs.value,He);v.some((m,y)=>He(d.tabs.value[y])!==He(m))&&d.setSelectedIndex(v.findIndex(m=>He(m)===He(d.tabs.value[c.value])))}),()=>{let v={selectedIndex:l.value};return un(Me,[e.value.length<=0&&un(Uo,{onFocus:()=>{for(let m of e.value){let y=He(m);if((y==null?void 0:y.tabIndex)===0)return y.focus(),!0}return!1}}),Kn({theirProps:{...r,...So(t,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:v,slots:n,attrs:r,name:"TabGroup"})])}}}),Ko=Dt({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(t,{attrs:n,slots:r}){let o=zn("TabList");return()=>{let a={selectedIndex:o.selectedIndex.value},l={role:"tablist","aria-orientation":o.orientation.value};return Kn({ourProps:l,theirProps:t,slot:a,attrs:n,slots:r,name:"TabList"})}}}),Yo=Dt({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(t,{attrs:n,slots:r,expose:o}){var a;let l=(a=t.id)!=null?a:`headlessui-tabs-tab-${Pa()}`,e=zn("Tab"),i=U(null);o({el:i,$el:i}),Ot(()=>e.registerTab(i)),ea(()=>e.unregisterTab(i));let u=ze(ra),c=X(()=>{if(u.value){let g=u.value.tabs.indexOf(l);return g===-1?u.value.tabs.push(l)-1:g}return-1}),p=X(()=>{let g=e.tabs.value.indexOf(i);return g===-1?c.value:g}),d=X(()=>p.value===e.selectedIndex.value);function f(g){var b;let C=g();if(C===Qn.Success&&e.activation.value==="auto"){let E=(b=Eo(i))==null?void 0:b.activeElement,x=e.tabs.value.findIndex(R=>He(R)===E);x!==-1&&e.setSelectedIndex(x)}return C}function s(g){let b=e.tabs.value.map(C=>He(C)).filter(Boolean);if(g.key===ft.Space||g.key===ft.Enter){g.preventDefault(),g.stopPropagation(),e.setSelectedIndex(p.value);return}switch(g.key){case ft.Home:case ft.PageUp:return g.preventDefault(),g.stopPropagation(),f(()=>en(b,vt.First));case ft.End:case ft.PageDown:return g.preventDefault(),g.stopPropagation(),f(()=>en(b,vt.Last))}if(f(()=>ur(e.orientation.value,{vertical(){return g.key===ft.ArrowUp?en(b,vt.Previous|vt.WrapAround):g.key===ft.ArrowDown?en(b,vt.Next|vt.WrapAround):Qn.Error},horizontal(){return g.key===ft.ArrowLeft?en(b,vt.Previous|vt.WrapAround):g.key===ft.ArrowRight?en(b,vt.Next|vt.WrapAround):Qn.Error}}))===Qn.Success)return g.preventDefault()}let h=U(!1);function v(){var g;h.value||(h.value=!0,!t.disabled&&((g=He(i))==null||g.focus({preventScroll:!0}),e.setSelectedIndex(p.value),wo(()=>{h.value=!1})))}function m(g){g.preventDefault()}let y=ko(X(()=>({as:t.as,type:n.type})),i);return()=>{var g,b;let C={selected:d.value,disabled:(g=t.disabled)!=null?g:!1},{...E}=t,x={ref:i,onKeydown:s,onMousedown:m,onClick:v,id:l,role:"tab",type:y.value,"aria-controls":(b=He(e.panels.value[p.value]))==null?void 0:b.id,"aria-selected":d.value,tabIndex:d.value?0:-1,disabled:t.disabled?!0:void 0};return Kn({ourProps:x,theirProps:E,slot:C,attrs:n,slots:r,name:"Tab"})}}}),zo=Dt({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:n,attrs:r}){let o=zn("TabPanels");return()=>{let a={selectedIndex:o.selectedIndex.value};return Kn({theirProps:t,ourProps:{},slot:a,attrs:r,slots:n,name:"TabPanels"})}}}),Zo=Dt({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(t,{attrs:n,slots:r,expose:o}){var a;let l=(a=t.id)!=null?a:`headlessui-tabs-panel-${Pa()}`,e=zn("TabPanel"),i=U(null);o({el:i,$el:i}),Ot(()=>e.registerPanel(i)),ea(()=>e.unregisterPanel(i));let u=ze(ra),c=X(()=>{if(u.value){let f=u.value.panels.indexOf(l);return f===-1?u.value.panels.push(l)-1:f}return-1}),p=X(()=>{let f=e.panels.value.indexOf(i);return f===-1?c.value:f}),d=X(()=>p.value===e.selectedIndex.value);return()=>{var f;let s={selected:d.value},{tabIndex:h,...v}=t,m={ref:i,id:l,role:"tabpanel","aria-labelledby":(f=He(e.tabs.value[p.value]))==null?void 0:f.id,tabIndex:d.value?h:-1};return!d.value&&t.unmount&&!t.static?un(Ta,{as:"span","aria-hidden":!0,...m}):Kn({ourProps:m,theirProps:v,slot:s,attrs:n,slots:r,features:ca.Static|ca.RenderStrategy,visible:d.value,name:"TabPanel"})}}});const Wo=["src","alt"],Xo=Dt({__name:"Avatar",props:{image:{},label:{},size:{default:"md"},shape:{default:"circle"}},setup(t){const n=U(!1),r=t,o=X(()=>({circle:"rounded-full",square:{xs:"rounded-[4px]",sm:"rounded-[5px]",md:"rounded-[5px]",lg:"rounded-[6px]",xl:"rounded-[6px]","2xl":"rounded-[8px]","3xl":"rounded-[10px]"}[r.size]})[r.shape]),a=X(()=>({xs:"w-4 h-4",sm:"w-5 h-5",md:"w-6 h-6",lg:"w-7 h-7",xl:"w-8 h-8","2xl":"w-10 h-10","3xl":"w-11.5 h-11.5"})[r.size]),l=X(()=>["font-medium",{xs:"text-2xs",sm:"text-sm",md:"text-base",lg:"text-base",xl:"text-lg","2xl":"text-xl","3xl":"text-2xl"}[r.size]]),e=X(()=>({xs:"-mr-[.1rem] -mb-[.1rem] h-2 w-2",sm:"-mr-[.1rem] -mb-[.1rem] h-[9px] w-[9px]",md:"-mr-[.1rem] -mb-[.1rem] h-2.5 w-2.5",lg:"-mr-[.1rem] -mb-[.1rem] h-3 w-3",xl:"-mr-[.1rem] -mb-[.1rem] h-3 w-3","2xl":"-mr-[.1rem] -mb-[.1rem] h-3.5 w-3.5","3xl":"-mr-[.2rem] -mb-[.2rem] h-4 w-4"})[r.size]),i=X(()=>({xs:"h-1 w-1",sm:"h-[5px] w-[5px]",md:"h-1.5 w-1.5",lg:"h-2 w-2",xl:"h-2 w-2","2xl":"h-2.5 w-2.5","3xl":"h-3 w-3"})[r.size]),u=X(()=>({xs:"h-2.5 w-2.5",sm:"h-3 w-3",md:"h-4 w-4",lg:"h-4 w-4",xl:"h-4 w-4","2xl":"h-5 w-5","3xl":"h-5 w-5"})[r.size]);function c(p){p.type&&(n.value=!0)}return(p,d)=>(w(),A("div",{class:de(["relative inline-block shrink-0",[a.value,o.value]])},[p.image&&!n.value?(w(),A("img",{key:0,src:p.image,alt:p.label,class:de([o.value,"h-full w-full object-cover"]),onError:d[0]||(d[0]=f=>c(f))},null,42,Wo)):(w(),A("div",{key:1,class:de(["flex h-full w-full items-center justify-center bg-surface-gray-2 uppercase text-ink-gray-5 select-none",[l.value,o.value]])},[p.$slots.default?(w(),A("div",{key:0,class:de(u.value)},[Se(p.$slots,"default")],2)):(w(),A(Me,{key:1},[_t(ee(p.label&&p.label[0]),1)],64))],2)),p.$slots.indicator?(w(),A("div",{key:2,class:de(["absolute bottom-0 right-0 grid place-items-center rounded-full bg-surface-white",e.value])},[O("div",{class:de(i.value)},[Se(p.$slots,"indicator")],2)],2)):q("",!0)],2))}});function Ue(...t){return new Date(...t)}function tn(t){return!t||t.toString()==="Invalid Date"?"":gt(t).set("hour",0).set("minute",0).set("second",0).set("millisecond",0).format("YYYY-MM-DD")}function _n(t,n){let r=1;n<0&&(r=-1,n=Math.abs(n));const o=[];for(;n;)t=Ue(t.getFullYear(),t.getMonth(),t.getDate()+r),o.push(t),n--;return r===-1?o.reverse():o}function Jo(t,n){const o=[31,28,31,30,31,30,31,31,30,31,30,31][t];return t===1&&Qo(n)?29:o}function Qo(t){return t%400===0?!0:t%100===0?!1:t%4===0}function Ua(){const t=U(0),n=U(0),r=X(()=>Ue()),o=X(()=>{if(!(t.value&&n.value))return[];const c=n.value-1,p=t.value,d=Ue(p,c,1),f=Ue(p,c+1,0),s=d.getDay(),h=6-f.getDay(),v=_n(d,-s),m=_n(f,h),y=Jo(c,p),g=_n(d,y-1);let b=[...v,d,...g,...m];if(b.length<42){const C=b.at(-1);if(C){const E=_n(C,42-b.length);b=b.concat(...E)}}return b}),a=X(()=>{const c=[],p=o.value.slice();for(;p.length;){const d=p.splice(0,7);c.push(d)}return c}),l=X(()=>{if(!(t.value&&n.value))return"";const c=Ue(t.value,n.value-1,1);return`${c.toLocaleString("en-US",{month:"long"})}, ${c.getFullYear()}`});function e(){u(-1)}function i(){u(1)}function u(c){n.value=n.value+c,n.value<1&&(n.value=12,t.value=t.value-1),n.value>12&&(n.value=1,t.value=t.value+1)}return{currentYear:t,currentMonth:n,today:r,dates:o,datesAsWeeks:a,formattedMonth:l,prevMonth:e,nextMonth:i,changeMonth:u}}const _o={class:"flex items-center p-1 text-ink-gray-4"},qo={class:"flex-1 text-center text-base font-medium text-ink-gray-6"},el={class:"flex items-center justify-center gap-1 p-1"},tl={class:"flex flex-col items-center justify-center p-1 text-ink-gray-8"},nl={class:"flex items-center text-xs uppercase"},rl=["onClick"],al={class:"flex justify-end p-1"},Ba=Dt({__name:"DatePicker",props:{value:{},modelValue:{},placeholder:{},formatter:{type:Function},readonly:{type:Boolean},inputClass:{},placement:{}},emits:["update:modelValue","change"],setup(t,{emit:n}){const r=t,o=n,{currentYear:a,currentMonth:l,today:e,datesAsWeeks:i,formattedMonth:u,prevMonth:c,nextMonth:p}=Ua(),d=X(()=>{var m,y,g;let v="mt-2";return(m=r.placement)!=null&&m.startsWith("top")?v="mb-2":(y=r.placement)!=null&&y.startsWith("left")?v="mr-2":(g=r.placement)!=null&&g.startsWith("right")&&(v="ml-2"),v}),f=X(()=>r.value?r.value:r.modelValue);function s(v,m=!1){v=m?gr(v):v,o("change",tn(v)),o("update:modelValue",tn(v))}function h(){let v=f.value?Ue(f.value):Ue();v.toString()==="Invalid Date"&&(v=Ue()),a.value=v.getFullYear(),l.value=v.getMonth()+1}return Ot(()=>h()),(v,m)=>(w(),k(S(Mr),{onOpen:h,class:"flex w-full [&>div:first-child]:w-full",placement:v.placement},{target:j(({togglePopover:y})=>[$(S(Lt),Ze({readonly:"",type:"text",placeholder:v.placeholder,value:f.value&&v.formatter?v.formatter(f.value):f.value,onFocus:g=>v.readonly?null:y(),class:["w-full",v.inputClass]},v.$attrs),Dr({_:2},[v.$slots.prefix?{name:"prefix",fn:j(()=>[Se(v.$slots,"prefix")]),key:"0"}:void 0]),1040,["placeholder","value","onFocus","class"])]),body:j(({togglePopover:y})=>[O("div",{class:de(["w-fit select-none text-base text-ink-gray-9 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",d.value])},[O("div",_o,[$(S(Vt),{variant:"ghost",class:"h-7 w-7",onClick:S(c)},{default:j(()=>[$(Bt,{"stroke-width":2,name:"chevron-left",class:"h-4 w-4"})]),_:1},8,["onClick"]),O("div",qo,ee(S(u)),1),$(S(Vt),{variant:"ghost",class:"h-7 w-7",onClick:S(p)},{default:j(()=>[$(Bt,{"stroke-width":2,name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["onClick"])]),O("div",el,[$(S(Lt),{class:"text-sm",type:"text",value:f.value,onChange:m[0]||(m[0]=g=>s(S(Ue)(g.target.value)))},null,8,["value"]),$(S(Vt),{label:"Today",class:"text-sm",onClick:()=>{s(S(Ue)(),!0),y()}},null,8,["onClick"])]),O("div",tl,[O("div",nl,[(w(),A(Me,null,Fe(["s","m","t","w","t","f","s"],(g,b)=>O("div",{class:"flex h-6 w-8 items-center justify-center text-center",key:b},ee(g),1)),64))]),(w(!0),A(Me,null,Fe(S(i),(g,b)=>(w(),A("div",{class:"flex items-center",key:b},[(w(!0),A(Me,null,Fe(g,C=>(w(),A("div",{key:S(tn)(C),class:de(["flex h-8 w-8 cursor-pointer items-center justify-center rounded hover:bg-surface-gray-2",{"text-ink-gray-3":C.getMonth()!==S(l)-1,"font-extrabold text-ink-gray-9":S(tn)(C)===S(tn)(S(e)),"bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6":S(tn)(C)===f.value}]),onClick:()=>{s(C),y()}},ee(C.getDate()),11,rl))),128))]))),128))]),O("div",al,[$(S(Vt),{label:"Clear",class:"text-sm",onClick:()=>{s(""),y()}},null,8,["onClick"])])],2)]),_:3},8,["placement"]))}}),ol={class:"flex items-center p-1 text-ink-gray-4"},ll={class:"flex-1 text-center text-base font-medium text-ink-gray-6"},il={class:"flex items-center justify-center gap-1 p-1"},sl={class:"flex flex-col items-center justify-center p-1 text-ink-gray-8"},ul={class:"flex items-center text-xs uppercase"},cl=["onClick"],dl={class:"flex items-center justify-around gap-2 p-1"},fl={class:"flex flex-col items-center justify-center"},vl={class:"slider flex min-h-4 items-center justify-center"},pl={class:"slider flex min-h-4 items-center justify-center"},ml={class:"slider flex min-h-4 items-center justify-center"},gl={class:"flex justify-end p-1"},hl=Dt({__name:"DateTimePicker",props:{value:{},modelValue:{},placeholder:{},formatter:{type:Function},readonly:{type:Boolean},inputClass:{},placement:{}},emits:["update:modelValue","change"],setup(t,{emit:n}){const r=t,o=n,{currentYear:a,currentMonth:l,today:e,datesAsWeeks:i,formattedMonth:u,prevMonth:c,nextMonth:p}=Ua(),d=X(()=>{var R,V,M;let x="mt-2";return(R=r.placement)!=null&&R.startsWith("top")?x="mb-2":(V=r.placement)!=null&&V.startsWith("left")?x="mr-2":(M=r.placement)!=null&&M.startsWith("right")&&(x="ml-2"),x}),f=U(0),s=U(0),h=U(0),v=X(()=>{let x=r.value?r.value:r.modelValue;return x?gr(x).format("YYYY-MM-DD HH:mm:ss"):""});function m(){let x=v.value?Ue(v.value):Ue();y(x)}function y(x,R=!1){R&&(x=gr(x),f.value=x.hour(),s.value=x.minute(),h.value=x.second());let V=x?Oo(g(x)).format("YYYY-MM-DD HH:mm:ss"):"";o("change",V),o("update:modelValue",V)}function g(x){return!x||x.toString()==="Invalid Date"?"":gt(x).set("hour",f.value).set("minute",s.value).set("second",h.value).format("YYYY-MM-DD HH:mm:ss")}function b(x){return x.toString().padStart(2,"0")}function C(x){x=Ue(x),f.value=x.getHours(),s.value=x.getMinutes(),h.value=x.getSeconds(),y(x)}function E(){let x=v.value?Ue(v.value):Ue();x.toString()==="Invalid Date"&&(x=Ue()),a.value=x.getFullYear(),l.value=x.getMonth()+1,f.value=x.getHours(),s.value=x.getMinutes(),h.value=x.getSeconds()}return Ot(()=>E()),(x,R)=>(w(),k(S(Mr),{onOpen:E,class:"flex w-full [&>div:first-child]:w-full",placement:x.placement},{target:j(({togglePopover:V})=>[$(S(Lt),Ze({readonly:"",type:"text",placeholder:x.placeholder,value:v.value&&x.formatter?x.formatter(v.value):v.value,onFocus:M=>x.readonly?null:V(),class:["w-full",x.inputClass]},x.$attrs),Dr({_:2},[x.$slots.prefix?{name:"prefix",fn:j(()=>[Se(x.$slots,"prefix",{},void 0,!0)]),key:"0"}:void 0]),1040,["placeholder","value","onFocus","class"])]),body:j(({togglePopover:V})=>[O("div",{class:de(["w-fit select-none text-base text-ink-gray-9 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",d.value])},[O("div",ol,[$(S(Vt),{variant:"ghost",class:"h-7 w-7",onClick:S(c)},{default:j(()=>[$(Bt,{"stroke-width":2,name:"chevron-left",class:"h-4 w-4"})]),_:1},8,["onClick"]),O("div",ll,ee(S(u)),1),$(S(Vt),{variant:"ghost",class:"h-7 w-7",onClick:S(p)},{default:j(()=>[$(Bt,{"stroke-width":2,name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["onClick"])]),O("div",il,[$(S(Lt),{class:"text-sm",type:"text",value:v.value,onChange:M=>{C(M.target.value),V()}},null,8,["value","onChange"]),$(S(Vt),{label:"Now",class:"text-sm",onClick:()=>{y(S(Ue)(),!0),V()}},null,8,["onClick"])]),O("div",sl,[O("div",ul,[(w(),A(Me,null,Fe(["s","m","t","w","t","f","s"],(M,B)=>O("div",{class:"flex h-6 w-8 items-center justify-center text-center",key:B},ee(M),1)),64))]),(w(!0),A(Me,null,Fe(S(i),(M,B)=>(w(),A("div",{class:"flex items-center",key:B},[(w(!0),A(Me,null,Fe(M,Z=>(w(),A("div",{key:g(Z),class:de(["flex h-8 w-8 cursor-pointer items-center justify-center rounded hover:bg-surface-gray-2",{"text-ink-gray-3":Z.getMonth()!==S(l)-1,"font-extrabold text-ink-gray-9":g(Z)===g(S(e)),"bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6":g(Z)===v.value}]),onClick:()=>{y(Z),V()}},ee(Z.getDate()),11,cl))),128))]))),128))]),O("div",dl,[O("div",null,ee(b(f.value))+" : "+ee(b(s.value))+" : "+ee(b(h.value)),1),O("div",fl,[O("div",vl,[$(S(Lt),{modelValue:f.value,"onUpdate:modelValue":R[0]||(R[0]=M=>f.value=M),name:"hours",type:"range",min:"0",max:"23",step:"1",onChange:()=>{m(),V()}},null,8,["modelValue","onChange"])]),O("div",pl,[$(S(Lt),{modelValue:s.value,"onUpdate:modelValue":R[1]||(R[1]=M=>s.value=M),name:"minutes",type:"range",min:"0",max:"59",step:"1",onChange:()=>{m(),V()}},null,8,["modelValue","onChange"])]),O("div",ml,[$(S(Lt),{modelValue:h.value,"onUpdate:modelValue":R[2]||(R[2]=M=>h.value=M),name:"seconds",type:"range",min:"0",max:"59",step:"1",onChange:()=>{m(),V()}},null,8,["modelValue","onChange"])])])]),O("div",gl,[$(S(Vt),{label:"Clear",class:"text-sm",onClick:()=>{y(""),V()}},null,8,["onClick"])])],2)]),_:3},8,["placement"]))}}),Ha=Le(hl,[["__scopeId","data-v-0036c221"]]),Ga={__name:"TabList",setup(t){const n=ze("tab"),r=U([]),o=U(null),a=X(()=>{var i;return(i=n.value.tabs.value)==null?void 0:i.length}),l=U("");function e(i){i>=a.value&&(i=a.value-1);const u=r.value[i].el;n.value.vertical.value?(o.value.style.height=`${u.offsetHeight}px`,o.value.style.top=`${u.offsetTop}px`):(o.value.style.width=`${u.offsetWidth}px`,o.value.style.left=`${u.offsetLeft}px`)}return It(()=>n.value.tabIndex.value,i=>{i>=a.value&&(n.value.tabIndex.value=a.value-1),l.value="transition-all duration-300 ease-in-out",yt(()=>e(i))}),Ot(()=>{yt(()=>e(n.value.tabIndex.value)),setTimeout(()=>e(n.value.tabIndex.value),100)}),(i,u)=>(w(),k(S(Ko),{class:de(["relative flex",S(n).vertical?"flex-col border-r overflow-y-auto":"gap-7.5 border-b overflow-x-auto items-center px-5"])},{default:j(()=>[(w(!0),A(Me,null,Fe(S(n).tabs,(c,p)=>(w(),k(S(Yo),{ref_for:!0,ref_key:"tabRef",ref:r,as:"template",key:p,class:"focus:outline-none focus:transition-none"},{default:j(({selected:d})=>[Se(i.$slots,"default",Ze({ref_for:!0},{tab:c,selected:d}),()=>[O("button",{class:de(["flex items-center gap-1.5 text-base text-ink-gray-5 duration-300 ease-in-out hover:text-ink-gray-9",[d?"text-ink-gray-9":"",S(n).vertical?"py-2.5 px-4 border-r border-transparent hover:border-outline-gray-3":"py-3 border-b border-transparent hover:border-outline-gray-3"]])},[c.icon?(w(),k($a(c.icon),{key:0,class:"size-4"})):q("",!0),_t(" "+ee(c.label),1)],2)])]),_:2},1024))),128)),O("div",{ref_key:"indicator",ref:o,class:de(["tab-indicator absolute bg-surface-gray-7",[S(n).vertical?"right-0 w-px":"bottom-0 h-px",l.value]])},null,2)]),_:3},8,["class"]))}},Ka={__name:"TabPanel",setup(t){const n=ze("tab");return(r,o)=>(w(),k(S(zo),{class:"flex flex-1 overflow-hidden"},{default:j(()=>[(w(!0),A(Me,null,Fe(S(n).tabs,(a,l)=>(w(),k(S(Zo),{class:"flex flex-1 flex-col overflow-y-auto focus:outline-none",key:l},{default:j(()=>[Se(r.$slots,"default",Ze({ref_for:!0},{tab:a}))]),_:2},1024))),128))]),_:3}))}},yl={__name:"Tabs",props:ut({as:{type:String,default:"template"},tabs:{type:Array,required:!0},vertical:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const n=t,r=rt(t,"modelValue");return tt("tab",X(()=>({tabIndex:r,tabs:n.tabs,vertical:n.vertical}))),(o,a)=>(w(),k(S(Go),Ze(t.as!=="template"?{as:t.as,class:["flex flex-1 overflow-hidden",t.vertical?"":"flex-col "]}:{},{defaultIndex:r.value,selectedIndex:r.value,onChange:a[0]||(a[0]=l=>r.value=l)}),{default:j(()=>[Se(o.$slots,"default",{},()=>[$(Ga,null,{default:j(({tab:l,selected:e})=>[Se(o.$slots,"tab-item",St(wt({tab:l,selected:e})))]),_:3}),$(Ka,null,{default:j(({tab:l})=>[Se(o.$slots,"tab-panel",St(wt({tab:l})))]),_:3})])]),_:3},16,["defaultIndex","selectedIndex"]))}},bl={inheritAttrs:!1},xl=Object.assign(bl,{__name:"Section",props:{label:{type:String,default:""},hideLabel:{type:Boolean,default:!1},opened:{type:Boolean,default:!0},collapsible:{type:Boolean,default:!0},collapseIconPosition:{type:String,default:"left"},labelClass:{type:[String,Object,Array],default:""},headerClass:{type:[String,Object,Array],default:""}},setup(t){const n=t,r=U(n.hideLabel),o=U(n.opened);function a(){o.value=!o.value}function l(){o.value=!0}function e(){o.value=!1}return(i,u)=>{const c=he("FeatherIcon");return w(),A("div",null,[Se(i.$slots,"header",St(wt({opened:o.value,hide:r.value,open:l,close:e,toggle:a})),()=>[r.value?q("",!0):(w(),A("div",{key:0,class:de(["section-header flex items-center justify-between",t.headerClass])},[O("div",{class:de(["flex text-ink-gray-9 max-w-fit cursor-pointer items-center gap-2 text-base",t.labelClass]),onClick:u[0]||(u[0]=p=>t.collapsible&&a())},[t.collapsible&&t.collapseIconPosition==="left"?(w(),k(c,{key:0,name:"chevron-right",class:de(["h-4 transition-all duration-300 ease-in-out",{"rotate-90":o.value}])},null,8,["class"])):q("",!0),O("span",null,ee(i.__(t.label)||i.__("Untitled")),1),t.collapsible&&t.collapseIconPosition==="right"?(w(),k(c,{key:1,name:"chevron-right",class:de(["h-4 transition-all duration-300 ease-in-out",{"rotate-90":o.value}])},null,8,["class"])):q("",!0)],2),Se(i.$slots,"actions")],2))]),$(Io,{"enter-active-class":"duration-300 ease-in","leave-active-class":"duration-300 ease-[cubic-bezier(0, 1, 0.5, 1)]","enter-to-class":"max-h-[200px] overflow-hidden","leave-from-class":"max-h-[200px] overflow-hidden","enter-from-class":"max-h-0 overflow-hidden","leave-to-class":"max-h-0 overflow-hidden"},{default:j(()=>[Nn(O("div",Ze({class:"columns"},i.$attrs),[Se(i.$slots,"default",St(wt({opened:o.value,open:l,close:e,toggle:a})))],16),[[kn,o.value]])]),_:3})])}}}),Cl={},Sl={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function wl(t,n){return w(),A("svg",Sl,n[0]||(n[0]=[O("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.00013 2C2.34328 2 1.00013 3.34315 1.00013 5V5.48845C0.999957 5.49602 0.999957 5.50357 1.00013 5.51111V11C1.00013 12.6569 2.34328 14 4.00013 14H12.0001C13.657 14 15.0001 12.6569 15.0001 11V5.51111C15.0003 5.50357 15.0003 5.49602 15.0001 5.48845V5C15.0001 3.34315 13.657 2 12.0001 2H4.00013ZM14.0001 5.16863V5C14.0001 3.89543 13.1047 3 12.0001 3H4.00013C2.89556 3 2.00013 3.89543 2.00013 5V5.16863L7.80531 7.62467C7.92985 7.67736 8.07041 7.67736 8.19495 7.62467L14.0001 5.16863ZM2.00013 6.25445V11C2.00013 12.1046 2.89556 13 4.00013 13H12.0001C13.1047 13 14.0001 12.1046 14.0001 11V6.25445L8.58459 8.54564C8.21098 8.7037 7.78928 8.7037 7.41567 8.54564L2.00013 6.25445Z",fill:"currentColor"},null,-1)]))}const hd=Le(Cl,[["render",wl]]),El={},Ol={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Il(t,n){return w(),A("svg",Ol,n[0]||(n[0]=[O("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.17683 1C4.89138 1 3.81543 1.97482 3.68896 3.25405L3.19111 8.2899C3.16577 8.54615 3.0749 8.79156 2.92723 9.00252L1.98134 10.3538C1.51739 11.0166 1.99155 11.9273 2.80057 11.9273H7.53349V14.4999C7.53349 14.7761 7.75735 14.9999 8.03349 14.9999C8.30963 14.9999 8.53349 14.7761 8.53349 14.4999V11.9273H13.2016C14.0107 11.9273 14.4848 11.0166 14.0209 10.3538L13.068 8.99254C12.9236 8.78634 12.8335 8.54713 12.8059 8.29695L12.246 3.22567C12.1062 1.95882 11.0357 1 9.76113 1H6.17683ZM4.68411 3.35243C4.75999 2.5849 5.40556 2 6.17683 2H9.76113C10.5259 2 11.1682 2.57529 11.2521 3.3354L11.8119 8.40668C11.858 8.82365 12.0082 9.22233 12.2488 9.566L13.2016 10.9273H2.80057L3.74646 9.57598C3.99257 9.22439 4.14403 8.81536 4.18625 8.38828L4.68411 3.35243Z",fill:"currentColor"},null,-1)]))}const yd=Le(El,[["render",Il]]),Dl={},Ml={width:"300",height:"300",viewBox:"0 0 300 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Tl(t,n){return w(),A("svg",Ml,n[0]||(n[0]=[O("path",{d:"M214.286 0H85.7143C38.3756 0 0 38.3756 0 85.7143V214.286C0 261.624 38.3756 300 85.7143 300H214.286C261.624 300 300 261.624 300 214.286V85.7143C300 38.3756 261.624 0 214.286 0Z",fill:"#EF0BF5"},null,-1),O("path",{d:"M64.2141 90.301V111.862H214.339V140.214L160.187 193.146V208.993L139.705 208.885V193.146L85.6605 140.214H64.2141V149.269L118.259 202.202V230.23L181.634 230.769V202.202L235.786 149.269V90.301H64.2141Z",fill:"white"},null,-1)]))}const Pl=Le(Dl,[["render",Tl]]),$l={key:0},Al=["src"],Rl={__name:"BrandLogo",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const n=rt(t,"modelValue");return(r,o)=>{var a;return(a=n.value)!=null&&a.logo?(w(),A("div",$l,[O("img",{src:n.value.logo,class:"h-full w-full object-cover"},null,8,Al)])):(w(),k(Pl,{key:1,class:"size-8 shrink-0 rounded"}))}}},Ll={},Fl={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Vl(t,n){return w(),A("svg",Fl,n[0]||(n[0]=[O("rect",{x:"0.75",y:"0.75",width:"30.5",height:"30.5",rx:"6.25",stroke:"currentColor","stroke-width":"1.5"},null,-1),O("path",{d:"M24.5011 14.1124C23.3954 12.4873 21.532 11.5477 19.594 11.6747C18.7616 10.1384 17.2211 9.12267 15.4198 9.0084C14.1651 8.93222 12.8979 9.3766 11.9165 10.24C11.2456 10.8367 10.7611 11.5223 10.463 12.2968C10.289 12.7539 9.89151 13.0459 9.46912 13.0459H6.5V15.5852H9.46912C10.9226 15.5852 12.2271 14.6584 12.7737 13.2237C12.9227 12.8301 13.1712 12.4873 13.5439 12.1571C14.0284 11.7255 14.662 11.4969 15.2583 11.535C16.1528 11.5985 16.7863 12.0175 17.1839 12.538C17.6063 13.0205 17.8423 13.7696 17.979 14.5187C18.774 14.2902 19.6437 14.0997 20.476 14.2394C21.1593 14.3536 21.7929 14.7218 22.2525 15.2678C22.327 15.3567 22.4016 15.4456 22.4637 15.5471C23.06 16.4232 23.1718 17.5024 22.7743 18.5689C22.414 19.5592 21.0847 20.4607 19.9791 20.4607H11.3326C10.1524 20.4607 9.18339 19.5592 9.03432 18.4038H6.54969C6.71119 20.9686 8.78585 23 11.3326 23H19.9915C22.1283 23 24.3769 21.451 25.1098 19.4704C25.7931 17.6167 25.5695 15.6614 24.5135 14.0997L24.5011 14.1124Z",fill:"currentColor"},null,-1)]))}const jl=Le(Ll,[["render",Vl]]),Nl={},kl={fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg"};function Ul(t,n){return w(),A("svg",kl,n[0]||(n[0]=[O("path",{class:"","clip-rule":"evenodd",d:"M13.8496 4.69692L12.0062 6.54029C11.8109 6.73555 11.4944 6.73555 11.2991 6.54028L9.45572 4.69692C9.26046 4.50166 9.26046 4.18508 9.45572 3.98981L11.2991 2.14645C11.4944 1.95118 11.8109 1.95118 12.0062 2.14645L13.8496 3.98981C14.0448 4.18507 14.0448 4.50166 13.8496 4.69692ZM14.5567 3.28271C15.1425 3.86849 15.1425 4.81824 14.5567 5.40403L12.7133 7.24739C12.1275 7.83318 11.1778 7.83318 10.592 7.24739L8.74862 5.40402C8.16283 4.81824 8.16283 3.86849 8.74862 3.28271L10.592 1.43934C11.1778 0.853553 12.1275 0.853554 12.7133 1.43934L14.5567 3.28271ZM5.60691 4.34338C5.60691 5.3394 4.79948 6.14683 3.80346 6.14683C2.80743 6.14683 2 5.3394 2 4.34338C2 3.34736 2.80743 2.53992 3.80346 2.53992C4.79948 2.53992 5.60691 3.34736 5.60691 4.34338ZM6.60691 4.34338C6.60691 5.89168 5.35176 7.14683 3.80346 7.14683C2.25515 7.14683 1 5.89168 1 4.34338C1 2.79507 2.25515 1.53992 3.80346 1.53992C5.35176 1.53992 6.60691 2.79507 6.60691 4.34338ZM12.9565 10.3897H10.3495C10.0734 10.3897 9.84954 10.6136 9.84954 10.8897V13.4966C9.84954 13.7728 10.0734 13.9966 10.3495 13.9966H12.9565C13.2326 13.9966 13.4565 13.7728 13.4565 13.4966V10.8897C13.4565 10.6136 13.2326 10.3897 12.9565 10.3897ZM10.3495 9.38971C9.52112 9.38971 8.84954 10.0613 8.84954 10.8897V13.4966C8.84954 14.325 9.52111 14.9966 10.3495 14.9966H12.9565C13.7849 14.9966 14.4565 14.325 14.4565 13.4966V10.8897C14.4565 10.0613 13.7849 9.38971 12.9565 9.38971H10.3495ZM2.5 10.3897H5.10691C5.38305 10.3897 5.60691 10.6136 5.60691 10.8897V13.4966C5.60691 13.7728 5.38306 13.9966 5.10691 13.9966H2.5C2.22386 13.9966 2 13.7728 2 13.4966V10.8897C2 10.6136 2.22386 10.3897 2.5 10.3897ZM1 10.8897C1 10.0613 1.67157 9.38971 2.5 9.38971H5.10691C5.93534 9.38971 6.60691 10.0613 6.60691 10.8897V13.4966C6.60691 14.325 5.93534 14.9966 5.10691 14.9966H2.5C1.67157 14.9966 1 14.325 1 13.4966V10.8897Z",fill:"currentColor","fill-rule":"evenodd"},null,-1)]))}const Bl=Le(Nl,[["render",Ul]]);(function(t,n){var r,o,a,l;n.__SV||(window.posthog=n,n._i=[],n.init=function(e,i,u){function c(d,f){var s=f.split(".");s.length==2&&(d=d[s[0]],f=s[1]),d[f]=function(){d.push([f].concat(Array.prototype.slice.call(arguments,0)))}}(a=t.createElement("script")).type="text/javascript",a.async=!0,a.src=i.api_host+"/static/array.js",(l=t.getElementsByTagName("script")[0]).parentNode.insertBefore(a,l);var p=n;for(u!==void 0?p=n[u]=[]:u="posthog",p.people=p.people||[],p.toString=function(d){var f="posthog";return u!=="posthog"&&(f+="."+u),d||(f+=" (stub)"),f},p.people.toString=function(){return p.toString(1)+".people (stub)"},r="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags".split(" "),o=0;o<r.length;o++)c(p,r[o]);n._i.push([e,i,u])},n.__SV=1)})(document,window.posthog||[]);let Hl=window.posthog,qn=Ve({url:"crm.api.get_posthog_settings",cache:"posthog_settings",onSuccess:t=>Gl(t)}),Ya=()=>qn.data?qn.data.enable_telemetry&&qn.data.posthog_project_id&&qn.data.posthog_host:!1;function Gl(t){Ya()&&Hl.init(t.posthog_project_id,{api_host:t.posthog_host,person_profiles:"identified_only",autocapture:!1,capture_pageview:!0,capture_pageleave:!0,enable_heatmaps:!1,disable_session_recording:!0,advanced_disable_decide:!0,loaded:n=>{window.posthog=n,n.identify(window.location.hostname)}})}function za(t,n={data:{user:""}}){Ya()&&window.posthog.capture(`crm_${t}`,n)}const Kl=["onClick"],Yl={class:"flex gap-2"},zl={class:"whitespace-nowrap"},Zl={class:"flex w-fit mx-2 min-w-32 max-w-48 flex-col rounded-lg border border-outline-gray-2 bg-surface-white p-1.5 text-sm text-ink-gray-8 shadow-xl auto-fill-[100px]"},Wl=["href"],Xl=["src"],Jl={class:"max-w-18 w-full truncate"},Ql={__name:"Apps",props:{active:Boolean},setup(t){const n=Ve({url:"frappe.apps.get_apps",cache:"apps",auto:!0,transform:r=>{let o=[{name:"frappe",logo:"/assets/frappe/images/framework.png",title:__("Desk"),route:"/app"}];return r.map(a=>{a.name!=="crm"&&o.push({name:a.name,logo:a.logo,title:__(a.title),route:a.route})}),o}});return ea(()=>{}),(r,o)=>{const a=he("FeatherIcon");return w(),k(S(Mr),{placement:"right-start",trigger:"hover",hoverDelay:.1,leaveDelay:.1},{target:j(({togglePopover:l})=>[O("button",{class:de([t.active?"bg-surface-gray-3":"text-ink-gray-6","group w-full flex h-7 items-center justify-between rounded px-2 text-base hover:bg-surface-gray-2"]),onClick:nt(e=>l(),["prevent"])},[O("div",Yl,[$(Bl,{class:"size-4"}),O("span",zl,ee(r.__("Apps")),1)]),$(a,{name:"chevron-right",class:"size-4 text-ink-gray-5"})],10,Kl)]),body:j(()=>[O("div",Zl,[(w(!0),A(Me,null,Fe(S(n).data,l=>(w(),A("a",{href:l.route,key:"name",class:"flex items-center gap-2 rounded p-1.5 hover:bg-surface-gray-2"},[O("img",{class:"size-6",src:l.logo},null,8,Xl),O("span",Jl,ee(l.title),1)],8,Wl))),128))])]),_:1})}}},Ht=Tr("mira-users",()=>{const t=Aa();let n=Mt({});const r=Ra(),o=Ve({url:"mbw_mira.api.session.get_users",cache:"mira-users",initialData:[],auto:!0,transform([c,p]){for(let d of c)n[d.name]=d,d.name==="Administrator"&&(n[d.email]=d);return{allUsers:c,miraUsers:p}},onError(c){console.log(c),c&&c.exc_type==="AuthenticationError"&&r.push("/login")}});function a(c){return(!c||c==="sessionUser")&&(c=t.user),n[c]||(n[c]={name:c,email:c,full_name:c.split("@")[0],first_name:c.split("@")[0],last_name:"",user_image:null,role:null}),n[c]}function l(c){return a(c).role==="System Manager"||a(c).is_admin}function e(c){return a(c).is_manager}function i(c){return a(c).is_agent}function u(c){const p=a(c);return p&&p.role?p.role:null}return{users:o,getUser:a,isAdmin:l,isManager:e,isAgent:i,getUserRole:u}}),En=U({}),er=Mt({}),_l=La({doctype:"Mira Settings",name:"Mira Settings",onSuccess:t=>(En.value=t,Za().setupBrand(),t)});function Za(){function t(){var n,r,o;er.name=(n=En.value)==null?void 0:n.brand_name,er.logo=(r=En.value)==null?void 0:r.brand_logo,er.favicon=(o=En.value)==null?void 0:o.favicon}return{_settings:_l,settings:En,brand:er,setupBrand:t}}U(!1);U(!1);U(!1);U(!1);U(!1);U("");const ql=U(!1),hr=X(()=>window.innerWidth<768),ei=U(!1),bd=U(""),On=U(!1),Wa=U({}),tr=U(!1),ti=U({}),cr=U(!1),nr=U(!1),Xa=Tr("crm-global",()=>{const t=Do(),{$dialog:n,$socket:r}=t.appContext.config.globalProperties;let o=()=>{};function a(e){o=e}function l(e){o(e)}return{$dialog:n,$socket:r,makeCall:l,setMakeCall:a}}),Ja=U("https://frappecloud.com"),Qa=U(""),ni=Ve({url:"frappe.integrations.frappe_providers.frappecloud_billing.current_site_info",cache:"currentSiteInfo",onSuccess:t=>{Ja.value=t.base_url,Qa.value=t.site_name}}),ri=()=>{ni.fetch();const{$dialog:t}=Xa();t({title:__("Login to Frappe Cloud?"),message:__("Are you sure you want to login to your Frappe Cloud dashboard?"),actions:[{label:__("Confirm"),variant:"solid",onClick(n){ai(),n()}}]})},ai=()=>{window.open(`${Ja.value}/dashboard/sites/${Qa.value}`,"_blank")},Wr=ta("theme","light");function oi(){const t=document.documentElement.getAttribute("data-theme");Wr.value=t==="dark"?"light":"dark",document.documentElement.setAttribute("data-theme",Wr.value)}const li={class:"text-base font-medium leading-none text-ink-gray-9 truncate"},ii={class:"mt-1 text-sm leading-none text-ink-gray-7 truncate"},xd={__name:"UserDropdown",props:{isCollapsed:{type:Boolean,default:!1}},setup(t){const{settings:n,brand:r}=Za(),{logout:o}=Aa(),{getUser:a}=Ht(),l=X(()=>a()||{}),e=X(()=>{var d;if(!((d=n.value)!=null&&d.dropdown_items))return[];let c=n.value.dropdown_items,p=[{group:"Dropdown Items",hideLabel:!0,items:[]}];return c.forEach(f=>{f.hidden||(f.type!=="Separator"?p[p.length-1].items.push(i(f)):p.push({group:"",hideLabel:!0,items:[]}))}),p});function i(c){let p=JSON.parse(JSON.stringify(c)),d=p.icon||"external-link";return typeof d=="string"&&d.startsWith("<svg")&&(d=cn(un("div",{innerHTML:d}))),p.icon=d,p.is_standard?u(p):{icon:p.icon,label:__(p.label),onClick:()=>window.open(p.route,p.open_in_new_window?"_blank":"")}}function u(c){switch(c.name1){case"app_selector":return{component:cn(Ql)};case"toggle_theme":return{icon:Wr.value==="dark"?"sun":c.icon,label:__(c.label),onClick:oi};case"settings":return{icon:c.icon,label:__(c.label),onClick:()=>ei.value=!0,condition:()=>!hr.value};case"login_to_fc":return{icon:un(jl),label:__(c.label),onClick:()=>ri(),condition:()=>!hr.value&&window.is_fc_site};case"about":return{icon:c.icon,label:__(c.label),onClick:()=>cr.value=!0};case"logout":return{icon:c.icon,label:__(c.label),onClick:()=>o.submit()}}}return(c,p)=>{const d=he("FeatherIcon");return w(),k(S(Zr),Ze({options:e.value},c.$attrs),{default:j(({open:f})=>[O("button",{class:de(["flex h-12 items-center rounded-md py-2 duration-300 ease-in-out",t.isCollapsed?"w-auto px-0":f?"w-52 bg-surface-white px-2 shadow-sm":"w-52 px-2 hover:bg-surface-gray-3"])},[$(Rl,{modelValue:S(r),"onUpdate:modelValue":p[0]||(p[0]=s=>Jt(r)?r.value=s:null),class:"h-8 max-w-16 flex-shrink-0"},null,8,["modelValue"]),O("div",{class:de(["flex flex-1 flex-col text-left duration-300 ease-in-out truncate",t.isCollapsed?"ml-0 w-0 overflow-hidden opacity-0":"ml-2 w-auto opacity-100"])},[O("div",li,ee(c.__(S(r).name||"CRM")),1),O("div",ii,ee(l.value.full_name),1)],2),O("div",{class:de(["duration-300 ease-in-out",t.isCollapsed?"ml-0 w-0 overflow-hidden opacity-0":"ml-2 w-auto opacity-100"])},[$(d,{name:"chevron-down",class:"size-4 text-ink-gray-5","aria-hidden":"true"})],2)],2)]),_:1},16,["options"])}}},si={},ui={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ci(t,n){return w(),A("svg",ui,n[0]||(n[0]=[O("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.9011 3.88117C11.9011 4.46845 11.4251 4.94454 10.8378 4.94454C10.2505 4.94454 9.77442 4.46845 9.77442 3.88117C9.77442 3.29389 10.2505 2.81781 10.8378 2.81781C11.4251 2.81781 11.9011 3.29389 11.9011 3.88117ZM12.9011 3.88117C12.9011 5.02074 11.9773 5.94454 10.8378 5.94454C9.69822 5.94454 8.77442 5.02074 8.77442 3.88117C8.77442 2.74161 9.69822 1.81781 10.8378 1.81781C11.9773 1.81781 12.9011 2.74161 12.9011 3.88117ZM9.45115 6.99206C9.00149 6.99206 8.56731 7.07554 8.16567 7.22941C7.9966 7.29419 7.83337 7.37141 7.67722 7.46007L8.17096 8.32968C8.28372 8.26566 8.40152 8.20994 8.52344 8.16322C8.81278 8.05237 9.12582 7.99206 9.45115 7.99206H11.7074C12.9237 7.99206 13.9768 8.83683 14.2407 10.0242L14.3153 10.3599C14.4606 11.0141 13.9628 11.6346 13.2927 11.6346H11.936H11.0957V12.6346H11.936H13.2927C14.6026 12.6346 15.5756 11.4216 15.2915 10.1429L15.2168 9.80723C14.8513 8.16236 13.3924 6.99206 11.7074 6.99206H9.45115ZM4.29314 9.53958C3.07685 9.53958 2.02374 10.3844 1.75989 11.5717L1.68529 11.9074C1.53992 12.5616 2.03772 13.1822 2.70787 13.1822H8.13467C8.80482 13.1822 9.30263 12.5616 9.15725 11.9074L9.08265 11.5717C8.8188 10.3844 7.76569 9.53958 6.5494 9.53958H4.29314ZM0.783705 11.3548C1.14923 9.70989 2.60815 8.53958 4.29314 8.53958H6.5494C8.23439 8.53958 9.69331 9.70989 10.0588 11.3548L10.1334 11.6905C10.4176 12.9692 9.44457 14.1822 8.13467 14.1822H2.70787C1.39797 14.1822 0.424947 12.9692 0.709104 11.6905L0.783705 11.3548ZM6.74274 5.17078C6.74274 5.9005 6.15118 6.49206 5.42145 6.49206C4.69173 6.49206 4.10017 5.9005 4.10017 5.17078C4.10017 4.44105 4.69173 3.84949 5.42145 3.84949C6.15118 3.84949 6.74274 4.44105 6.74274 5.17078ZM7.74274 5.17078C7.74274 6.45279 6.70346 7.49206 5.42145 7.49206C4.13944 7.49206 3.10017 6.45279 3.10017 5.17078C3.10017 3.88877 4.13944 2.84949 5.42145 2.84949C6.70346 2.84949 7.74274 3.88877 7.74274 5.17078Z",fill:"currentColor"},null,-1)]))}const Cd=Le(si,[["render",ci]]),di={},fi={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function vi(t,n){return w(),A("svg",fi,n[0]||(n[0]=[O("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.52007 1.24211C8.01929 0.631274 9.00203 1.10628 8.83348 1.87697L8.03546 5.52575L14.3198 6.41201C14.4986 6.43722 14.6499 6.55687 14.7157 6.72502C14.7814 6.89317 14.7514 7.08371 14.6372 7.22352L8.47994 14.7574C7.98072 15.3683 6.99798 14.8933 7.16653 14.1226L7.96455 10.4738L1.68018 9.58753C1.5014 9.56231 1.3501 9.44267 1.28434 9.27452C1.21859 9.10636 1.2486 8.91582 1.36285 8.77602L7.52007 1.24211ZM7.63341 2.68368L2.69904 8.72132L8.63801 9.55886C8.77578 9.57829 8.89923 9.65425 8.97867 9.76848C9.05812 9.88271 9.08637 10.0249 9.05664 10.1608L8.3666 13.3159L13.301 7.27822L7.362 6.44067C7.22423 6.42124 7.10078 6.34529 7.02134 6.23106C6.9419 6.11683 6.91364 5.97467 6.94337 5.83874L7.63341 2.68368Z",fill:"currentColor"},null,-1)]))}const Sd=Le(di,[["render",vi]]),pi={},mi={width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function gi(t,n){return w(),A("svg",mi,n[0]||(n[0]=[O("path",{d:"M9.02099 11.5599C10.662 11.5599 11.9923 10.2295 11.9923 8.58852C11.9923 6.9475 10.662 5.61719 9.02099 5.61719C7.37996 5.61719 6.04965 6.9475 6.04965 8.58852C6.04965 10.2295 7.37996 11.5599 9.02099 11.5599Z",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),O("path",{d:"M3.92462 15.2834C4.245 14.2791 4.85628 13.3883 5.68566 12.7269C6.63325 11.9711 7.80938 11.5596 9.02143 11.5596C10.2335 11.5596 11.4096 11.9711 12.3572 12.7269C13.1866 13.3883 13.7979 14.2791 14.1182 15.2834",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),O("rect",{x:"2.25",y:"2.25",width:"13.5",height:"13.5",rx:"2.5",stroke:"currentColor"},null,-1)]))}const wd=Le(pi,[["render",gi]]),hi={},yi={width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function bi(t,n){return w(),A("svg",yi,n[0]||(n[0]=[O("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.83144 1.7793L4.81079 1.7793C4.40911 1.77929 4.07754 1.77929 3.80742 1.80135C3.52685 1.82428 3.26886 1.87348 3.0265 1.99697C2.65072 2.18844 2.3452 2.49396 2.15373 2.86974C2.03024 3.1121 1.98104 3.37009 1.95811 3.65066C1.93604 3.92078 1.93605 4.25235 1.93606 4.65403L1.93606 4.67468V15.2533H1.6875C1.41136 15.2533 1.1875 15.4772 1.1875 15.7533C1.1875 16.0295 1.41136 16.2533 1.6875 16.2533H2.43606H9.92162H15.9101H16.6586C16.9348 16.2533 17.1586 16.0295 17.1586 15.7533C17.1586 15.4772 16.9348 15.2533 16.6586 15.2533H16.4101V10.6631V10.6425C16.4101 10.2408 16.4101 9.90924 16.388 9.63911C16.3651 9.35854 16.3159 9.10055 16.1924 8.85819C16.0009 8.48241 15.6954 8.17689 15.3196 7.98542C15.0773 7.86193 14.8193 7.81273 14.5387 7.7898C14.2686 7.76774 13.937 7.76774 13.5353 7.76775H13.5147H10.4216V4.67468V4.65402C10.4216 4.25235 10.4216 3.92077 10.3996 3.65066C10.3766 3.37009 10.3274 3.1121 10.2039 2.86974C10.0125 2.49396 9.70696 2.18844 9.33118 1.99697C9.08882 1.87348 8.83082 1.82428 8.55026 1.80135C8.28014 1.77929 7.94856 1.77929 7.54688 1.7793L7.52624 1.7793H4.83144ZM9.42162 15.2533H2.93606V4.67468C2.93606 4.2472 2.93645 3.95666 2.95479 3.73209C2.97266 3.51337 3.00505 3.40162 3.04473 3.32373C3.14033 3.13611 3.29287 2.98357 3.48049 2.88798C3.55838 2.84829 3.67013 2.8159 3.88885 2.79803C4.11342 2.77969 4.40396 2.7793 4.83144 2.7793H7.52624C7.95372 2.7793 8.24426 2.77969 8.46882 2.79803C8.68755 2.8159 8.7993 2.84829 8.87719 2.88798C9.06481 2.98357 9.21734 3.13611 9.31294 3.32373C9.35263 3.40162 9.38501 3.51337 9.40288 3.73209C9.42123 3.95666 9.42162 4.2472 9.42162 4.67468V8.26775V15.2533ZM10.4216 15.2533V8.76775H13.5147C13.9422 8.76775 14.2327 8.76814 14.4573 8.78648C14.676 8.80435 14.7877 8.83674 14.8656 8.87643C15.0533 8.97202 15.2058 9.12456 15.3014 9.31218C15.3411 9.39007 15.3735 9.50182 15.3913 9.72054C15.4097 9.94511 15.4101 10.2356 15.4101 10.6631V15.2533H10.4216ZM5.05616 4.77338C4.78002 4.77338 4.55616 4.99724 4.55616 5.27338C4.55616 5.54952 4.78002 5.77338 5.05616 5.77338H7.30183C7.57797 5.77338 7.80183 5.54952 7.80183 5.27338C7.80183 4.99724 7.57797 4.77338 7.30183 4.77338H5.05616ZM5.05616 7.76761C4.78002 7.76761 4.55616 7.99146 4.55616 8.26761C4.55616 8.54375 4.78002 8.76761 5.05616 8.76761H7.30183C7.57797 8.76761 7.80183 8.54375 7.80183 8.26761C7.80183 7.99146 7.57797 7.76761 7.30183 7.76761H5.05616ZM5.05616 10.7618C4.78002 10.7618 4.55616 10.9857 4.55616 11.2618C4.55616 11.538 4.78002 11.7618 5.05616 11.7618H7.30183C7.57797 11.7618 7.80183 11.538 7.80183 11.2618C7.80183 10.9857 7.57797 10.7618 7.30183 10.7618H5.05616Z",fill:"currentColor"},null,-1)]))}const Ed=Le(hi,[["render",bi]]),xi={},Ci={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Si(t,n){return w(),A("svg",Ci,n[0]||(n[0]=[O("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.99707 14H11.9971C12.8255 14 13.4971 13.3284 13.4971 12.5V6.49988L11 6.4999C10.1716 6.49991 9.5 5.82833 9.5 4.9999V2H3.99707C3.16864 2 2.49707 2.67157 2.49707 3.5V12.5C2.49707 13.3284 3.16864 14 3.99707 14ZM13.8291 4.2806C14.1476 4.62366 14.3612 5.04668 14.4502 5.49987L14.4968 5.49987L14.4968 5.94777L14.4971 5.98173V12.5C14.4971 13.8807 13.3778 15 11.9971 15H3.99707C2.61636 15 1.49707 13.8807 1.49707 12.5V3.5C1.49707 2.11929 2.61636 1 3.99707 1H9.69261C10.3878 1 11.0516 1.28945 11.5246 1.79887L13.8291 4.2806ZM11 5.4999L13.4176 5.49988C13.3502 5.30132 13.2414 5.11735 13.0963 4.96105L10.7918 2.47932C10.7044 2.38525 10.6063 2.30368 10.5 2.23582V4.9999C10.5 5.27604 10.7239 5.4999 11 5.4999ZM5 11C4.72386 11 4.5 11.2239 4.5 11.5C4.5 11.7761 4.72386 12 5 12H11C11.2761 12 11.5 11.7761 11.5 11.5C11.5 11.2239 11.2761 11 11 11H5ZM4.5 9C4.5 8.72386 4.72386 8.5 5 8.5H10H11C11.2761 8.5 11.5 8.72386 11.5 9C11.5 9.27614 11.2761 9.5 11 9.5H10H5C4.72386 9.5 4.5 9.27614 4.5 9Z",fill:"currentColor","fill-opacity":"0.72"},null,-1)]))}const Od=Le(xi,[["render",Si]]),wi={},Ei={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Oi(t,n){return w(),A("svg",Ei,n[0]||(n[0]=[O("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.3396 2.75011C9.20746 2.24565 7.94257 2.12068 6.73358 2.39383C5.52459 2.66699 4.43629 3.32363 3.63099 4.26584C2.82568 5.20804 2.34652 6.38532 2.26497 7.6221C2.18342 8.85887 2.50384 10.0889 3.17845 11.1287C3.85307 12.1685 4.84572 12.9623 6.00837 13.3919C7.17102 13.8214 8.44138 13.8636 9.62998 13.5122C10.8186 13.1607 11.8617 12.4345 12.6039 11.4418C13.3459 10.4491 13.7473 9.24321 13.748 8.00385C13.748 8.00376 13.748 8.00366 13.748 8.00357L13.748 8.00385M13.748 8.00357L13.748 7.42885C13.748 7.15148 13.9729 6.92662 14.2503 6.92662C14.5277 6.92662 14.7525 7.15148 14.7525 7.42885V8.00385V8.00414C14.7517 9.46021 14.2802 10.877 13.4084 12.0432C12.5365 13.2094 11.3111 14.0626 9.91478 14.4754C8.51846 14.8883 7.02611 14.8387 5.66027 14.3341C4.29444 13.8295 3.12831 12.8969 2.3358 11.6754C1.5433 10.4539 1.16688 9.00892 1.26268 7.55601C1.35849 6.1031 1.92138 4.72008 2.86742 3.61322C3.81346 2.50635 5.09195 1.73495 6.51221 1.41406C7.93248 1.09317 9.41843 1.23999 10.7484 1.8326C11.0018 1.9455 11.1157 2.2424 11.0028 2.49577C10.8899 2.74913 10.593 2.863 10.3396 2.75011M14.6052 2.64497C14.8015 2.84101 14.8016 3.159 14.6056 3.35523L8.35559 9.61148C8.26142 9.70575 8.13365 9.75873 8.0004 9.75876C7.86716 9.75879 7.73936 9.70588 7.64515 9.61166L5.77015 7.73666C5.57401 7.54053 5.57401 7.22253 5.77015 7.0264C5.96628 6.83026 6.28428 6.83026 6.48041 7.0264L8.0001 8.54609L13.895 2.64532C14.091 2.44909 14.409 2.44893 14.6052 2.64497Z",fill:"currentColor"},null,-1)]))}const Id=Le(wi,[["render",Oi]]),Ii={},Di={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Mi(t,n){return w(),A("svg",Di,n[0]||(n[0]=[O("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67754 2.70675C2.53628 2.84008 2.44787 3.03363 2.46988 3.29885C2.47828 3.40004 2.4869 3.50717 2.49497 3.61981C2.63494 4.75003 2.9076 5.83579 3.29638 6.82863L4.1395 6.29907C5.02533 5.74269 5.45257 4.67951 5.19805 3.66489L4.98918 2.83225C4.93526 2.61729 4.74204 2.46656 4.52043 2.46656H3.36772C3.06265 2.46656 2.82575 2.56686 2.67754 2.70675ZM3.69508 7.71962L4.6536 7.11757C5.89375 6.33864 6.49189 4.85019 6.13556 3.42971L5.9267 2.59708C5.76493 1.9522 5.18528 1.5 4.52043 1.5H3.36772C2.85467 1.5 2.368 1.66981 2.01409 2.00386C1.65323 2.34447 1.46097 2.82869 1.50663 3.3788C1.51521 3.48212 1.52381 3.58915 1.53174 3.70087L1.53262 3.71327L1.53414 3.72561C1.70903 5.14795 2.08181 6.51379 2.62992 7.73832C2.8107 8.1422 3.76654 10.0804 5.03876 11.2498C6.27205 12.3833 6.85696 12.7556 8.29758 13.4488L8.31072 13.4551L8.32421 13.4606C9.77742 14.0548 11.0901 14.3742 12.5272 14.4965C13.6361 14.5909 14.4998 13.677 14.4998 12.6231V11.5096C14.4998 10.8539 14.0598 10.2799 13.4267 10.1095L12.6539 9.90153C11.1864 9.50659 9.63455 10.1384 8.86371 11.4495C8.67966 11.7625 8.49178 12.0826 8.3163 12.3822C7.24188 11.8473 6.72935 11.4908 5.69284 10.5382C4.79599 9.71382 4.04577 8.4042 3.69508 7.71962ZM9.21019 12.7685C10.3726 13.198 11.4466 13.4344 12.6092 13.5334C13.096 13.5749 13.5332 13.1706 13.5332 12.6231V11.5096C13.5332 11.291 13.3866 11.0997 13.1755 11.0429L12.4027 10.8349C11.3541 10.5527 10.2467 11.0044 9.69692 11.9394C9.53381 12.2168 9.3678 12.4995 9.21019 12.7685Z",fill:"currentColor"},null,-1)]))}const Dd=Le(Ii,[["render",Mi]]),Ti={},Pi={width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function $i(t,n){return w(),A("svg",Pi,n[0]||(n[0]=[O("g",{"clip-path":"url(#clip0_3181_20053)"},[O("path",{d:"M10.6097 2.9398L10.1121 2.98864L10.1445 3.31827L10.4606 3.41705L10.6097 2.9398ZM11.1567 3.14404L11.3569 2.68587L11.1567 3.14404ZM6.573 3.27134L6.79841 3.71765L6.573 3.27134ZM7.3908 2.93968L7.53988 3.41694L7.85603 3.31818L7.88841 2.98855L7.3908 2.93968ZM10.4606 3.41705C10.63 3.46998 10.7955 3.53188 10.9564 3.60221L11.3569 2.68587C11.1628 2.60107 10.9632 2.5264 10.7589 2.46255L10.4606 3.41705ZM10.9564 3.60221C12.6848 4.35744 13.891 6.08158 13.891 8.08634H14.891C14.891 5.66998 13.4363 3.59451 11.3569 2.68587L10.9564 3.60221ZM13.891 8.08634V12.1891H14.891V8.08634H13.891ZM13.891 12.1891C13.891 12.5068 14.1486 12.7643 14.4663 12.7643V11.7643C14.7009 11.7643 14.891 11.9545 14.891 12.1891H13.891ZM14.4663 12.7643C14.744 12.7643 14.9692 12.9895 14.9692 13.2673H15.9692C15.9692 12.4372 15.2963 11.7643 14.4663 11.7643V12.7643ZM14.9692 13.2673V13.3425H15.9692V13.2673H14.9692ZM14.9692 13.3425C14.9692 13.6618 14.7104 13.9207 14.391 13.9207V14.9207C15.2626 14.9207 15.9692 14.2141 15.9692 13.3425H14.9692ZM14.391 13.9207H3.60932V14.9207H14.391V13.9207ZM3.60932 13.9207C3.28999 13.9207 3.03113 13.6618 3.03113 13.3425H2.03113C2.03113 14.2141 2.73771 14.9207 3.60932 14.9207V13.9207ZM3.03113 13.3425V13.2671H2.03113V13.3425H3.03113ZM3.03113 13.2671C3.03113 12.9894 3.25624 12.7643 3.53392 12.7643V11.7643C2.70395 11.7643 2.03113 12.4371 2.03113 13.2671H3.03113ZM3.53392 12.7643C3.85159 12.7643 4.10913 12.5068 4.10913 12.1891H3.10913C3.10913 11.9545 3.29932 11.7643 3.53392 11.7643V12.7643ZM4.10913 12.1891V8.08634H3.10913V12.1891H4.10913ZM4.10913 8.08634C4.10913 6.17794 5.20204 4.52391 6.79841 3.71765L6.34758 2.82504C4.42753 3.79478 3.10913 5.78615 3.10913 8.08634H4.10913ZM6.79841 3.71765C7.03522 3.59804 7.28302 3.49717 7.53988 3.41694L7.24173 2.46242C6.93186 2.55921 6.63302 2.68087 6.34758 2.82504L6.79841 3.71765ZM7.88841 2.98855C7.94387 2.42393 8.42082 1.98242 9.00027 1.98242V0.982422C7.90133 0.982422 6.99845 1.81927 6.8932 2.8908L7.88841 2.98855ZM9.00027 1.98242C9.57975 1.98242 10.0567 2.42397 10.1121 2.98864L11.1074 2.89096C11.0022 1.81935 10.0993 0.982422 9.00027 0.982422V1.98242ZM10.6567 14.4207C10.6567 15.3355 9.91506 16.0771 9.00027 16.0771V17.0771C10.4673 17.0771 11.6567 15.8878 11.6567 14.4207H10.6567ZM9.00027 16.0771C8.08548 16.0771 7.34389 15.3355 7.34389 14.4207H6.34389C6.34389 15.8878 7.53319 17.0771 9.00027 17.0771V16.0771Z",fill:"currentColor"})],-1),O("defs",null,[O("clipPath",{id:"clip0_3181_20053"},[O("rect",{width:"18",height:"18",fill:"white",transform:"translate(0 0.0292969)"})])],-1)]))}const Md=Le(Ti,[["render",$i]]),Ai={class:"flex items-center truncate"},Ri={class:"grid flex-shrink-0 place-items-center"},Td={__name:"SidebarLink",props:{icon:{type:[Object,String,Function]},label:{type:String,default:""},to:{type:[Object,String],default:""},isCollapsed:{type:Boolean,default:!1}},setup(t){const n=Ra(),r=Mo(),o=t;function a(){o.to&&(typeof o.to=="object"?n.push(o.to):n.push({name:o.to}),hr.value&&(ql.value=!1))}let l=X(()=>{var e,i;return r.query.view?r.query.view==((i=(e=o.to)==null?void 0:e.query)==null?void 0:i.view):r.name===o.to});return(e,i)=>{const u=he("FeatherIcon");return w(),A("button",{class:de(["flex h-7 cursor-pointer items-center rounded text-ink-gray-7 duration-300 ease-in-out focus:outline-none focus:transition-none focus-visible:rounded focus-visible:ring-2 focus-visible:ring-outline-gray-3",S(l)?"bg-surface-selected shadow-sm":"hover:bg-surface-gray-2"]),onClick:a},[O("div",{class:de(["flex w-full items-center justify-between duration-300 ease-in-out",t.isCollapsed?"ml-[3px] p-1":"px-2 py-1"])},[O("div",Ai,[$(S(Un),{text:t.label,placement:"right",disabled:!t.isCollapsed},{default:j(()=>[Se(e.$slots,"icon",{},()=>[O("span",Ri,[typeof t.icon=="string"?(w(),k(u,{key:0,name:t.icon,class:"size-4 text-ink-gray-7"},null,8,["name"])):(w(),k($a(t.icon),{key:1,class:"size-4 text-ink-gray-7"}))])])]),_:3},8,["text","disabled"]),$(S(Un),{text:t.label,placement:"right",disabled:t.isCollapsed,hoverDelay:1.5},{default:j(()=>[O("span",{class:de(["flex-1 flex-shrink-0 truncate text-sm duration-300 ease-in-out",t.isCollapsed?"ml-0 w-0 overflow-hidden opacity-0":"ml-2 w-auto opacity-100"])},ee(t.label),3)]),_:1},8,["text","disabled"])]),Se(e.$slots,"right")],2)],2)}}},Pd=Tr("mira-views",t=>{let n=Mt({}),r=U([]),o=U([]),a=U({});const l=U(null),e=Ve({url:"mbw_mira.api.views.get_views",params:{doctype:t||""},cache:"mira-views",initialData:[],auto:!0,transform(f){var s,h;r.value=[],o.value=[];for(let v of f)n[v.name]=v,v.type=v.type||"list",v.pinned&&((s=r.value)==null||s.push(v)),v.public&&((h=o.value)==null||h.push(v)),v.is_standard&&v.dt&&(a.value[v.dt+" "+v.type]=v),v.is_default&&(l.value=v);return f}});function i(){return l.value}function u(f,s,h=null){return s=s||"list",!f&&h?a.value[h+" "+s]||null:n[f]}function c(){var f;return(f=r.value)!=null&&f.length?r.value:[]}function p(){var f;return(f=o.value)!=null&&f.length?o.value:[]}async function d(){await e.reload()}return{views:e,defaultView:l,standardViews:a,getDefaultView:i,getPinnedViews:c,getPublicViews:p,reload:d,getView:u}}),pa=U(!1),_a=Ve({url:"mbw_mira.api.notifications.get_notifications",initialData:[],auto:!0}),Li=X(()=>{var t;return((t=_a.data)==null?void 0:t.filter(n=>!n.read).length)||0}),$d=Tr("mira-notifications",()=>{const t=Ve({url:"mbw_mira.api.notifications.mark_as_read",onSuccess:()=>{t.params={},_a.reload()}});function n(){pa.value=!pa.value}function r(o){t.params={doc:o},t.reload(),n()}return{unreadNotificationsCount:Li,mark_as_read:t,mark_doc_as_read:r,toggle:n}}),Fi=U(!1),Vi=U(!1);function ji(){let n=new URLSearchParams(document.cookie.split("; ").join("&")).get("user_id");return n==="Guest"&&(n=null),n}const pt=Mt({}),At=ta("onboardingStatus",{});function Ni(t){const n=ji();if(!n||n==="Guest")return;const r=ta("isOnboardingStepsCompleted"+t+n,!1),o=X(()=>{var m,y;return((y=(m=At.value)==null?void 0:m[n])==null?void 0:y[t+"_onboarding_status"])||[]});!o.value.length&&!r.value&&Ve({url:"frappe.onboarding.get_onboarding_status",cache:"onboarding_status",auto:!0,onSuccess:m=>{At.value[n]=m,h()}});const a=X(()=>{var m;return((m=pt[t])==null?void 0:m.filter(y=>y.completed).length)||0}),l=X(()=>{var m;return((m=pt[t])==null?void 0:m.length)||0}),e=X(()=>Math.floor(a.value/l.value*100));function i(m,y=null){d(m,!0,!0,y)}function u(m=null){f(!0,m)}function c(m,y=null){d(m,!1,!1,y)}function p(m=null){f(!1,m)}function d(m,y=!0,g=!1,b=null){if(r.value)return;o.value.length||(At.value[n]||(At.value[n]={}),At.value[n][t+"_onboarding_status"]=pt[t].map(E=>({name:E.name,completed:!1})));let C=o.value.findIndex(E=>E.name===m);C!==-1&&(o.value[C].completed=y,pt[t][C].completed=y),s(o.value),b==null||b(m,g),Vi.value=!1}function f(m,y=null){r.value&&m||(o.value.length?o.value.forEach(g=>{g.completed=m}):(At.value[n]||(At.value[n]={}),At.value[n][t+"_onboarding_status"]=pt[t].map(g=>({name:g.name,completed:m}))),pt[t].forEach(g=>{g.completed=m}),s(o.value),y==null||y(m))}function s(m){Yn("frappe.onboarding.update_user_onboarding_status",{steps:JSON.stringify(m),appName:t})}function h(){if(!r.value)if(o.value.length){let m=o.value;m.forEach((y,g)=>{pt[t][g].completed=y.completed}),r.value=m.every(y=>y.completed)}else r.value=!1}function v(m){Fi.value=!r.value,!pt[t]&&(pt[t]=m,h())}return{steps:pt[t],stepsCompleted:a,totalSteps:l,completedPercentage:e,isOnboardingStepsCompleted:r,updateOnboardingStep:d,skip:i,skipAll:u,reset:c,resetAll:p,setUp:v,syncStatus:h}}const Ad=U(!1),ki={class:"lucide lucide-lock-keyhole",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Ui(t,n){return w(),A("svg",ki,n[0]||(n[0]=[O("circle",{cx:"12",cy:"16",r:"1"},null,-1),O("rect",{x:"3",y:"10",width:"18",height:"12",rx:"2"},null,-1),O("path",{d:"M7 10V7a5 5 0 0 1 10 0v3"},null,-1)]))}const ma=cn({name:"lucide-lock-keyhole",render:Ui}),Bi={class:"lucide lucide-command",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Hi(t,n){return w(),A("svg",Bi,n[0]||(n[0]=[O("path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"},null,-1)]))}const Gi=cn({name:"lucide-command",render:Hi}),Ki={class:"lucide lucide-arrow-big-up",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Yi(t,n){return w(),A("svg",Ki,n[0]||(n[0]=[O("path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z"},null,-1)]))}const zi=cn({name:"lucide-arrow-big-up",render:Yi}),Zi={class:"lucide lucide-option",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function Wi(t,n){return w(),A("svg",Zi,n[0]||(n[0]=[O("path",{d:"M3 3h6l6 18h6"},null,-1),O("path",{d:"M14 3h7"},null,-1)]))}const Xi=cn({name:"lucide-option",render:Wi}),Ji={key:0},Qi={key:1},_i={key:1},qi={key:2},es={__name:"KeyboardShortcut",props:{meta:Boolean,ctrl:Boolean,shift:Boolean,alt:Boolean,shortcut:String,bg:Boolean},setup(t){const n=navigator.userAgent.includes("Mac");return(r,o)=>(w(),A("div",{class:de(["inline-flex items-center gap-0.5 text-sm",{"bg-surface-gray-2 rounded-sm text-ink-gray-5 py-0.5 px-1":t.bg,"text-ink-gray-4":!t.bg}])},[t.ctrl||t.meta?(w(),A("span",Ji,[S(n)?(w(),k(S(Gi),{key:0,class:"w-3 h-3"})):(w(),A("span",Qi,"Ctrl"))])):q("",!0),t.shift?(w(),A("span",_i,[$(S(zi),{class:"w-3 h-3"})])):q("",!0),t.alt?(w(),A("span",qi,[$(S(Xi),{class:"w-3 h-3"})])):q("",!0),Se(r.$slots,"default")],2))}},ts={class:"rounded bg-surface-gray-7 py-1.5 px-2 text-xs text-ink-white shadow-xl"},ns={class:"flex items-center gap-1"},yr={__name:"Password",props:{modelValue:{type:[String,Number],default:""},value:{type:[String,Number],default:""}},setup(t){const n=t,r=U(!1),o=X(()=>{let a=n.modelValue||n.value;return!(a!=null&&a.includes("*"))});return(a,l)=>{const e=he("FeatherIcon");return w(),k(S(wn),Ze({type:r.value?"text":"password",value:t.modelValue||t.value},a.$attrs,{onKeydown:[l[1]||(l[1]=Bn(nt(i=>r.value=!r.value,["meta","prevent"]),["i"])),l[2]||(l[2]=Bn(nt(i=>r.value=!r.value,["ctrl","prevent"]),["i"]))]}),Dr({suffix:j(()=>[$(S(Un),null,{body:j(()=>[O("div",ts,[O("span",ns,[_t(ee(r.value?a.__("Hide Password"):a.__("Show Password"))+" ",1),$(es,{bg:"",ctrl:"",class:"!bg-surface-gray-5 !text-ink-gray-2 px-1"},{default:j(()=>l[3]||(l[3]=[O("span",{class:"font-mono leading-none tracking-widest"},"+I",-1)])),_:1,__:[3]})])])]),default:j(()=>[O("div",null,[Nn($(e,{name:r.value?"eye-off":"eye",class:"h-3 cursor-pointer mr-1",onClick:l[0]||(l[0]=i=>r.value=!r.value)},null,8,["name"]),[[kn,o.value]])])]),_:1})]),_:2},[a.$slots.prefix?{name:"prefix",fn:j(()=>[Se(a.$slots,"prefix")]),key:"0"}:void 0]),1040,["type","value"])}}},rs={class:"flex flex-col gap-4"},as={key:0,class:"text-sm text-ink-gray-5 mt-2"},os={class:"flex justify-between items-center"},ls={__name:"ChangePasswordModal",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const n=rt(t,"modelValue"),{getUser:r}=Ht(),{updateOnboardingStep:o}=Ni("frappecrm"),a=U(""),l=U(""),e=U(""),i=U(""),u=U(""),c=Ve({url:"frappe.client.set_value",makeParams(){return{doctype:"User",name:r().name,fieldname:"new_password",value:a.value}},onSuccess:()=>{o("setup_your_password"),Hn.success(__("Password updated successfully")),n.value=!1,a.value="",l.value="",u.value=""},onError:d=>{u.value=d.messages[0]||__("Failed to update password")}});function p(d){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(d)}return It([a,l],()=>{i.value="",e.value="",a.value.length<8?e.value="Password must be at least 8 characters":p(a.value)||(e.value="Password must contain uppercase, lowercase, number, and symbol"),l.value.length&&a.value!==l.value?i.value="Passwords do not match":a.value===l.value&&a.value.length&&l.value.length&&(i.value="Passwords match")}),(d,f)=>{const s=he("ErrorMessage"),h=he("Button");return w(),k(S(Pr),{modelValue:n.value,"onUpdate:modelValue":f[3]||(f[3]=v=>n.value=v),options:{title:d.__("Change Password")}},{"body-content":j(()=>[O("div",rs,[O("div",null,[$(yr,{modelValue:a.value,"onUpdate:modelValue":f[0]||(f[0]=v=>a.value=v),placeholder:d.__("New Password")},{prefix:j(()=>[$(S(ma),{class:"size-4 text-ink-gray-4"})]),_:1},8,["modelValue","placeholder"]),e.value?(w(),A("p",as,ee(e.value),1)):q("",!0)]),O("div",null,[$(yr,{modelValue:l.value,"onUpdate:modelValue":f[1]||(f[1]=v=>l.value=v),placeholder:d.__("Confirm Password")},{prefix:j(()=>[$(S(ma),{class:"size-4 text-ink-gray-4"})]),_:1},8,["modelValue","placeholder"]),i.value?(w(),A("p",{key:0,class:de(["text-sm text-ink-gray-5 mt-2",i.value==="Passwords match"?"text-ink-green-3":"text-ink-red-3"])},ee(i.value),3)):q("",!0)])])]),actions:j(()=>[O("div",os,[O("div",null,[$(s,{message:u.value},null,8,["message"])]),$(h,{variant:"solid",label:d.__("Update"),disabled:!a.value||!l.value||a.value!==l.value,loading:S(c).loading,onClick:f[2]||(f[2]=v=>S(c).submit())},null,8,["label","disabled","loading"])])]),_:1},8,["modelValue","options"])}}},jt={__name:"FormattedInput",props:{value:{type:[String,Number],default:""},formattedValue:{type:[String,Number],default:""}},setup(t){const n=t,r=na(),o=U(!1),a=U(null);function l(){o.value=!0,yt(()=>{var u;a.value&&((u=a.value.el)==null||u.select())})}const e=X(()=>o.value?n.value:n.formattedValue||n.value),i=X(()=>[{sm:"text-xs",md:"text-base"}[r.size||"sm"],"text-ink-gray-5"]);return(u,c)=>(w(),A(Me,null,[$(S(Lt),Ze({ref_key:"inputRef",ref:a,value:e.value,onFocus:l,onBlur:c[0]||(c[0]=p=>o.value=!1)},u.$attrs),null,16,["value"]),Se(u.$slots,"description",{},()=>[S(r).description?(w(),A("p",{key:0,class:de(["mt-1.5",i.value])},ee(S(r).description),3)):q("",!0)])],64))}},is={},ss={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function us(t,n){return w(),A("svg",ss,n[0]||(n[0]=[O("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.5 4.5C2.5 3.39543 3.39543 2.5 4.5 2.5H8.5C8.77614 2.5 9 2.27614 9 2C9 1.72386 8.77614 1.5 8.5 1.5H4.5C2.84315 1.5 1.5 2.84315 1.5 4.5V11.5C1.5 13.1569 2.84315 14.5 4.5 14.5H11.5C13.1569 14.5 14.5 13.1569 14.5 11.5V7.5C14.5 7.22386 14.2761 7 14 7C13.7239 7 13.5 7.22386 13.5 7.5V11.5C13.5 12.6046 12.6046 13.5 11.5 13.5H4.5C3.39543 13.5 2.5 12.6046 2.5 11.5V4.5ZM14.1255 2.58446C14.3207 2.3892 14.3207 2.07261 14.1255 1.87735C13.9302 1.68209 13.6136 1.68209 13.4184 1.87735L6.68616 8.60954C6.4909 8.8048 6.4909 9.12139 6.68616 9.31665C6.88143 9.51191 7.19801 9.51191 7.39327 9.31665L14.1255 2.58446Z",fill:"currentColor"},null,-1)]))}const $r=Le(is,[["render",us]]),cs={},ds={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function fs(t,n){return w(),A("svg",ds,n[0]||(n[0]=[O("circle",{cx:"8",cy:"8",r:"4.5",fill:"transparent",stroke:"currentColor","stroke-width":"3"},null,-1)]))}const vs=Le(cs,[["render",fs]]),br={__name:"UserAvatar",props:{user:{type:String,default:null}},setup(t){const{getUser:n}=Ht();return(r,o)=>(w(),k(S(Xo),Ze({label:S(n)(t.user).full_name,image:S(n)(t.user).user_image},r.$attrs),null,16,["label","image"]))}},ps={class:"w-full"},ms=["onClick"],gs={key:0,class:"flex text-base leading-5 items-center truncate"},hs={class:"truncate"},ys={key:1,class:"absolute text-ink-gray-4 text-left truncate w-full pr-7"},bs={class:"relative mt-1 rounded-lg bg-surface-modal text-base shadow-2xl"},xs={class:"relative px-1.5 pt-1.5"},Cs={key:0,class:"truncate bg-surface-modal px-2.5 py-1.5 text-sm font-medium text-ink-gray-5"},Ss={class:"flex-1 truncate text-ink-gray-7"},ws={key:0,class:"my-1.5 rounded-md px-2.5 py-1.5 text-base text-ink-gray-5"},Es={key:0,class:"border-t border-outline-gray-modals p-1.5"},aa={__name:"Autocomplete",props:{modelValue:{type:String,default:""},options:{type:Array,default:()=>[]},size:{type:String,default:"md"},variant:{type:String,default:"subtle"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0}},emits:["update:modelValue","update:query","change"],setup(t,{expose:n,emit:r}){const o=t,a=r,l=U(""),e=U(!1),i=U(null),u=na(),c=To(),p=X(()=>"value"in u),d=X({get(){return p.value?u.value:o.modelValue},set(g){l.value="",g&&(e.value=!1),a(p.value?"change":"update:modelValue",g)}});function f(){e.value=!1}const s=X(()=>{var b;return!o.options||o.options.length==0?[]:((b=o.options[0])!=null&&b.group?o.options:[{group:"",items:o.options}]).map((C,E)=>({key:E,group:C.group,hideLabel:C.hideLabel||!1,items:o.filterable?h(C.items):C.items})).filter(C=>C.items.length>0)});function h(g){return l.value?g.filter(b=>[b.label,b.value].some(E=>(E||"").toString().toLowerCase().includes(l.value.toLowerCase()))):g}function v(g){if(typeof g=="string"){let C=s.value.flatMap(E=>E.items).find(E=>E.value===g);return(C==null?void 0:C.label)||g}return g==null?void 0:g.label}It(l,g=>{a("update:query",g)}),It(e,g=>{g&&yt(()=>{i.value.el.focus()})});const m=X(()=>o.disabled?"text-ink-gray-5":"text-ink-gray-8"),y=X(()=>{let g={sm:"text-base rounded h-7",md:"text-base rounded h-8",lg:"text-lg rounded-md h-10",xl:"text-xl rounded-md h-10"}[o.size],b={sm:"py-1.5 px-2",md:"py-1.5 px-2.5",lg:"py-1.5 px-3",xl:"py-1.5 px-3"}[o.size],C=o.disabled?"disabled":o.variant,E={subtle:"border border-gray-100 bg-surface-gray-2 placeholder-ink-gray-4 hover:border-outline-gray-modals hover:bg-surface-gray-3 focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3",outline:"border border-outline-gray-2 bg-surface-white placeholder-ink-gray-4 hover:border-outline-gray-3 hover:shadow-sm focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3",disabled:["border bg-surface-menu-bar placeholder-ink-gray-3",o.variant==="outline"?"border-outline-gray-2":"border-transparent"]}[C];return[g,b,E,m.value,"transition-colors w-full"]});return n({query:l}),(g,b)=>(w(),k(S(Ro),{modelValue:d.value,"onUpdate:modelValue":b[3]||(b[3]=C=>d.value=C),nullable:""},{default:j(({open:C})=>[$(S(Mr),{class:"w-full",show:e.value,"onUpdate:show":b[2]||(b[2]=E=>e.value=E)},{target:j(({open:E,togglePopover:x})=>[Se(g.$slots,"target",St(wt({open:E,togglePopover:x,isOpen:e.value,selectedValue:d.value,displayValue:v})),()=>[O("div",ps,[O("button",{class:de(["relative flex h-7 w-full items-center justify-between gap-2 rounded bg-surface-gray-2 px-2 py-1 transition-colors hover:bg-surface-gray-3 border border-transparent focus:border-outline-gray-4 focus:outline-none focus:ring-2 focus:ring-outline-gray-3",y.value]),onClick:()=>x()},[d.value?(w(),A("div",gs,[Se(g.$slots,"prefix"),O("span",hs,ee(v(d.value)),1)])):(w(),A("div",ys,ee(t.placeholder||""),1)),$(S(Bt),{name:"chevron-down",class:"absolute h-4 w-4 text-ink-gray-5 right-2","aria-hidden":"true"})],10,ms)])])]),body:j(({isOpen:E})=>{var x;return[Nn(O("div",null,[O("div",bs,[O("div",xs,[$(S(Po),{ref_key:"search",ref:i,class:"form-input w-full focus:bg-surface-gray-3 hover:bg-surface-gray-4 text-ink-gray-8",type:"text",onChange:b[0]||(b[0]=R=>{l.value=R.target.value}),value:l.value,autocomplete:"off",placeholder:"Search"},null,8,["value"]),O("button",{class:"absolute right-1.5 inline-flex h-7 w-7 items-center justify-center",onClick:b[1]||(b[1]=R=>d.value=null)},[$(S(Bt),{name:"x",class:"w-4 text-ink-gray-8"})])]),$(S($o),{class:"my-1 max-h-[12rem] overflow-y-auto p-1.5 pt-0",static:""},{default:j(()=>[(w(!0),A(Me,null,Fe(s.value,R=>Nn((w(),A("div",{class:"mt-1.5",key:R.key},[R.group&&!R.hideLabel?(w(),A("div",Cs,ee(R.group),1)):q("",!0),(w(!0),A(Me,null,Fe(R.items,V=>(w(),k(S(Ao),{as:"template",key:V.value,value:V},{default:j(({active:M,selected:B})=>[O("li",{class:de(["flex cursor-pointer items-center rounded px-2.5 py-1.5 text-base",{"bg-surface-gray-3":M}])},[Se(g.$slots,"item-prefix",Ze({ref_for:!0},{active:M,selected:B,option:V})),Se(g.$slots,"item-label",Ze({ref_for:!0},{active:M,selected:B,option:V}),()=>[O("div",Ss,ee(V.label),1)])],2)]),_:2},1032,["value"]))),128))])),[[kn,R.items.length>0]])),128)),s.value.length==0?(w(),A("li",ws," No results found ")):q("",!0)]),_:3}),S(c).footer?(w(),A("div",Es,[Se(g.$slots,"footer",St(wt({value:(x=i.value)==null?void 0:x.el._value,close:f})))])):q("",!0)])],512),[[kn,E]])]}),_:3},8,["show"])]),_:3},8,["modelValue"]))}},Os={class:"space-y-1.5 p-[2px] -m-[2px]"},Is={key:0,class:"flex flex-col gap-1"},Ds={class:"flex-1 font-semibold truncate text-ink-gray-7"},Ms={class:"flex-1 text-sm truncate text-ink-gray-5"},Ts={key:1,class:"flex-1 truncate text-ink-gray-7"},Ps={key:0},Gn={__name:"Link",props:{doctype:{type:String,required:!0},filters:{type:[Array,Object,String],default:[]},modelValue:{type:String,default:""},hideMe:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(t,{emit:n}){const r=t,o=n,a=na(),l=X(()=>"value"in a),e=X({get:()=>l.value?a.value:r.modelValue,set:s=>(s==null?void 0:s.value)&&o(l.value?"change":"update:modelValue",s==null?void 0:s.value)}),i=U(null),u=U("");da(()=>{var s;return(s=i.value)==null?void 0:s.query},s=>{s=s||"",u.value!==s&&(u.value=s,p(s))},{debounce:300,immediate:!0}),da(()=>r.doctype,()=>p(""),{debounce:300,immediate:!0});const c=Ve({url:"frappe.desk.search.search_link",cache:[r.doctype,u.value,r.hideMe,r.filters],method:"POST",params:{txt:u.value,doctype:r.doctype,filters:r.filters},transform:s=>{let h=s.map(v=>({label:v.label||v.value,value:v.value,description:v.description}));return!r.hideMe&&r.doctype=="User"&&h.unshift({label:"@me",value:"@me"}),h}});function p(s){var h,v,m;r.doctype&&((h=c.data)!=null&&h.length&&s===((v=c.params)==null?void 0:v.txt)&&r.doctype===((m=c.params)==null?void 0:m.doctype)||(c.update({params:{txt:s,doctype:r.doctype,filters:r.filters}}),c.reload()))}function d(s){o(l.value?"change":"update:modelValue",""),s()}const f=X(()=>[{sm:"text-xs",md:"text-base"}[a.size||"sm"],"text-ink-gray-5"]);return(s,h)=>{const v=he("FeatherIcon"),m=he("Button");return w(),A("div",Os,[S(a).label?(w(),A("label",{key:0,class:de(["block",f.value])},ee(s.__(S(a).label)),3)):q("",!0),$(aa,{ref_key:"autocomplete",ref:i,options:S(c).data,modelValue:e.value,"onUpdate:modelValue":h[0]||(h[0]=y=>e.value=y),size:S(a).size||"sm",variant:S(a).variant,placeholder:S(a).placeholder,filterable:!1},{target:j(({open:y,togglePopover:g})=>[Se(s.$slots,"target",St(wt({open:y,togglePopover:g})))]),prefix:j(()=>[Se(s.$slots,"prefix")]),"item-prefix":j(({active:y,selected:g,option:b})=>[Se(s.$slots,"item-prefix",St(wt({active:y,selected:g,option:b})))]),"item-label":j(({active:y,selected:g,option:b})=>[Se(s.$slots,"item-label",St(wt({active:y,selected:g,option:b})),()=>[b.description?(w(),A("div",Is,[O("div",Ds,ee(b.label),1),O("div",Ms,ee(b.description),1)])):(w(),A("div",Ts,ee(b.label),1))])]),footer:j(({value:y,close:g})=>[S(a).onCreate?(w(),A("div",Ps,[$(m,{variant:"ghost",class:"w-full !justify-start",label:s.__("Create New"),onClick:()=>S(a).onCreate(y,g)},{prefix:j(()=>[$(v,{name:"plus",class:"h-4"})]),_:2},1032,["label","onClick"])])):q("",!0),O("div",null,[$(m,{variant:"ghost",class:"w-full !justify-start",label:s.__("Clear"),onClick:()=>d(g)},{prefix:j(()=>[$(v,{name:"x",class:"h-4"})]),_:2},1032,["label","onClick"])])]),_:3},8,["options","modelValue","size","variant","placeholder"])])}}},$s={"#,###.##":{decimalStr:".",groupSep:","},"#.###,##":{decimalStr:",",groupSep:"."},"# ###.##":{decimalStr:".",groupSep:" "},"# ###,##":{decimalStr:",",groupSep:" "},"#'###.##":{decimalStr:".",groupSep:"'"},"#, ###.##":{decimalStr:".",groupSep:", "},"#,##,###.##":{decimalStr:".",groupSep:","},"#,###.###":{decimalStr:".",groupSep:","},"#.###":{decimalStr:"",groupSep:"."},"#,###":{decimalStr:"",groupSep:","}};function As(t,n,r){return t.split(n).join(r)}function Rs(t,n){n||(n=[`
`,"	"," "]);let r=t.substr(0,1);for(;n.includes(r);)t=t.substr(1),r=t.substr(0,1);return t}function An(t,n){return t===!0?1:t===!1?0:(t=t+"",t!=="0"&&(t=Rs(t,["0"])),t=parseInt(t),isNaN(t)&&(t=n===void 0?0:n),t)}function Nt(t,n,r,o){if(t==null||t=="")return 0;if(typeof t!="number"){if(t=t+"",t.indexOf(" ")!=-1){var a=t.split(" ");t=isNaN(parseFloat(a[0]))?a.slice(a.length-1).join(" "):t}t=Ls(t,r),t=parseFloat(t),isNaN(t)&&(t=0)}return n!=null?Vs(t,n,o):t}function Ls(t,n){n||(n=oa());var r=qa(n),o=new RegExp(r.groupSep==="."?"\\.":r.groupSep,"g");if(t=t.replace(o,""),r.decimalStr!=="."&&r.decimalStr!==""){var a=new RegExp(r.decimalStr,"g");t=t.replace(a,".")}return t}function xr(t,n,r){n||(n=oa(),r==null&&(r=An(window.sysdefaults.float_precision||3)));let o=qa(n);r==null&&(r=o.precision),t=Nt(t,r,n);let a=!1;t<0&&(a=!0),t=Math.abs(t),t=t.toFixed(r);let l=t.split("."),e=o.groupSep?3:0;if(e){let i=l[0],u="";for(let c=i.length;c>=0;c--){let p=As(u,o.groupSep,"").length;n=="#,##,###.##"&&u.indexOf(",")!=-1&&(e=2,p+=1),u+=i.charAt(c),p&&!((p+1)%e)&&c!=0&&(u+=o.groupSep)}l[0]=u.split("").reverse().join("")}return l[0]+""==""&&(l[0]="0"),l[1]=l[1]&&o.decimalStr?o.decimalStr+l[1]:"",(a?"-":"")+l[0]+l[1]}function ga(t,n,r="USD",o=2){if(t=t==null||t===""?0:t,typeof o!="number"&&(o=An(o||window.sysdefaults.currency_precision||2)),n=oa(n),r){let a=Fs(r);if(a)return __(a)+" "+xr(t,n,o)}return xr(t,n,o)}function oa(t=null){return t||window.sysdefaults.number_format||"#,###.##"}function Fs(t){try{const o=new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).formatToParts(1).find(a=>a.type==="currency");return o?o.value:null}catch{return console.error(`Invalid currency code: ${t}`),null}}function qa(t){let n=$s[t];return n||(n={decimalStr:".",groupSep:","}),n.precision=t.split(n.decimalStr).slice(1)[0].length,n}function Vs(t,n,r){r=r||window.sysdefaults.rounding_method||"Banker's Rounding (legacy)";let o=t<0;if(r=="Banker's Rounding (legacy)"){var a=An(n),l=Math.pow(10,a),e=+(a?Math.abs(t)*l:Math.abs(t)).toFixed(8),i=Math.floor(e),u=e-i,c=!n&&u==.5?i%2==0?i:i+1:Math.round(e);return c=a?c/l:c,o?-c:c}else if(r=="Banker's Rounding"){if(t==0)return 0;n=An(n);let p=Math.pow(10,n);t=Math.abs(t)*p;let d=Math.floor(t),f=t-d,s=2**(Math.log2(Math.abs(t))-52);return Math.abs(f-.5)<s?t=d%2==0?d:d+1:t=Math.round(t),t=t/p,o?-t:t}else if(r=="Commercial Rounding"){if(t==0)return 0;let p=An(n),d=Math.pow(10,p);t=t*d;let f=2**(Math.log2(Math.abs(t))-52);return o&&(f=-1*f),t=Math.round(t+f),t/d}else throw new Error(`Unknown rounding method ${r}`)}const Ct=Mt({}),Yt=Mt({});function Ut(t){const n=Ve({url:"frappe.desk.form.load.getdoctype",params:{doctype:t,with_parent:1,cached_timestamp:null},cache:["Meta",t],onSuccess:d=>{let f=d.docs;for(let s of f)Ct[s.name]=s;Yt[t]=JSON.parse(d.user_settings)}});!Ct[t]&&!n.loading&&n.fetch();function r(d,f){return o(d,f)+"%"}function o(d,f){var v;let s=(v=Ct[t])==null?void 0:v.fields.find(m=>m.fieldname==d),h=(s==null?void 0:s.precision)||null;return xr(f[d],"",h)}function a(d,f){var v;let s=(v=Ct[t])==null?void 0:v.fields.find(m=>m.fieldname==d),h=(s==null?void 0:s.precision)||null;return xr(f[d],"",h)}function l(d,f){var v;let s=(v=Ct[t])==null?void 0:v.fields.find(m=>m.fieldname==d),h=(s==null?void 0:s.precision)||null;return ga(f[d],"","",h)}function e(d,f,s=null){var y;let h=window.sysdefaults.currency||"USD",v=(y=Ct[t])==null?void 0:y.fields.find(g=>g.fieldname==d),m=(v==null?void 0:v.precision)||null;return v&&v.options&&(v.options.indexOf(":")!=-1?h=h:f&&f[v.options]?h=f[v.options]:s&&s[v.options]&&(h=s[v.options])),ga(f[d],"",h,m)}function i(){return Ct[t]||{}}function u(d,f=null){var s,h;return f=f||t,(h=(s=Yt[d])==null?void 0:s.GridView)!=null&&h[t]?Yt[d].GridView[t]:{}}function c(d=null){var f;return d=d||t,(f=Ct[d])==null?void 0:f.fields.map(s=>{var h;return s.fieldtype==="Select"&&typeof s.options=="string"&&(s.options=s.options.split(`
`).map(v=>({label:v,value:v})),((h=s.options[0])==null?void 0:h.value)!==""&&s.options.unshift({label:"",value:""})),s.fieldtype==="Link"&&s.options=="User"&&(s.fieldtype="User"),s})}function p(d,f,s,h){let v=Yt[d]||{},m=JSON.parse(JSON.stringify(v));return m[f]===void 0?m[f]={[t]:s}:m[f][t]=s,JSON.stringify(v)!==JSON.stringify(m)?Ve({url:"frappe.model.utils.user_settings.save",params:{doctype:d,user_settings:JSON.stringify(m)},auto:!0,onSuccess:()=>{Yt[d]=m,h==null||h()}}):(Yt[d]=m,h==null?void 0:h())}return{meta:n,doctypeMeta:Ct,userSettings:Yt,getFields:c,getGridSettings:i,getGridViewSettings:u,saveUserSettings:p,getFloatWithPrecision:a,getCurrencyWithPrecision:l,getFormattedFloat:o,getFormattedPercent:r,getFormattedCurrency:e}}const js={class:"group flex flex-wrap gap-1 min-h-20 p-1.5 rounded text-base bg-surface-gray-2 hover:bg-surface-gray-3 focus:border-outline-gray-4 focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3 text-ink-gray-8 transition-colors w-full"},Ns={class:"w-full"},ks=["onClick"],Us={__name:"TableMultiselectInput",props:ut({doctype:{type:String,required:!0},errorMessage:{type:Function,default:t=>`${t} is an Invalid value`}},{modelValue:{type:Array,default:()=>[]},modelModifiers:{}}),emits:ut(["change"],["update:modelValue"]),setup(t,{emit:n}){const r=t,o=n,{getFields:a}=Ut(r.doctype),l=rt(t,"modelValue"),e=U([]),i=U(null),u=U(""),c=U(""),p=X(()=>c.value?{name:["not in",d.value]}:[]),d=X(()=>(i.value="",f(),c.value?l.value.map(m=>m[c.value.fieldname]):[])),f=()=>{if(i.value="",!c.value){let m=a();c.value=m==null?void 0:m.find(y=>["Link","User"].includes(y.fieldtype)),c.value||(i.value="Table MultiSelect requires a Table with atleast one Link field")}return c.value},s=m=>{if(i.value=null,l.value.some(y=>y[c.value.fieldname]===m)){i.value="Value already exists";return}m&&(l.value.push({[c.value.fieldname]:m}),o("change",l.value),!i.value&&(u.value=""))},h=m=>{let y=l.value.filter(g=>g[c.value.fieldname]!==m);o("change",y)},v=()=>{var y;if(u.value)return;let m=(y=e.value[e.value.length-1])==null?void 0:y.$el;document.activeElement===m?(l.value.pop(),o("change",l.value),yt(()=>{l.value.length&&(m=e.value[e.value.length-1].$el,m==null||m.focus())})):m==null||m.focus()};return(m,y)=>{const g=he("FeatherIcon"),b=he("Button"),C=he("ErrorMessage");return w(),A("div",null,[O("div",js,[(w(!0),A(Me,null,Fe(d.value,E=>(w(),k(b,{ref_for:!0,ref_key:"valuesRef",ref:e,key:E,label:E,theme:"gray",variant:"subtle",class:"rounded bg-surface-white hover:!bg-surface-gray-1 focus-visible:ring-outline-gray-4",onKeydownCapture:Bn(nt(v,["stop"]),["delete"])},{suffix:j(()=>[$(g,{class:"h-3.5",name:"x",onClick:nt(x=>h(E),["stop"])},null,8,["onClick"])]),_:2},1032,["label","onKeydownCapture"]))),128)),O("div",Ns,[c.value?(w(),k(Gn,{key:0,class:"form-control flex-1 truncate cursor-text",value:u.value,filters:p.value,doctype:c.value.options,onChange:y[0]||(y[0]=E=>s(E)),hideMe:!0},{target:j(({togglePopover:E})=>[O("button",{class:"w-full h-7 cursor-text",onClick:nt(E,["stop"])},null,8,ks)]),_:1},8,["value","filters","doctype"])):q("",!0)])]),i.value?(w(),k(C,{key:0,class:"mt-2 pl-2",message:i.value},null,8,["message"])):q("",!0)])}}},Bs={},Hs={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Gs(t,n){return w(),A("svg",Hs,n[0]||(n[0]=[O("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.25 13C9.25 12.3096 9.80964 11.75 10.5 11.75C11.1904 11.75 11.75 12.3096 11.75 13C11.75 13.6904 11.1904 14.25 10.5 14.25C9.80964 14.25 9.25 13.6904 9.25 13ZM9.25 3C9.25 2.30964 9.80964 1.75 10.5 1.75C11.1904 1.75 11.75 2.30964 11.75 3C11.75 3.69036 11.1904 4.25 10.5 4.25C9.80964 4.25 9.25 3.69036 9.25 3ZM10.5 6.75C9.80964 6.75 9.25 7.30964 9.25 8C9.25 8.69036 9.80964 9.25 10.5 9.25C11.1904 9.25 11.75 8.69036 11.75 8C11.75 7.30964 11.1904 6.75 10.5 6.75ZM4.25 13C4.25 12.3096 4.8096 11.75 5.5 11.75C6.19036 11.75 6.75 12.3096 6.75 13C6.75 13.6904 6.19036 14.25 5.5 14.25C4.8096 14.25 4.25 13.6904 4.25 13ZM5.5 1.75C4.8096 1.75 4.25 2.30964 4.25 3C4.25 3.69036 4.8096 4.25 5.5 4.25C6.19036 4.25 6.75 3.69036 6.75 3C6.75 2.30964 6.19036 1.75 5.5 1.75ZM4.25 8C4.25 7.30964 4.8096 6.75 5.5 6.75C6.19036 6.75 6.75 7.30964 6.75 8C6.75 8.69036 6.19036 9.25 5.5 9.25C4.8096 9.25 4.25 8.69036 4.25 8Z",fill:"currentColor"},null,-1)]))}const eo=Le(Bs,[["render",Gs]]);var to={exports:{}};const Ks=Fa(Lo);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ha(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function bt(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ha(Object(r),!0).forEach(function(o){Ys(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ha(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function dr(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dr=function(n){return typeof n}:dr=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dr(t)}function Ys(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function at(){return at=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},at.apply(this,arguments)}function zs(t,n){if(t==null)return{};var r={},o=Object.keys(t),a,l;for(l=0;l<o.length;l++)a=o[l],!(n.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Zs(t,n){if(t==null)return{};var r=zs(t,n),o,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)o=l[a],!(n.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}function Ws(t){return Xs(t)||Js(t)||Qs(t)||_s()}function Xs(t){if(Array.isArray(t))return Xr(t)}function Js(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qs(t,n){if(t){if(typeof t=="string")return Xr(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xr(t,n)}}function Xr(t,n){(n==null||n>t.length)&&(n=t.length);for(var r=0,o=new Array(n);r<n;r++)o[r]=t[r];return o}function _s(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qs="1.14.0";function Et(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Tt=Et(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Zn=Et(/Edge/i),ya=Et(/firefox/i),Rn=Et(/safari/i)&&!Et(/chrome/i)&&!Et(/android/i),no=Et(/iP(ad|od|hone)/i),eu=Et(/chrome/i)&&Et(/android/i),ro={capture:!1,passive:!1};function ve(t,n,r){t.addEventListener(n,r,!Tt&&ro)}function fe(t,n,r){t.removeEventListener(n,r,!Tt&&ro)}function Cr(t,n){if(n){if(n[0]===">"&&(n=n.substring(1)),t)try{if(t.matches)return t.matches(n);if(t.msMatchesSelector)return t.msMatchesSelector(n);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(n)}catch{return!1}return!1}}function tu(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function st(t,n,r,o){if(t){r=r||document;do{if(n!=null&&(n[0]===">"?t.parentNode===r&&Cr(t,n):Cr(t,n))||o&&t===r)return t;if(t===r)break}while(t=tu(t))}return null}var ba=/\s+/g;function De(t,n,r){if(t&&n)if(t.classList)t.classList[r?"add":"remove"](n);else{var o=(" "+t.className+" ").replace(ba," ").replace(" "+n+" "," ");t.className=(o+(r?" "+n:"")).replace(ba," ")}}function Q(t,n,r){var o=t&&t.style;if(o){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(r=t.currentStyle),n===void 0?r:r[n];!(n in o)&&n.indexOf("webkit")===-1&&(n="-webkit-"+n),o[n]=r+(typeof r=="string"?"":"px")}}function Qt(t,n){var r="";if(typeof t=="string")r=t;else do{var o=Q(t,"transform");o&&o!=="none"&&(r=o+" "+r)}while(!n&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(r)}function ao(t,n,r){if(t){var o=t.getElementsByTagName(n),a=0,l=o.length;if(r)for(;a<l;a++)r(o[a],a);return o}return[]}function ht(){var t=document.scrollingElement;return t||document.documentElement}function Ie(t,n,r,o,a){if(!(!t.getBoundingClientRect&&t!==window)){var l,e,i,u,c,p,d;if(t!==window&&t.parentNode&&t!==ht()?(l=t.getBoundingClientRect(),e=l.top,i=l.left,u=l.bottom,c=l.right,p=l.height,d=l.width):(e=0,i=0,u=window.innerHeight,c=window.innerWidth,p=window.innerHeight,d=window.innerWidth),(n||r)&&t!==window&&(a=a||t.parentNode,!Tt))do if(a&&a.getBoundingClientRect&&(Q(a,"transform")!=="none"||r&&Q(a,"position")!=="static")){var f=a.getBoundingClientRect();e-=f.top+parseInt(Q(a,"border-top-width")),i-=f.left+parseInt(Q(a,"border-left-width")),u=e+l.height,c=i+l.width;break}while(a=a.parentNode);if(o&&t!==window){var s=Qt(a||t),h=s&&s.a,v=s&&s.d;s&&(e/=v,i/=h,d/=h,p/=v,u=e+p,c=i+d)}return{top:e,left:i,bottom:u,right:c,width:d,height:p}}}function xa(t,n,r){for(var o=kt(t,!0),a=Ie(t)[n];o;){var l=Ie(o)[r],e=void 0;if(r==="top"||r==="left"?e=a>=l:e=a<=l,!e)return o;if(o===ht())break;o=kt(o,!1)}return!1}function dn(t,n,r,o){for(var a=0,l=0,e=t.children;l<e.length;){if(e[l].style.display!=="none"&&e[l]!==re.ghost&&(o||e[l]!==re.dragged)&&st(e[l],r.draggable,t,!1)){if(a===n)return e[l];a++}l++}return null}function la(t,n){for(var r=t.lastElementChild;r&&(r===re.ghost||Q(r,"display")==="none"||n&&!Cr(r,n));)r=r.previousElementSibling;return r||null}function $e(t,n){var r=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==re.clone&&(!n||Cr(t,n))&&r++;return r}function Ca(t){var n=0,r=0,o=ht();if(t)do{var a=Qt(t),l=a.a,e=a.d;n+=t.scrollLeft*l,r+=t.scrollTop*e}while(t!==o&&(t=t.parentNode));return[n,r]}function nu(t,n){for(var r in t)if(t.hasOwnProperty(r)){for(var o in n)if(n.hasOwnProperty(o)&&n[o]===t[r][o])return Number(r)}return-1}function kt(t,n){if(!t||!t.getBoundingClientRect)return ht();var r=t,o=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var a=Q(r);if(r.clientWidth<r.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return ht();if(o||n)return r;o=!0}}while(r=r.parentNode);return ht()}function ru(t,n){if(t&&n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);return t}function jr(t,n){return Math.round(t.top)===Math.round(n.top)&&Math.round(t.left)===Math.round(n.left)&&Math.round(t.height)===Math.round(n.height)&&Math.round(t.width)===Math.round(n.width)}var Ln;function oo(t,n){return function(){if(!Ln){var r=arguments,o=this;r.length===1?t.call(o,r[0]):t.apply(o,r),Ln=setTimeout(function(){Ln=void 0},n)}}}function au(){clearTimeout(Ln),Ln=void 0}function lo(t,n,r){t.scrollLeft+=n,t.scrollTop+=r}function ia(t){var n=window.Polymer,r=window.jQuery||window.Zepto;return n&&n.dom?n.dom(t).cloneNode(!0):r?r(t).clone(!0)[0]:t.cloneNode(!0)}function Sa(t,n){Q(t,"position","absolute"),Q(t,"top",n.top),Q(t,"left",n.left),Q(t,"width",n.width),Q(t,"height",n.height)}function Nr(t){Q(t,"position",""),Q(t,"top",""),Q(t,"left",""),Q(t,"width",""),Q(t,"height","")}var Ge="Sortable"+new Date().getTime();function ou(){var t=[],n;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(Q(a,"display")==="none"||a===re.ghost)){t.push({target:a,rect:Ie(a)});var l=bt({},t[t.length-1].rect);if(a.thisAnimationDuration){var e=Qt(a,!0);e&&(l.top-=e.f,l.left-=e.e)}a.fromRect=l}})}},addAnimationState:function(o){t.push(o)},removeAnimationState:function(o){t.splice(nu(t,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(n),typeof o=="function"&&o();return}var l=!1,e=0;t.forEach(function(i){var u=0,c=i.target,p=c.fromRect,d=Ie(c),f=c.prevFromRect,s=c.prevToRect,h=i.rect,v=Qt(c,!0);v&&(d.top-=v.f,d.left-=v.e),c.toRect=d,c.thisAnimationDuration&&jr(f,d)&&!jr(p,d)&&(h.top-d.top)/(h.left-d.left)===(p.top-d.top)/(p.left-d.left)&&(u=iu(h,f,s,a.options)),jr(d,p)||(c.prevFromRect=p,c.prevToRect=d,u||(u=a.options.animation),a.animate(c,h,d,u)),u&&(l=!0,e=Math.max(e,u),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},u),c.thisAnimationDuration=u)}),clearTimeout(n),l?n=setTimeout(function(){typeof o=="function"&&o()},e):typeof o=="function"&&o(),t=[]},animate:function(o,a,l,e){if(e){Q(o,"transition",""),Q(o,"transform","");var i=Qt(this.el),u=i&&i.a,c=i&&i.d,p=(a.left-l.left)/(u||1),d=(a.top-l.top)/(c||1);o.animatingX=!!p,o.animatingY=!!d,Q(o,"transform","translate3d("+p+"px,"+d+"px,0)"),this.forRepaintDummy=lu(o),Q(o,"transition","transform "+e+"ms"+(this.options.easing?" "+this.options.easing:"")),Q(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){Q(o,"transition",""),Q(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},e)}}}}function lu(t){return t.offsetWidth}function iu(t,n,r,o){return Math.sqrt(Math.pow(n.top-t.top,2)+Math.pow(n.left-t.left,2))/Math.sqrt(Math.pow(n.top-r.top,2)+Math.pow(n.left-r.left,2))*o.animation}var nn=[],kr={initializeByDefault:!0},Wn={mount:function(n){for(var r in kr)kr.hasOwnProperty(r)&&!(r in n)&&(n[r]=kr[r]);nn.forEach(function(o){if(o.pluginName===n.pluginName)throw"Sortable: Cannot mount plugin ".concat(n.pluginName," more than once")}),nn.push(n)},pluginEvent:function(n,r,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var l=n+"Global";nn.forEach(function(e){r[e.pluginName]&&(r[e.pluginName][l]&&r[e.pluginName][l](bt({sortable:r},o)),r.options[e.pluginName]&&r[e.pluginName][n]&&r[e.pluginName][n](bt({sortable:r},o)))})},initializePlugins:function(n,r,o,a){nn.forEach(function(i){var u=i.pluginName;if(!(!n.options[u]&&!i.initializeByDefault)){var c=new i(n,r,n.options);c.sortable=n,c.options=n.options,n[u]=c,at(o,c.defaults)}});for(var l in n.options)if(n.options.hasOwnProperty(l)){var e=this.modifyOption(n,l,n.options[l]);typeof e<"u"&&(n.options[l]=e)}},getEventProperties:function(n,r){var o={};return nn.forEach(function(a){typeof a.eventProperties=="function"&&at(o,a.eventProperties.call(r[a.pluginName],n))}),o},modifyOption:function(n,r,o){var a;return nn.forEach(function(l){n[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[r]=="function"&&(a=l.optionListeners[r].call(n[l.pluginName],o))}),a}};function In(t){var n=t.sortable,r=t.rootEl,o=t.name,a=t.targetEl,l=t.cloneEl,e=t.toEl,i=t.fromEl,u=t.oldIndex,c=t.newIndex,p=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,s=t.putSortable,h=t.extraEventProperties;if(n=n||r&&r[Ge],!!n){var v,m=n.options,y="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Tt&&!Zn?v=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(o,!0,!0)),v.to=e||r,v.from=i||r,v.item=a||r,v.clone=l,v.oldIndex=u,v.newIndex=c,v.oldDraggableIndex=p,v.newDraggableIndex=d,v.originalEvent=f,v.pullMode=s?s.lastPutMode:void 0;var g=bt(bt({},h),Wn.getEventProperties(o,n));for(var b in g)v[b]=g[b];r&&r.dispatchEvent(v),m[y]&&m[y].call(n,v)}}var su=["evt"],Xe=function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,l=Zs(o,su);Wn.pluginEvent.bind(re)(n,r,bt({dragEl:G,parentEl:Te,ghostEl:ue,rootEl:Oe,nextEl:Xt,lastDownEl:fr,cloneEl:Pe,cloneHidden:Ft,dragStarted:Dn,putSortable:ke,activeSortable:re.active,originalEvent:a,oldIndex:ln,oldDraggableIndex:Fn,newIndex:qe,newDraggableIndex:Rt,hideGhostForTarget:co,unhideGhostForTarget:fo,cloneNowHidden:function(){Ft=!0},cloneNowShown:function(){Ft=!1},dispatchSortableEvent:function(i){Ye({sortable:r,name:i,originalEvent:a})}},l))};function Ye(t){In(bt({putSortable:ke,cloneEl:Pe,targetEl:G,rootEl:Oe,oldIndex:ln,oldDraggableIndex:Fn,newIndex:qe,newDraggableIndex:Rt},t))}var G,Te,ue,Oe,Xt,fr,Pe,Ft,ln,qe,Fn,Rt,rr,ke,on=!1,Sr=!1,wr=[],zt,lt,Ur,Br,wa,Ea,Dn,rn,Vn,jn=!1,ar=!1,vr,Be,Hr=[],Jr=!1,Er=[],Ar=typeof document<"u",or=no,Oa=Zn||Tt?"cssFloat":"float",uu=Ar&&!eu&&!no&&"draggable"in document.createElement("div"),io=function(){if(Ar){if(Tt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),so=function(n,r){var o=Q(n),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),l=dn(n,0,r),e=dn(n,1,r),i=l&&Q(l),u=e&&Q(e),c=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+Ie(l).width,p=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+Ie(e).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&i.float&&i.float!=="none"){var d=i.float==="left"?"left":"right";return e&&(u.clear==="both"||u.clear===d)?"vertical":"horizontal"}return l&&(i.display==="block"||i.display==="flex"||i.display==="table"||i.display==="grid"||c>=a&&o[Oa]==="none"||e&&o[Oa]==="none"&&c+p>a)?"vertical":"horizontal"},cu=function(n,r,o){var a=o?n.left:n.top,l=o?n.right:n.bottom,e=o?n.width:n.height,i=o?r.left:r.top,u=o?r.right:r.bottom,c=o?r.width:r.height;return a===i||l===u||a+e/2===i+c/2},du=function(n,r){var o;return wr.some(function(a){var l=a[Ge].options.emptyInsertThreshold;if(!(!l||la(a))){var e=Ie(a),i=n>=e.left-l&&n<=e.right+l,u=r>=e.top-l&&r<=e.bottom+l;if(i&&u)return o=a}}),o},uo=function(n){function r(l,e){return function(i,u,c,p){var d=i.options.group.name&&u.options.group.name&&i.options.group.name===u.options.group.name;if(l==null&&(e||d))return!0;if(l==null||l===!1)return!1;if(e&&l==="clone")return l;if(typeof l=="function")return r(l(i,u,c,p),e)(i,u,c,p);var f=(e?i:u).options.group.name;return l===!0||typeof l=="string"&&l===f||l.join&&l.indexOf(f)>-1}}var o={},a=n.group;(!a||dr(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=r(a.pull,!0),o.checkPut=r(a.put),o.revertClone=a.revertClone,n.group=o},co=function(){!io&&ue&&Q(ue,"display","none")},fo=function(){!io&&ue&&Q(ue,"display","")};Ar&&document.addEventListener("click",function(t){if(Sr)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Sr=!1,!1},!0);var Zt=function(n){if(G){n=n.touches?n.touches[0]:n;var r=du(n.clientX,n.clientY);if(r){var o={};for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);o.target=o.rootEl=r,o.preventDefault=void 0,o.stopPropagation=void 0,r[Ge]._onDragOver(o)}}},fu=function(n){G&&G.parentNode[Ge]._isOutsideThisEl(n.target)};function re(t,n){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=n=at({},n),t[Ge]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return so(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,i){e.setData("Text",i.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:re.supportPointer!==!1&&"PointerEvent"in window&&!Rn,emptyInsertThreshold:5};Wn.initializePlugins(this,t,r);for(var o in r)!(o in n)&&(n[o]=r[o]);uo(n);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=n.forceFallback?!1:uu,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?ve(t,"pointerdown",this._onTapStart):(ve(t,"mousedown",this._onTapStart),ve(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(ve(t,"dragover",this),ve(t,"dragenter",this)),wr.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),at(this,ou())}re.prototype={constructor:re,_isOutsideThisEl:function(n){!this.el.contains(n)&&n!==this.el&&(rn=null)},_getDirection:function(n,r){return typeof this.options.direction=="function"?this.options.direction.call(this,n,r,G):this.options.direction},_onTapStart:function(n){if(n.cancelable){var r=this,o=this.el,a=this.options,l=a.preventOnFilter,e=n.type,i=n.touches&&n.touches[0]||n.pointerType&&n.pointerType==="touch"&&n,u=(i||n).target,c=n.target.shadowRoot&&(n.path&&n.path[0]||n.composedPath&&n.composedPath()[0])||u,p=a.filter;if(xu(o),!G&&!(/mousedown|pointerdown/.test(e)&&n.button!==0||a.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Rn&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=st(u,a.draggable,o,!1),!(u&&u.animated)&&fr!==u)){if(ln=$e(u),Fn=$e(u,a.draggable),typeof p=="function"){if(p.call(this,n,u,this)){Ye({sortable:r,rootEl:c,name:"filter",targetEl:u,toEl:o,fromEl:o}),Xe("filter",r,{evt:n}),l&&n.cancelable&&n.preventDefault();return}}else if(p&&(p=p.split(",").some(function(d){if(d=st(c,d.trim(),o,!1),d)return Ye({sortable:r,rootEl:d,name:"filter",targetEl:u,fromEl:o,toEl:o}),Xe("filter",r,{evt:n}),!0}),p)){l&&n.cancelable&&n.preventDefault();return}a.handle&&!st(c,a.handle,o,!1)||this._prepareDragStart(n,i,u)}}},_prepareDragStart:function(n,r,o){var a=this,l=a.el,e=a.options,i=l.ownerDocument,u;if(o&&!G&&o.parentNode===l){var c=Ie(o);if(Oe=l,G=o,Te=G.parentNode,Xt=G.nextSibling,fr=o,rr=e.group,re.dragged=G,zt={target:G,clientX:(r||n).clientX,clientY:(r||n).clientY},wa=zt.clientX-c.left,Ea=zt.clientY-c.top,this._lastX=(r||n).clientX,this._lastY=(r||n).clientY,G.style["will-change"]="all",u=function(){if(Xe("delayEnded",a,{evt:n}),re.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!ya&&a.nativeDraggable&&(G.draggable=!0),a._triggerDragStart(n,r),Ye({sortable:a,name:"choose",originalEvent:n}),De(G,e.chosenClass,!0)},e.ignore.split(",").forEach(function(p){ao(G,p.trim(),Gr)}),ve(i,"dragover",Zt),ve(i,"mousemove",Zt),ve(i,"touchmove",Zt),ve(i,"mouseup",a._onDrop),ve(i,"touchend",a._onDrop),ve(i,"touchcancel",a._onDrop),ya&&this.nativeDraggable&&(this.options.touchStartThreshold=4,G.draggable=!0),Xe("delayStart",this,{evt:n}),e.delay&&(!e.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(Zn||Tt))){if(re.eventCanceled){this._onDrop();return}ve(i,"mouseup",a._disableDelayedDrag),ve(i,"touchend",a._disableDelayedDrag),ve(i,"touchcancel",a._disableDelayedDrag),ve(i,"mousemove",a._delayedDragTouchMoveHandler),ve(i,"touchmove",a._delayedDragTouchMoveHandler),e.supportPointer&&ve(i,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(u,e.delay)}else u()}},_delayedDragTouchMoveHandler:function(n){var r=n.touches?n.touches[0]:n;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){G&&Gr(G),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var n=this.el.ownerDocument;fe(n,"mouseup",this._disableDelayedDrag),fe(n,"touchend",this._disableDelayedDrag),fe(n,"touchcancel",this._disableDelayedDrag),fe(n,"mousemove",this._delayedDragTouchMoveHandler),fe(n,"touchmove",this._delayedDragTouchMoveHandler),fe(n,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(n,r){r=r||n.pointerType=="touch"&&n,!this.nativeDraggable||r?this.options.supportPointer?ve(document,"pointermove",this._onTouchMove):r?ve(document,"touchmove",this._onTouchMove):ve(document,"mousemove",this._onTouchMove):(ve(G,"dragend",this),ve(Oe,"dragstart",this._onDragStart));try{document.selection?pr(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(n,r){if(on=!1,Oe&&G){Xe("dragStarted",this,{evt:r}),this.nativeDraggable&&ve(document,"dragover",fu);var o=this.options;!n&&De(G,o.dragClass,!1),De(G,o.ghostClass,!0),re.active=this,n&&this._appendGhost(),Ye({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(lt){this._lastX=lt.clientX,this._lastY=lt.clientY,co();for(var n=document.elementFromPoint(lt.clientX,lt.clientY),r=n;n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(lt.clientX,lt.clientY),n!==r);)r=n;if(G.parentNode[Ge]._isOutsideThisEl(n),r)do{if(r[Ge]){var o=void 0;if(o=r[Ge]._onDragOver({clientX:lt.clientX,clientY:lt.clientY,target:n,rootEl:r}),o&&!this.options.dragoverBubble)break}n=r}while(r=r.parentNode);fo()}},_onTouchMove:function(n){if(zt){var r=this.options,o=r.fallbackTolerance,a=r.fallbackOffset,l=n.touches?n.touches[0]:n,e=ue&&Qt(ue,!0),i=ue&&e&&e.a,u=ue&&e&&e.d,c=or&&Be&&Ca(Be),p=(l.clientX-zt.clientX+a.x)/(i||1)+(c?c[0]-Hr[0]:0)/(i||1),d=(l.clientY-zt.clientY+a.y)/(u||1)+(c?c[1]-Hr[1]:0)/(u||1);if(!re.active&&!on){if(o&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<o)return;this._onDragStart(n,!0)}if(ue){e?(e.e+=p-(Ur||0),e.f+=d-(Br||0)):e={a:1,b:0,c:0,d:1,e:p,f:d};var f="matrix(".concat(e.a,",").concat(e.b,",").concat(e.c,",").concat(e.d,",").concat(e.e,",").concat(e.f,")");Q(ue,"webkitTransform",f),Q(ue,"mozTransform",f),Q(ue,"msTransform",f),Q(ue,"transform",f),Ur=p,Br=d,lt=l}n.cancelable&&n.preventDefault()}},_appendGhost:function(){if(!ue){var n=this.options.fallbackOnBody?document.body:Oe,r=Ie(G,!0,or,!0,n),o=this.options;if(or){for(Be=n;Q(Be,"position")==="static"&&Q(Be,"transform")==="none"&&Be!==document;)Be=Be.parentNode;Be!==document.body&&Be!==document.documentElement?(Be===document&&(Be=ht()),r.top+=Be.scrollTop,r.left+=Be.scrollLeft):Be=ht(),Hr=Ca(Be)}ue=G.cloneNode(!0),De(ue,o.ghostClass,!1),De(ue,o.fallbackClass,!0),De(ue,o.dragClass,!0),Q(ue,"transition",""),Q(ue,"transform",""),Q(ue,"box-sizing","border-box"),Q(ue,"margin",0),Q(ue,"top",r.top),Q(ue,"left",r.left),Q(ue,"width",r.width),Q(ue,"height",r.height),Q(ue,"opacity","0.8"),Q(ue,"position",or?"absolute":"fixed"),Q(ue,"zIndex","100000"),Q(ue,"pointerEvents","none"),re.ghost=ue,n.appendChild(ue),Q(ue,"transform-origin",wa/parseInt(ue.style.width)*100+"% "+Ea/parseInt(ue.style.height)*100+"%")}},_onDragStart:function(n,r){var o=this,a=n.dataTransfer,l=o.options;if(Xe("dragStart",this,{evt:n}),re.eventCanceled){this._onDrop();return}Xe("setupClone",this),re.eventCanceled||(Pe=ia(G),Pe.draggable=!1,Pe.style["will-change"]="",this._hideClone(),De(Pe,this.options.chosenClass,!1),re.clone=Pe),o.cloneId=pr(function(){Xe("clone",o),!re.eventCanceled&&(o.options.removeCloneOnHide||Oe.insertBefore(Pe,G),o._hideClone(),Ye({sortable:o,name:"clone"}))}),!r&&De(G,l.dragClass,!0),r?(Sr=!0,o._loopId=setInterval(o._emulateDragOver,50)):(fe(document,"mouseup",o._onDrop),fe(document,"touchend",o._onDrop),fe(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(o,a,G)),ve(document,"drop",o),Q(G,"transform","translateZ(0)")),on=!0,o._dragStartId=pr(o._dragStarted.bind(o,r,n)),ve(document,"selectstart",o),Dn=!0,Rn&&Q(document.body,"user-select","none")},_onDragOver:function(n){var r=this.el,o=n.target,a,l,e,i=this.options,u=i.group,c=re.active,p=rr===u,d=i.sort,f=ke||c,s,h=this,v=!1;if(Jr)return;function m(Y,te){Xe(Y,h,bt({evt:n,isOwner:p,axis:s?"vertical":"horizontal",revert:e,dragRect:a,targetRect:l,canSort:d,fromSortable:f,target:o,completed:g,onMove:function(ye,xe){return lr(Oe,r,G,a,ye,Ie(ye),n,xe)},changed:b},te))}function y(){m("dragOverAnimationCapture"),h.captureAnimationState(),h!==f&&f.captureAnimationState()}function g(Y){return m("dragOverCompleted",{insertion:Y}),Y&&(p?c._hideClone():c._showClone(h),h!==f&&(De(G,ke?ke.options.ghostClass:c.options.ghostClass,!1),De(G,i.ghostClass,!0)),ke!==h&&h!==re.active?ke=h:h===re.active&&ke&&(ke=null),f===h&&(h._ignoreWhileAnimating=o),h.animateAll(function(){m("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(o===G&&!G.animated||o===r&&!o.animated)&&(rn=null),!i.dragoverBubble&&!n.rootEl&&o!==document&&(G.parentNode[Ge]._isOutsideThisEl(n.target),!Y&&Zt(n)),!i.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),v=!0}function b(){qe=$e(G),Rt=$e(G,i.draggable),Ye({sortable:h,name:"change",toEl:r,newIndex:qe,newDraggableIndex:Rt,originalEvent:n})}if(n.preventDefault!==void 0&&n.cancelable&&n.preventDefault(),o=st(o,i.draggable,r,!0),m("dragOver"),re.eventCanceled)return v;if(G.contains(n.target)||o.animated&&o.animatingX&&o.animatingY||h._ignoreWhileAnimating===o)return g(!1);if(Sr=!1,c&&!i.disabled&&(p?d||(e=Te!==Oe):ke===this||(this.lastPutMode=rr.checkPull(this,c,G,n))&&u.checkPut(this,c,G,n))){if(s=this._getDirection(n,o)==="vertical",a=Ie(G),m("dragOverValid"),re.eventCanceled)return v;if(e)return Te=Oe,y(),this._hideClone(),m("revert"),re.eventCanceled||(Xt?Oe.insertBefore(G,Xt):Oe.appendChild(G)),g(!0);var C=la(r,i.draggable);if(!C||gu(n,s,this)&&!C.animated){if(C===G)return g(!1);if(C&&r===n.target&&(o=C),o&&(l=Ie(o)),lr(Oe,r,G,a,o,l,n,!!o)!==!1)return y(),r.appendChild(G),Te=r,b(),g(!0)}else if(C&&mu(n,s,this)){var E=dn(r,0,i,!0);if(E===G)return g(!1);if(o=E,l=Ie(o),lr(Oe,r,G,a,o,l,n,!1)!==!1)return y(),r.insertBefore(G,E),Te=r,b(),g(!0)}else if(o.parentNode===r){l=Ie(o);var x=0,R,V=G.parentNode!==r,M=!cu(G.animated&&G.toRect||a,o.animated&&o.toRect||l,s),B=s?"top":"left",Z=xa(o,"top","top")||xa(G,"top","top"),le=Z?Z.scrollTop:void 0;rn!==o&&(R=l[B],jn=!1,ar=!M&&i.invertSwap||V),x=hu(n,o,l,s,M?1:i.swapThreshold,i.invertedSwapThreshold==null?i.swapThreshold:i.invertedSwapThreshold,ar,rn===o);var H;if(x!==0){var N=$e(G);do N-=x,H=Te.children[N];while(H&&(Q(H,"display")==="none"||H===ue))}if(x===0||H===o)return g(!1);rn=o,Vn=x;var ae=o.nextElementSibling,z=!1;z=x===1;var P=lr(Oe,r,G,a,o,l,n,z);if(P!==!1)return(P===1||P===-1)&&(z=P===1),Jr=!0,setTimeout(pu,30),y(),z&&!ae?r.appendChild(G):o.parentNode.insertBefore(G,z?ae:o),Z&&lo(Z,0,le-Z.scrollTop),Te=G.parentNode,R!==void 0&&!ar&&(vr=Math.abs(R-Ie(o)[B])),b(),g(!0)}if(r.contains(G))return g(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){fe(document,"mousemove",this._onTouchMove),fe(document,"touchmove",this._onTouchMove),fe(document,"pointermove",this._onTouchMove),fe(document,"dragover",Zt),fe(document,"mousemove",Zt),fe(document,"touchmove",Zt)},_offUpEvents:function(){var n=this.el.ownerDocument;fe(n,"mouseup",this._onDrop),fe(n,"touchend",this._onDrop),fe(n,"pointerup",this._onDrop),fe(n,"touchcancel",this._onDrop),fe(document,"selectstart",this)},_onDrop:function(n){var r=this.el,o=this.options;if(qe=$e(G),Rt=$e(G,o.draggable),Xe("drop",this,{evt:n}),Te=G&&G.parentNode,qe=$e(G),Rt=$e(G,o.draggable),re.eventCanceled){this._nulling();return}on=!1,ar=!1,jn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Qr(this.cloneId),Qr(this._dragStartId),this.nativeDraggable&&(fe(document,"drop",this),fe(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Rn&&Q(document.body,"user-select",""),Q(G,"transform",""),n&&(Dn&&(n.cancelable&&n.preventDefault(),!o.dropBubble&&n.stopPropagation()),ue&&ue.parentNode&&ue.parentNode.removeChild(ue),(Oe===Te||ke&&ke.lastPutMode!=="clone")&&Pe&&Pe.parentNode&&Pe.parentNode.removeChild(Pe),G&&(this.nativeDraggable&&fe(G,"dragend",this),Gr(G),G.style["will-change"]="",Dn&&!on&&De(G,ke?ke.options.ghostClass:this.options.ghostClass,!1),De(G,this.options.chosenClass,!1),Ye({sortable:this,name:"unchoose",toEl:Te,newIndex:null,newDraggableIndex:null,originalEvent:n}),Oe!==Te?(qe>=0&&(Ye({rootEl:Te,name:"add",toEl:Te,fromEl:Oe,originalEvent:n}),Ye({sortable:this,name:"remove",toEl:Te,originalEvent:n}),Ye({rootEl:Te,name:"sort",toEl:Te,fromEl:Oe,originalEvent:n}),Ye({sortable:this,name:"sort",toEl:Te,originalEvent:n})),ke&&ke.save()):qe!==ln&&qe>=0&&(Ye({sortable:this,name:"update",toEl:Te,originalEvent:n}),Ye({sortable:this,name:"sort",toEl:Te,originalEvent:n})),re.active&&((qe==null||qe===-1)&&(qe=ln,Rt=Fn),Ye({sortable:this,name:"end",toEl:Te,originalEvent:n}),this.save()))),this._nulling()},_nulling:function(){Xe("nulling",this),Oe=G=Te=ue=Xt=Pe=fr=Ft=zt=lt=Dn=qe=Rt=ln=Fn=rn=Vn=ke=rr=re.dragged=re.ghost=re.clone=re.active=null,Er.forEach(function(n){n.checked=!0}),Er.length=Ur=Br=0},handleEvent:function(n){switch(n.type){case"drop":case"dragend":this._onDrop(n);break;case"dragenter":case"dragover":G&&(this._onDragOver(n),vu(n));break;case"selectstart":n.preventDefault();break}},toArray:function(){for(var n=[],r,o=this.el.children,a=0,l=o.length,e=this.options;a<l;a++)r=o[a],st(r,e.draggable,this.el,!1)&&n.push(r.getAttribute(e.dataIdAttr)||bu(r));return n},sort:function(n,r){var o={},a=this.el;this.toArray().forEach(function(l,e){var i=a.children[e];st(i,this.options.draggable,a,!1)&&(o[l]=i)},this),r&&this.captureAnimationState(),n.forEach(function(l){o[l]&&(a.removeChild(o[l]),a.appendChild(o[l]))}),r&&this.animateAll()},save:function(){var n=this.options.store;n&&n.set&&n.set(this)},closest:function(n,r){return st(n,r||this.options.draggable,this.el,!1)},option:function(n,r){var o=this.options;if(r===void 0)return o[n];var a=Wn.modifyOption(this,n,r);typeof a<"u"?o[n]=a:o[n]=r,n==="group"&&uo(o)},destroy:function(){Xe("destroy",this);var n=this.el;n[Ge]=null,fe(n,"mousedown",this._onTapStart),fe(n,"touchstart",this._onTapStart),fe(n,"pointerdown",this._onTapStart),this.nativeDraggable&&(fe(n,"dragover",this),fe(n,"dragenter",this)),Array.prototype.forEach.call(n.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),wr.splice(wr.indexOf(this.el),1),this.el=n=null},_hideClone:function(){if(!Ft){if(Xe("hideClone",this),re.eventCanceled)return;Q(Pe,"display","none"),this.options.removeCloneOnHide&&Pe.parentNode&&Pe.parentNode.removeChild(Pe),Ft=!0}},_showClone:function(n){if(n.lastPutMode!=="clone"){this._hideClone();return}if(Ft){if(Xe("showClone",this),re.eventCanceled)return;G.parentNode==Oe&&!this.options.group.revertClone?Oe.insertBefore(Pe,G):Xt?Oe.insertBefore(Pe,Xt):Oe.appendChild(Pe),this.options.group.revertClone&&this.animate(G,Pe),Q(Pe,"display",""),Ft=!1}}};function vu(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function lr(t,n,r,o,a,l,e,i){var u,c=t[Ge],p=c.options.onMove,d;return window.CustomEvent&&!Tt&&!Zn?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=n,u.from=t,u.dragged=r,u.draggedRect=o,u.related=a||n,u.relatedRect=l||Ie(n),u.willInsertAfter=i,u.originalEvent=e,t.dispatchEvent(u),p&&(d=p.call(c,u,e)),d}function Gr(t){t.draggable=!1}function pu(){Jr=!1}function mu(t,n,r){var o=Ie(dn(r.el,0,r.options,!0)),a=10;return n?t.clientX<o.left-a||t.clientY<o.top&&t.clientX<o.right:t.clientY<o.top-a||t.clientY<o.bottom&&t.clientX<o.left}function gu(t,n,r){var o=Ie(la(r.el,r.options.draggable)),a=10;return n?t.clientX>o.right+a||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+a}function hu(t,n,r,o,a,l,e,i){var u=o?t.clientY:t.clientX,c=o?r.height:r.width,p=o?r.top:r.left,d=o?r.bottom:r.right,f=!1;if(!e){if(i&&vr<c*a){if(!jn&&(Vn===1?u>p+c*l/2:u<d-c*l/2)&&(jn=!0),jn)f=!0;else if(Vn===1?u<p+vr:u>d-vr)return-Vn}else if(u>p+c*(1-a)/2&&u<d-c*(1-a)/2)return yu(n)}return f=f||e,f&&(u<p+c*l/2||u>d-c*l/2)?u>p+c/2?1:-1:0}function yu(t){return $e(G)<$e(t)?1:-1}function bu(t){for(var n=t.tagName+t.className+t.src+t.href+t.textContent,r=n.length,o=0;r--;)o+=n.charCodeAt(r);return o.toString(36)}function xu(t){Er.length=0;for(var n=t.getElementsByTagName("input"),r=n.length;r--;){var o=n[r];o.checked&&Er.push(o)}}function pr(t){return setTimeout(t,0)}function Qr(t){return clearTimeout(t)}Ar&&ve(document,"touchmove",function(t){(re.active||on)&&t.cancelable&&t.preventDefault()});re.utils={on:ve,off:fe,css:Q,find:ao,is:function(n,r){return!!st(n,r,n,!1)},extend:ru,throttle:oo,closest:st,toggleClass:De,clone:ia,index:$e,nextTick:pr,cancelNextTick:Qr,detectDirection:so,getChild:dn};re.get=function(t){return t[Ge]};re.mount=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n[0].constructor===Array&&(n=n[0]),n.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(re.utils=bt(bt({},re.utils),o.utils)),Wn.mount(o)})};re.create=function(t,n){return new re(t,n)};re.version=qs;var Re=[],Mn,_r,qr=!1,Kr,Yr,Or,Tn;function Cu(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this))}return t.prototype={dragStarted:function(r){var o=r.originalEvent;this.sortable.nativeDraggable?ve(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ve(document,"pointermove",this._handleFallbackAutoScroll):o.touches?ve(document,"touchmove",this._handleFallbackAutoScroll):ve(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var o=r.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?fe(document,"dragover",this._handleAutoScroll):(fe(document,"pointermove",this._handleFallbackAutoScroll),fe(document,"touchmove",this._handleFallbackAutoScroll),fe(document,"mousemove",this._handleFallbackAutoScroll)),Ia(),mr(),au()},nulling:function(){Or=_r=Mn=qr=Tn=Kr=Yr=null,Re.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,o){var a=this,l=(r.touches?r.touches[0]:r).clientX,e=(r.touches?r.touches[0]:r).clientY,i=document.elementFromPoint(l,e);if(Or=r,o||this.options.forceAutoScrollFallback||Zn||Tt||Rn){zr(r,this.options,i,o);var u=kt(i,!0);qr&&(!Tn||l!==Kr||e!==Yr)&&(Tn&&Ia(),Tn=setInterval(function(){var c=kt(document.elementFromPoint(l,e),!0);c!==u&&(u=c,mr()),zr(r,a.options,c,o)},10),Kr=l,Yr=e)}else{if(!this.options.bubbleScroll||kt(i,!0)===ht()){mr();return}zr(r,this.options,kt(i,!1),!1)}}},at(t,{pluginName:"scroll",initializeByDefault:!0})}function mr(){Re.forEach(function(t){clearInterval(t.pid)}),Re=[]}function Ia(){clearInterval(Tn)}var zr=oo(function(t,n,r,o){if(n.scroll){var a=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,e=n.scrollSensitivity,i=n.scrollSpeed,u=ht(),c=!1,p;_r!==r&&(_r=r,mr(),Mn=n.scroll,p=n.scrollFn,Mn===!0&&(Mn=kt(r,!0)));var d=0,f=Mn;do{var s=f,h=Ie(s),v=h.top,m=h.bottom,y=h.left,g=h.right,b=h.width,C=h.height,E=void 0,x=void 0,R=s.scrollWidth,V=s.scrollHeight,M=Q(s),B=s.scrollLeft,Z=s.scrollTop;s===u?(E=b<R&&(M.overflowX==="auto"||M.overflowX==="scroll"||M.overflowX==="visible"),x=C<V&&(M.overflowY==="auto"||M.overflowY==="scroll"||M.overflowY==="visible")):(E=b<R&&(M.overflowX==="auto"||M.overflowX==="scroll"),x=C<V&&(M.overflowY==="auto"||M.overflowY==="scroll"));var le=E&&(Math.abs(g-a)<=e&&B+b<R)-(Math.abs(y-a)<=e&&!!B),H=x&&(Math.abs(m-l)<=e&&Z+C<V)-(Math.abs(v-l)<=e&&!!Z);if(!Re[d])for(var N=0;N<=d;N++)Re[N]||(Re[N]={});(Re[d].vx!=le||Re[d].vy!=H||Re[d].el!==s)&&(Re[d].el=s,Re[d].vx=le,Re[d].vy=H,clearInterval(Re[d].pid),(le!=0||H!=0)&&(c=!0,Re[d].pid=setInterval((function(){o&&this.layer===0&&re.active._onTouchMove(Or);var ae=Re[this.layer].vy?Re[this.layer].vy*i:0,z=Re[this.layer].vx?Re[this.layer].vx*i:0;typeof p=="function"&&p.call(re.dragged.parentNode[Ge],z,ae,t,Or,Re[this.layer].el)!=="continue"||lo(Re[this.layer].el,z,ae)}).bind({layer:d}),24))),d++}while(n.bubbleScroll&&f!==u&&(f=kt(f,!1)));qr=c}},30),vo=function(n){var r=n.originalEvent,o=n.putSortable,a=n.dragEl,l=n.activeSortable,e=n.dispatchSortableEvent,i=n.hideGhostForTarget,u=n.unhideGhostForTarget;if(r){var c=o||l;i();var p=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,d=document.elementFromPoint(p.clientX,p.clientY);u(),c&&!c.el.contains(d)&&(e("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function sa(){}sa.prototype={startIndex:null,dragStart:function(n){var r=n.oldDraggableIndex;this.startIndex=r},onSpill:function(n){var r=n.dragEl,o=n.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=dn(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(r,a):this.sortable.el.appendChild(r),this.sortable.animateAll(),o&&o.animateAll()},drop:vo};at(sa,{pluginName:"revertOnSpill"});function ua(){}ua.prototype={onSpill:function(n){var r=n.dragEl,o=n.putSortable,a=o||this.sortable;a.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),a.animateAll()},drop:vo};at(ua,{pluginName:"removeOnSpill"});var et;function Su(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(r){var o=r.dragEl;et=o},dragOverValid:function(r){var o=r.completed,a=r.target,l=r.onMove,e=r.activeSortable,i=r.changed,u=r.cancel;if(e.options.swap){var c=this.sortable.el,p=this.options;if(a&&a!==c){var d=et;l(a)!==!1?(De(a,p.swapClass,!0),et=a):et=null,d&&d!==et&&De(d,p.swapClass,!1)}i(),o(!0),u()}},drop:function(r){var o=r.activeSortable,a=r.putSortable,l=r.dragEl,e=a||this.sortable,i=this.options;et&&De(et,i.swapClass,!1),et&&(i.swap||a&&a.options.swap)&&l!==et&&(e.captureAnimationState(),e!==o&&o.captureAnimationState(),wu(l,et),e.animateAll(),e!==o&&o.animateAll())},nulling:function(){et=null}},at(t,{pluginName:"swap",eventProperties:function(){return{swapItem:et}}})}function wu(t,n){var r=t.parentNode,o=n.parentNode,a,l;!r||!o||r.isEqualNode(n)||o.isEqualNode(t)||(a=$e(t),l=$e(n),r.isEqualNode(o)&&a<l&&l++,r.insertBefore(n,r.children[a]),o.insertBefore(t,o.children[l]))}var se=[],_e=[],bn,it,xn=!1,Je=!1,an=!1,Ce,Cn,ir;function Eu(){function t(n){for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));n.options.supportPointer?ve(document,"pointerup",this._deselectMultiDrag):(ve(document,"mouseup",this._deselectMultiDrag),ve(document,"touchend",this._deselectMultiDrag)),ve(document,"keydown",this._checkKeyDown),ve(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(a,l){var e="";se.length&&it===n?se.forEach(function(i,u){e+=(u?", ":"")+i.textContent}):e=l.textContent,a.setData("Text",e)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(r){var o=r.dragEl;Ce=o},delayEnded:function(){this.isMultiDrag=~se.indexOf(Ce)},setupClone:function(r){var o=r.sortable,a=r.cancel;if(this.isMultiDrag){for(var l=0;l<se.length;l++)_e.push(ia(se[l])),_e[l].sortableIndex=se[l].sortableIndex,_e[l].draggable=!1,_e[l].style["will-change"]="",De(_e[l],this.options.selectedClass,!1),se[l]===Ce&&De(_e[l],this.options.chosenClass,!1);o._hideClone(),a()}},clone:function(r){var o=r.sortable,a=r.rootEl,l=r.dispatchSortableEvent,e=r.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||se.length&&it===o&&(Da(!0,a),l("clone"),e()))},showClone:function(r){var o=r.cloneNowShown,a=r.rootEl,l=r.cancel;this.isMultiDrag&&(Da(!1,a),_e.forEach(function(e){Q(e,"display","")}),o(),ir=!1,l())},hideClone:function(r){var o=this;r.sortable;var a=r.cloneNowHidden,l=r.cancel;this.isMultiDrag&&(_e.forEach(function(e){Q(e,"display","none"),o.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)}),a(),ir=!0,l())},dragStartGlobal:function(r){r.sortable,!this.isMultiDrag&&it&&it.multiDrag._deselectMultiDrag(),se.forEach(function(o){o.sortableIndex=$e(o)}),se=se.sort(function(o,a){return o.sortableIndex-a.sortableIndex}),an=!0},dragStarted:function(r){var o=this,a=r.sortable;if(this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){se.forEach(function(e){e!==Ce&&Q(e,"position","absolute")});var l=Ie(Ce,!1,!0,!0);se.forEach(function(e){e!==Ce&&Sa(e,l)}),Je=!0,xn=!0}a.animateAll(function(){Je=!1,xn=!1,o.options.animation&&se.forEach(function(e){Nr(e)}),o.options.sort&&sr()})}},dragOver:function(r){var o=r.target,a=r.completed,l=r.cancel;Je&&~se.indexOf(o)&&(a(!1),l())},revert:function(r){var o=r.fromSortable,a=r.rootEl,l=r.sortable,e=r.dragRect;se.length>1&&(se.forEach(function(i){l.addAnimationState({target:i,rect:Je?Ie(i):e}),Nr(i),i.fromRect=e,o.removeAnimationState(i)}),Je=!1,Ou(!this.options.removeCloneOnHide,a))},dragOverCompleted:function(r){var o=r.sortable,a=r.isOwner,l=r.insertion,e=r.activeSortable,i=r.parentEl,u=r.putSortable,c=this.options;if(l){if(a&&e._hideClone(),xn=!1,c.animation&&se.length>1&&(Je||!a&&!e.options.sort&&!u)){var p=Ie(Ce,!1,!0,!0);se.forEach(function(f){f!==Ce&&(Sa(f,p),i.appendChild(f))}),Je=!0}if(!a)if(Je||sr(),se.length>1){var d=ir;e._showClone(o),e.options.animation&&!ir&&d&&_e.forEach(function(f){e.addAnimationState({target:f,rect:Cn}),f.fromRect=Cn,f.thisAnimationDuration=null})}else e._showClone(o)}},dragOverAnimationCapture:function(r){var o=r.dragRect,a=r.isOwner,l=r.activeSortable;if(se.forEach(function(i){i.thisAnimationDuration=null}),l.options.animation&&!a&&l.multiDrag.isMultiDrag){Cn=at({},o);var e=Qt(Ce,!0);Cn.top-=e.f,Cn.left-=e.e}},dragOverAnimationComplete:function(){Je&&(Je=!1,sr())},drop:function(r){var o=r.originalEvent,a=r.rootEl,l=r.parentEl,e=r.sortable,i=r.dispatchSortableEvent,u=r.oldIndex,c=r.putSortable,p=c||this.sortable;if(o){var d=this.options,f=l.children;if(!an)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),De(Ce,d.selectedClass,!~se.indexOf(Ce)),~se.indexOf(Ce))se.splice(se.indexOf(Ce),1),bn=null,In({sortable:e,rootEl:a,name:"deselect",targetEl:Ce,originalEvt:o});else{if(se.push(Ce),In({sortable:e,rootEl:a,name:"select",targetEl:Ce,originalEvt:o}),o.shiftKey&&bn&&e.el.contains(bn)){var s=$e(bn),h=$e(Ce);if(~s&&~h&&s!==h){var v,m;for(h>s?(m=s,v=h):(m=h,v=s+1);m<v;m++)~se.indexOf(f[m])||(De(f[m],d.selectedClass,!0),se.push(f[m]),In({sortable:e,rootEl:a,name:"select",targetEl:f[m],originalEvt:o}))}}else bn=Ce;it=p}if(an&&this.isMultiDrag){if(Je=!1,(l[Ge].options.sort||l!==a)&&se.length>1){var y=Ie(Ce),g=$e(Ce,":not(."+this.options.selectedClass+")");if(!xn&&d.animation&&(Ce.thisAnimationDuration=null),p.captureAnimationState(),!xn&&(d.animation&&(Ce.fromRect=y,se.forEach(function(C){if(C.thisAnimationDuration=null,C!==Ce){var E=Je?Ie(C):y;C.fromRect=E,p.addAnimationState({target:C,rect:E})}})),sr(),se.forEach(function(C){f[g]?l.insertBefore(C,f[g]):l.appendChild(C),g++}),u===$e(Ce))){var b=!1;se.forEach(function(C){if(C.sortableIndex!==$e(C)){b=!0;return}}),b&&i("update")}se.forEach(function(C){Nr(C)}),p.animateAll()}it=p}(a===l||c&&c.lastPutMode!=="clone")&&_e.forEach(function(C){C.parentNode&&C.parentNode.removeChild(C)})}},nullingGlobal:function(){this.isMultiDrag=an=!1,_e.length=0},destroyGlobal:function(){this._deselectMultiDrag(),fe(document,"pointerup",this._deselectMultiDrag),fe(document,"mouseup",this._deselectMultiDrag),fe(document,"touchend",this._deselectMultiDrag),fe(document,"keydown",this._checkKeyDown),fe(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(r){if(!(typeof an<"u"&&an)&&it===this.sortable&&!(r&&st(r.target,this.options.draggable,this.sortable.el,!1))&&!(r&&r.button!==0))for(;se.length;){var o=se[0];De(o,this.options.selectedClass,!1),se.shift(),In({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:o,originalEvt:r})}},_checkKeyDown:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},at(t,{pluginName:"multiDrag",utils:{select:function(r){var o=r.parentNode[Ge];!o||!o.options.multiDrag||~se.indexOf(r)||(it&&it!==o&&(it.multiDrag._deselectMultiDrag(),it=o),De(r,o.options.selectedClass,!0),se.push(r))},deselect:function(r){var o=r.parentNode[Ge],a=se.indexOf(r);!o||!o.options.multiDrag||!~a||(De(r,o.options.selectedClass,!1),se.splice(a,1))}},eventProperties:function(){var r=this,o=[],a=[];return se.forEach(function(l){o.push({multiDragElement:l,index:l.sortableIndex});var e;Je&&l!==Ce?e=-1:Je?e=$e(l,":not(."+r.options.selectedClass+")"):e=$e(l),a.push({multiDragElement:l,index:e})}),{items:Ws(se),clones:[].concat(_e),oldIndicies:o,newIndicies:a}},optionListeners:{multiDragKey:function(r){return r=r.toLowerCase(),r==="ctrl"?r="Control":r.length>1&&(r=r.charAt(0).toUpperCase()+r.substr(1)),r}}})}function Ou(t,n){se.forEach(function(r,o){var a=n.children[r.sortableIndex+(t?Number(o):0)];a?n.insertBefore(r,a):n.appendChild(r)})}function Da(t,n){_e.forEach(function(r,o){var a=n.children[r.sortableIndex+(t?Number(o):0)];a?n.insertBefore(r,a):n.appendChild(r)})}function sr(){se.forEach(function(t){t!==Ce&&t.parentNode&&t.parentNode.removeChild(t)})}re.mount(new Cu);re.mount(ua,sa);const Iu=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Eu,Sortable:re,Swap:Su,default:re},Symbol.toStringTag,{value:"Module"})),Du=Fa(Iu);(function(t,n){(function(o,a){t.exports=a(Ks,Du)})(typeof self<"u"?self:Fo,function(r,o){return function(a){var l={};function e(i){if(l[i])return l[i].exports;var u=l[i]={i,l:!1,exports:{}};return a[i].call(u.exports,u,u.exports,e),u.l=!0,u.exports}return e.m=a,e.c=l,e.d=function(i,u,c){e.o(i,u)||Object.defineProperty(i,u,{enumerable:!0,get:c})},e.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},e.t=function(i,u){if(u&1&&(i=e(i)),u&8||u&4&&typeof i=="object"&&i&&i.__esModule)return i;var c=Object.create(null);if(e.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:i}),u&2&&typeof i!="string")for(var p in i)e.d(c,p,(function(d){return i[d]}).bind(null,p));return c},e.n=function(i){var u=i&&i.__esModule?function(){return i.default}:function(){return i};return e.d(u,"a",u),u},e.o=function(i,u){return Object.prototype.hasOwnProperty.call(i,u)},e.p="",e(e.s="fb15")}({"00ee":function(a,l,e){var i=e("b622"),u=i("toStringTag"),c={};c[u]="z",a.exports=String(c)==="[object z]"},"0366":function(a,l,e){var i=e("1c0b");a.exports=function(u,c,p){if(i(u),c===void 0)return u;switch(p){case 0:return function(){return u.call(c)};case 1:return function(d){return u.call(c,d)};case 2:return function(d,f){return u.call(c,d,f)};case 3:return function(d,f,s){return u.call(c,d,f,s)}}return function(){return u.apply(c,arguments)}}},"057f":function(a,l,e){var i=e("fc6a"),u=e("241c").f,c={}.toString,p=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(f){try{return u(f)}catch{return p.slice()}};a.exports.f=function(s){return p&&c.call(s)=="[object Window]"?d(s):u(i(s))}},"06cf":function(a,l,e){var i=e("83ab"),u=e("d1e7"),c=e("5c6c"),p=e("fc6a"),d=e("c04e"),f=e("5135"),s=e("0cfb"),h=Object.getOwnPropertyDescriptor;l.f=i?h:function(m,y){if(m=p(m),y=d(y,!0),s)try{return h(m,y)}catch{}if(f(m,y))return c(!u.f.call(m,y),m[y])}},"0cfb":function(a,l,e){var i=e("83ab"),u=e("d039"),c=e("cc12");a.exports=!i&&!u(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(a,l,e){var i=e("23e7"),u=e("d58f").left,c=e("a640"),p=e("ae40"),d=c("reduce"),f=p("reduce",{1:0});i({target:"Array",proto:!0,forced:!d||!f},{reduce:function(h){return u(this,h,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(a,l,e){var i=e("c6b6"),u=e("9263");a.exports=function(c,p){var d=c.exec;if(typeof d=="function"){var f=d.call(c,p);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(i(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(c,p)}},"159b":function(a,l,e){var i=e("da84"),u=e("fdbc"),c=e("17c2"),p=e("9112");for(var d in u){var f=i[d],s=f&&f.prototype;if(s&&s.forEach!==c)try{p(s,"forEach",c)}catch{s.forEach=c}}},"17c2":function(a,l,e){var i=e("b727").forEach,u=e("a640"),c=e("ae40"),p=u("forEach"),d=c("forEach");a.exports=!p||!d?function(s){return i(this,s,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(a,l,e){var i=e("d066");a.exports=i("document","documentElement")},"1c0b":function(a,l){a.exports=function(e){if(typeof e!="function")throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(a,l,e){var i=e("b622"),u=i("iterator"),c=!1;try{var p=0,d={next:function(){return{done:!!p++}},return:function(){c=!0}};d[u]=function(){return this},Array.from(d,function(){throw 2})}catch{}a.exports=function(f,s){if(!s&&!c)return!1;var h=!1;try{var v={};v[u]=function(){return{next:function(){return{done:h=!0}}}},f(v)}catch{}return h}},"1d80":function(a,l){a.exports=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e}},"1dde":function(a,l,e){var i=e("d039"),u=e("b622"),c=e("2d00"),p=u("species");a.exports=function(d){return c>=51||!i(function(){var f=[],s=f.constructor={};return s[p]=function(){return{foo:1}},f[d](Boolean).foo!==1})}},"23cb":function(a,l,e){var i=e("a691"),u=Math.max,c=Math.min;a.exports=function(p,d){var f=i(p);return f<0?u(f+d,0):c(f,d)}},"23e7":function(a,l,e){var i=e("da84"),u=e("06cf").f,c=e("9112"),p=e("6eeb"),d=e("ce4e"),f=e("e893"),s=e("94ca");a.exports=function(h,v){var m=h.target,y=h.global,g=h.stat,b,C,E,x,R,V;if(y?C=i:g?C=i[m]||d(m,{}):C=(i[m]||{}).prototype,C)for(E in v){if(R=v[E],h.noTargetGet?(V=u(C,E),x=V&&V.value):x=C[E],b=s(y?E:m+(g?".":"#")+E,h.forced),!b&&x!==void 0){if(typeof R==typeof x)continue;f(R,x)}(h.sham||x&&x.sham)&&c(R,"sham",!0),p(C,E,R,h)}}},"241c":function(a,l,e){var i=e("ca84"),u=e("7839"),c=u.concat("length","prototype");l.f=Object.getOwnPropertyNames||function(d){return i(d,c)}},"25f0":function(a,l,e){var i=e("6eeb"),u=e("825a"),c=e("d039"),p=e("ad6d"),d="toString",f=RegExp.prototype,s=f[d],h=c(function(){return s.call({source:"a",flags:"b"})!="/a/b"}),v=s.name!=d;(h||v)&&i(RegExp.prototype,d,function(){var y=u(this),g=String(y.source),b=y.flags,C=String(b===void 0&&y instanceof RegExp&&!("flags"in f)?p.call(y):b);return"/"+g+"/"+C},{unsafe:!0})},"2ca0":function(a,l,e){var i=e("23e7"),u=e("06cf").f,c=e("50c4"),p=e("5a34"),d=e("1d80"),f=e("ab13"),s=e("c430"),h="".startsWith,v=Math.min,m=f("startsWith"),y=!s&&!m&&!!function(){var g=u(String.prototype,"startsWith");return g&&!g.writable}();i({target:"String",proto:!0,forced:!y&&!m},{startsWith:function(b){var C=String(d(this));p(b);var E=c(v(arguments.length>1?arguments[1]:void 0,C.length)),x=String(b);return h?h.call(C,x,E):C.slice(E,E+x.length)===x}})},"2d00":function(a,l,e){var i=e("da84"),u=e("342f"),c=i.process,p=c&&c.versions,d=p&&p.v8,f,s;d?(f=d.split("."),s=f[0]+f[1]):u&&(f=u.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=u.match(/Chrome\/(\d+)/),f&&(s=f[1]))),a.exports=s&&+s},"342f":function(a,l,e){var i=e("d066");a.exports=i("navigator","userAgent")||""},"35a1":function(a,l,e){var i=e("f5df"),u=e("3f8c"),c=e("b622"),p=c("iterator");a.exports=function(d){if(d!=null)return d[p]||d["@@iterator"]||u[i(d)]}},"37e8":function(a,l,e){var i=e("83ab"),u=e("9bf2"),c=e("825a"),p=e("df75");a.exports=i?Object.defineProperties:function(f,s){c(f);for(var h=p(s),v=h.length,m=0,y;v>m;)u.f(f,y=h[m++],s[y]);return f}},"3bbe":function(a,l,e){var i=e("861d");a.exports=function(u){if(!i(u)&&u!==null)throw TypeError("Can't set "+String(u)+" as a prototype");return u}},"3ca3":function(a,l,e){var i=e("6547").charAt,u=e("69f3"),c=e("7dd0"),p="String Iterator",d=u.set,f=u.getterFor(p);c(String,"String",function(s){d(this,{type:p,string:String(s),index:0})},function(){var h=f(this),v=h.string,m=h.index,y;return m>=v.length?{value:void 0,done:!0}:(y=i(v,m),h.index+=y.length,{value:y,done:!1})})},"3f8c":function(a,l){a.exports={}},4160:function(a,l,e){var i=e("23e7"),u=e("17c2");i({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},"428f":function(a,l,e){var i=e("da84");a.exports=i},"44ad":function(a,l,e){var i=e("d039"),u=e("c6b6"),c="".split;a.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(p){return u(p)=="String"?c.call(p,""):Object(p)}:Object},"44d2":function(a,l,e){var i=e("b622"),u=e("7c73"),c=e("9bf2"),p=i("unscopables"),d=Array.prototype;d[p]==null&&c.f(d,p,{configurable:!0,value:u(null)}),a.exports=function(f){d[p][f]=!0}},"44e7":function(a,l,e){var i=e("861d"),u=e("c6b6"),c=e("b622"),p=c("match");a.exports=function(d){var f;return i(d)&&((f=d[p])!==void 0?!!f:u(d)=="RegExp")}},4930:function(a,l,e){var i=e("d039");a.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},"4d64":function(a,l,e){var i=e("fc6a"),u=e("50c4"),c=e("23cb"),p=function(d){return function(f,s,h){var v=i(f),m=u(v.length),y=c(h,m),g;if(d&&s!=s){for(;m>y;)if(g=v[y++],g!=g)return!0}else for(;m>y;y++)if((d||y in v)&&v[y]===s)return d||y||0;return!d&&-1}};a.exports={includes:p(!0),indexOf:p(!1)}},"4de4":function(a,l,e){var i=e("23e7"),u=e("b727").filter,c=e("1dde"),p=e("ae40"),d=c("filter"),f=p("filter");i({target:"Array",proto:!0,forced:!d||!f},{filter:function(h){return u(this,h,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(a,l,e){var i=e("0366"),u=e("7b0b"),c=e("9bdd"),p=e("e95a"),d=e("50c4"),f=e("8418"),s=e("35a1");a.exports=function(v){var m=u(v),y=typeof this=="function"?this:Array,g=arguments.length,b=g>1?arguments[1]:void 0,C=b!==void 0,E=s(m),x=0,R,V,M,B,Z,le;if(C&&(b=i(b,g>2?arguments[2]:void 0,2)),E!=null&&!(y==Array&&p(E)))for(B=E.call(m),Z=B.next,V=new y;!(M=Z.call(B)).done;x++)le=C?c(B,b,[M.value,x],!0):M.value,f(V,x,le);else for(R=d(m.length),V=new y(R);R>x;x++)le=C?b(m[x],x):m[x],f(V,x,le);return V.length=x,V}},"4fad":function(a,l,e){var i=e("23e7"),u=e("6f53").entries;i({target:"Object",stat:!0},{entries:function(p){return u(p)}})},"50c4":function(a,l,e){var i=e("a691"),u=Math.min;a.exports=function(c){return c>0?u(i(c),9007199254740991):0}},5135:function(a,l){var e={}.hasOwnProperty;a.exports=function(i,u){return e.call(i,u)}},5319:function(a,l,e){var i=e("d784"),u=e("825a"),c=e("7b0b"),p=e("50c4"),d=e("a691"),f=e("1d80"),s=e("8aa5"),h=e("14c3"),v=Math.max,m=Math.min,y=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g,C=function(E){return E===void 0?E:String(E)};i("replace",2,function(E,x,R,V){var M=V.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,B=V.REPLACE_KEEPS_$0,Z=M?"$":"$0";return[function(N,ae){var z=f(this),P=N==null?void 0:N[E];return P!==void 0?P.call(N,z,ae):x.call(String(z),N,ae)},function(H,N){if(!M&&B||typeof N=="string"&&N.indexOf(Z)===-1){var ae=R(x,H,this,N);if(ae.done)return ae.value}var z=u(H),P=String(this),Y=typeof N=="function";Y||(N=String(N));var te=z.global;if(te){var we=z.unicode;z.lastIndex=0}for(var ye=[];;){var xe=h(z,P);if(xe===null||(ye.push(xe),!te))break;var K=String(xe[0]);K===""&&(z.lastIndex=s(P,p(z.lastIndex),we))}for(var be="",L=0,W=0;W<ye.length;W++){xe=ye[W];for(var Ee=String(xe[0]),Qe=v(m(d(xe.index),P.length),0),Ke=[],xt=1;xt<xe.length;xt++)Ke.push(C(xe[xt]));var Gt=xe.groups;if(Y){var Pt=[Ee].concat(Ke,Qe,P);Gt!==void 0&&Pt.push(Gt);var je=String(N.apply(void 0,Pt))}else je=le(Ee,P,Qe,Ke,Gt,N);Qe>=L&&(be+=P.slice(L,Qe)+je,L=Qe+Ee.length)}return be+P.slice(L)}];function le(H,N,ae,z,P,Y){var te=ae+H.length,we=z.length,ye=b;return P!==void 0&&(P=c(P),ye=g),x.call(Y,ye,function(xe,K){var be;switch(K.charAt(0)){case"$":return"$";case"&":return H;case"`":return N.slice(0,ae);case"'":return N.slice(te);case"<":be=P[K.slice(1,-1)];break;default:var L=+K;if(L===0)return xe;if(L>we){var W=y(L/10);return W===0?xe:W<=we?z[W-1]===void 0?K.charAt(1):z[W-1]+K.charAt(1):xe}be=z[L-1]}return be===void 0?"":be})}})},5692:function(a,l,e){var i=e("c430"),u=e("c6cd");(a.exports=function(c,p){return u[c]||(u[c]=p!==void 0?p:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(a,l,e){var i=e("d066"),u=e("241c"),c=e("7418"),p=e("825a");a.exports=i("Reflect","ownKeys")||function(f){var s=u.f(p(f)),h=c.f;return h?s.concat(h(f)):s}},"5a34":function(a,l,e){var i=e("44e7");a.exports=function(u){if(i(u))throw TypeError("The method doesn't accept regular expressions");return u}},"5c6c":function(a,l){a.exports=function(e,i){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:i}}},"5db7":function(a,l,e){var i=e("23e7"),u=e("a2bf"),c=e("7b0b"),p=e("50c4"),d=e("1c0b"),f=e("65f0");i({target:"Array",proto:!0},{flatMap:function(h){var v=c(this),m=p(v.length),y;return d(h),y=f(v,0),y.length=u(y,v,v,m,0,1,h,arguments.length>1?arguments[1]:void 0),y}})},6547:function(a,l,e){var i=e("a691"),u=e("1d80"),c=function(p){return function(d,f){var s=String(u(d)),h=i(f),v=s.length,m,y;return h<0||h>=v?p?"":void 0:(m=s.charCodeAt(h),m<55296||m>56319||h+1===v||(y=s.charCodeAt(h+1))<56320||y>57343?p?s.charAt(h):m:p?s.slice(h,h+2):(m-55296<<10)+(y-56320)+65536)}};a.exports={codeAt:c(!1),charAt:c(!0)}},"65f0":function(a,l,e){var i=e("861d"),u=e("e8b5"),c=e("b622"),p=c("species");a.exports=function(d,f){var s;return u(d)&&(s=d.constructor,typeof s=="function"&&(s===Array||u(s.prototype))?s=void 0:i(s)&&(s=s[p],s===null&&(s=void 0))),new(s===void 0?Array:s)(f===0?0:f)}},"69f3":function(a,l,e){var i=e("7f9a"),u=e("da84"),c=e("861d"),p=e("9112"),d=e("5135"),f=e("f772"),s=e("d012"),h=u.WeakMap,v,m,y,g=function(M){return y(M)?m(M):v(M,{})},b=function(M){return function(B){var Z;if(!c(B)||(Z=m(B)).type!==M)throw TypeError("Incompatible receiver, "+M+" required");return Z}};if(i){var C=new h,E=C.get,x=C.has,R=C.set;v=function(M,B){return R.call(C,M,B),B},m=function(M){return E.call(C,M)||{}},y=function(M){return x.call(C,M)}}else{var V=f("state");s[V]=!0,v=function(M,B){return p(M,V,B),B},m=function(M){return d(M,V)?M[V]:{}},y=function(M){return d(M,V)}}a.exports={set:v,get:m,has:y,enforce:g,getterFor:b}},"6eeb":function(a,l,e){var i=e("da84"),u=e("9112"),c=e("5135"),p=e("ce4e"),d=e("8925"),f=e("69f3"),s=f.get,h=f.enforce,v=String(String).split("String");(a.exports=function(m,y,g,b){var C=b?!!b.unsafe:!1,E=b?!!b.enumerable:!1,x=b?!!b.noTargetGet:!1;if(typeof g=="function"&&(typeof y=="string"&&!c(g,"name")&&u(g,"name",y),h(g).source=v.join(typeof y=="string"?y:"")),m===i){E?m[y]=g:p(y,g);return}else C?!x&&m[y]&&(E=!0):delete m[y];E?m[y]=g:u(m,y,g)})(Function.prototype,"toString",function(){return typeof this=="function"&&s(this).source||d(this)})},"6f53":function(a,l,e){var i=e("83ab"),u=e("df75"),c=e("fc6a"),p=e("d1e7").f,d=function(f){return function(s){for(var h=c(s),v=u(h),m=v.length,y=0,g=[],b;m>y;)b=v[y++],(!i||p.call(h,b))&&g.push(f?[b,h[b]]:h[b]);return g}};a.exports={entries:d(!0),values:d(!1)}},"73d9":function(a,l,e){var i=e("44d2");i("flatMap")},7418:function(a,l){l.f=Object.getOwnPropertySymbols},"746f":function(a,l,e){var i=e("428f"),u=e("5135"),c=e("e538"),p=e("9bf2").f;a.exports=function(d){var f=i.Symbol||(i.Symbol={});u(f,d)||p(f,d,{value:c.f(d)})}},7839:function(a,l){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(a,l,e){var i=e("1d80");a.exports=function(u){return Object(i(u))}},"7c73":function(a,l,e){var i=e("825a"),u=e("37e8"),c=e("7839"),p=e("d012"),d=e("1be4"),f=e("cc12"),s=e("f772"),h=">",v="<",m="prototype",y="script",g=s("IE_PROTO"),b=function(){},C=function(M){return v+y+h+M+v+"/"+y+h},E=function(M){M.write(C("")),M.close();var B=M.parentWindow.Object;return M=null,B},x=function(){var M=f("iframe"),B="java"+y+":",Z;return M.style.display="none",d.appendChild(M),M.src=String(B),Z=M.contentWindow.document,Z.open(),Z.write(C("document.F=Object")),Z.close(),Z.F},R,V=function(){try{R=document.domain&&new ActiveXObject("htmlfile")}catch{}V=R?E(R):x();for(var M=c.length;M--;)delete V[m][c[M]];return V()};p[g]=!0,a.exports=Object.create||function(B,Z){var le;return B!==null?(b[m]=i(B),le=new b,b[m]=null,le[g]=B):le=V(),Z===void 0?le:u(le,Z)}},"7dd0":function(a,l,e){var i=e("23e7"),u=e("9ed3"),c=e("e163"),p=e("d2bb"),d=e("d44e"),f=e("9112"),s=e("6eeb"),h=e("b622"),v=e("c430"),m=e("3f8c"),y=e("ae93"),g=y.IteratorPrototype,b=y.BUGGY_SAFARI_ITERATORS,C=h("iterator"),E="keys",x="values",R="entries",V=function(){return this};a.exports=function(M,B,Z,le,H,N,ae){u(Z,B,le);var z=function(W){if(W===H&&ye)return ye;if(!b&&W in te)return te[W];switch(W){case E:return function(){return new Z(this,W)};case x:return function(){return new Z(this,W)};case R:return function(){return new Z(this,W)}}return function(){return new Z(this)}},P=B+" Iterator",Y=!1,te=M.prototype,we=te[C]||te["@@iterator"]||H&&te[H],ye=!b&&we||z(H),xe=B=="Array"&&te.entries||we,K,be,L;if(xe&&(K=c(xe.call(new M)),g!==Object.prototype&&K.next&&(!v&&c(K)!==g&&(p?p(K,g):typeof K[C]!="function"&&f(K,C,V)),d(K,P,!0,!0),v&&(m[P]=V))),H==x&&we&&we.name!==x&&(Y=!0,ye=function(){return we.call(this)}),(!v||ae)&&te[C]!==ye&&f(te,C,ye),m[B]=ye,H)if(be={values:z(x),keys:N?ye:z(E),entries:z(R)},ae)for(L in be)(b||Y||!(L in te))&&s(te,L,be[L]);else i({target:B,proto:!0,forced:b||Y},be);return be}},"7f9a":function(a,l,e){var i=e("da84"),u=e("8925"),c=i.WeakMap;a.exports=typeof c=="function"&&/native code/.test(u(c))},"825a":function(a,l,e){var i=e("861d");a.exports=function(u){if(!i(u))throw TypeError(String(u)+" is not an object");return u}},"83ab":function(a,l,e){var i=e("d039");a.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(a,l,e){var i=e("c04e"),u=e("9bf2"),c=e("5c6c");a.exports=function(p,d,f){var s=i(d);s in p?u.f(p,s,c(0,f)):p[s]=f}},"861d":function(a,l){a.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}},8875:function(a,l,e){var i,u,c;(function(p,d){u=[],i=d,c=typeof i=="function"?i.apply(l,u):i,c!==void 0&&(a.exports=c)})(typeof self<"u"?self:this,function(){function p(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==p&&document.currentScript)return document.currentScript;try{throw new Error}catch(R){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,s=/@([^@]*):(\d+):(\d+)\s*$/ig,h=f.exec(R.stack)||s.exec(R.stack),v=h&&h[1]||!1,m=h&&h[2]||!1,y=document.location.href.replace(document.location.hash,""),g,b,C,E=document.getElementsByTagName("script");v===y&&(g=document.documentElement.outerHTML,b=new RegExp("(?:[^\\n]+?\\n){0,"+(m-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),C=g.replace(b,"$1").trim());for(var x=0;x<E.length;x++)if(E[x].readyState==="interactive"||E[x].src===v||v===y&&E[x].innerHTML&&E[x].innerHTML.trim()===C)return E[x];return null}}return p})},8925:function(a,l,e){var i=e("c6cd"),u=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(c){return u.call(c)}),a.exports=i.inspectSource},"8aa5":function(a,l,e){var i=e("6547").charAt;a.exports=function(u,c,p){return c+(p?i(u,c).length:1)}},"8bbf":function(a,l){a.exports=r},"90e3":function(a,l){var e=0,i=Math.random();a.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++e+i).toString(36)}},9112:function(a,l,e){var i=e("83ab"),u=e("9bf2"),c=e("5c6c");a.exports=i?function(p,d,f){return u.f(p,d,c(1,f))}:function(p,d,f){return p[d]=f,p}},9263:function(a,l,e){var i=e("ad6d"),u=e("9f7f"),c=RegExp.prototype.exec,p=String.prototype.replace,d=c,f=function(){var m=/a/,y=/b*/g;return c.call(m,"a"),c.call(y,"a"),m.lastIndex!==0||y.lastIndex!==0}(),s=u.UNSUPPORTED_Y||u.BROKEN_CARET,h=/()??/.exec("")[1]!==void 0,v=f||h||s;v&&(d=function(y){var g=this,b,C,E,x,R=s&&g.sticky,V=i.call(g),M=g.source,B=0,Z=y;return R&&(V=V.replace("y",""),V.indexOf("g")===-1&&(V+="g"),Z=String(y).slice(g.lastIndex),g.lastIndex>0&&(!g.multiline||g.multiline&&y[g.lastIndex-1]!==`
`)&&(M="(?: "+M+")",Z=" "+Z,B++),C=new RegExp("^(?:"+M+")",V)),h&&(C=new RegExp("^"+M+"$(?!\\s)",V)),f&&(b=g.lastIndex),E=c.call(R?C:g,Z),R?E?(E.input=E.input.slice(B),E[0]=E[0].slice(B),E.index=g.lastIndex,g.lastIndex+=E[0].length):g.lastIndex=0:f&&E&&(g.lastIndex=g.global?E.index+E[0].length:b),h&&E&&E.length>1&&p.call(E[0],C,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(E[x]=void 0)}),E}),a.exports=d},"94ca":function(a,l,e){var i=e("d039"),u=/#|\.prototype\./,c=function(h,v){var m=d[p(h)];return m==s?!0:m==f?!1:typeof v=="function"?i(v):!!v},p=c.normalize=function(h){return String(h).replace(u,".").toLowerCase()},d=c.data={},f=c.NATIVE="N",s=c.POLYFILL="P";a.exports=c},"99af":function(a,l,e){var i=e("23e7"),u=e("d039"),c=e("e8b5"),p=e("861d"),d=e("7b0b"),f=e("50c4"),s=e("8418"),h=e("65f0"),v=e("1dde"),m=e("b622"),y=e("2d00"),g=m("isConcatSpreadable"),b=9007199254740991,C="Maximum allowed index exceeded",E=y>=51||!u(function(){var M=[];return M[g]=!1,M.concat()[0]!==M}),x=v("concat"),R=function(M){if(!p(M))return!1;var B=M[g];return B!==void 0?!!B:c(M)},V=!E||!x;i({target:"Array",proto:!0,forced:V},{concat:function(B){var Z=d(this),le=h(Z,0),H=0,N,ae,z,P,Y;for(N=-1,z=arguments.length;N<z;N++)if(Y=N===-1?Z:arguments[N],R(Y)){if(P=f(Y.length),H+P>b)throw TypeError(C);for(ae=0;ae<P;ae++,H++)ae in Y&&s(le,H,Y[ae])}else{if(H>=b)throw TypeError(C);s(le,H++,Y)}return le.length=H,le}})},"9bdd":function(a,l,e){var i=e("825a");a.exports=function(u,c,p,d){try{return d?c(i(p)[0],p[1]):c(p)}catch(s){var f=u.return;throw f!==void 0&&i(f.call(u)),s}}},"9bf2":function(a,l,e){var i=e("83ab"),u=e("0cfb"),c=e("825a"),p=e("c04e"),d=Object.defineProperty;l.f=i?d:function(s,h,v){if(c(s),h=p(h,!0),c(v),u)try{return d(s,h,v)}catch{}if("get"in v||"set"in v)throw TypeError("Accessors not supported");return"value"in v&&(s[h]=v.value),s}},"9ed3":function(a,l,e){var i=e("ae93").IteratorPrototype,u=e("7c73"),c=e("5c6c"),p=e("d44e"),d=e("3f8c"),f=function(){return this};a.exports=function(s,h,v){var m=h+" Iterator";return s.prototype=u(i,{next:c(1,v)}),p(s,m,!1,!0),d[m]=f,s}},"9f7f":function(a,l,e){var i=e("d039");function u(c,p){return RegExp(c,p)}l.UNSUPPORTED_Y=i(function(){var c=u("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),l.BROKEN_CARET=i(function(){var c=u("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},a2bf:function(a,l,e){var i=e("e8b5"),u=e("50c4"),c=e("0366"),p=function(d,f,s,h,v,m,y,g){for(var b=v,C=0,E=y?c(y,g,3):!1,x;C<h;){if(C in s){if(x=E?E(s[C],C,f):s[C],m>0&&i(x))b=p(d,f,x,u(x.length),b,m-1)-1;else{if(b>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[b]=x}b++}C++}return b};a.exports=p},a352:function(a,l){a.exports=o},a434:function(a,l,e){var i=e("23e7"),u=e("23cb"),c=e("a691"),p=e("50c4"),d=e("7b0b"),f=e("65f0"),s=e("8418"),h=e("1dde"),v=e("ae40"),m=h("splice"),y=v("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,b=Math.min,C=9007199254740991,E="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!m||!y},{splice:function(R,V){var M=d(this),B=p(M.length),Z=u(R,B),le=arguments.length,H,N,ae,z,P,Y;if(le===0?H=N=0:le===1?(H=0,N=B-Z):(H=le-2,N=b(g(c(V),0),B-Z)),B+H-N>C)throw TypeError(E);for(ae=f(M,N),z=0;z<N;z++)P=Z+z,P in M&&s(ae,z,M[P]);if(ae.length=N,H<N){for(z=Z;z<B-N;z++)P=z+N,Y=z+H,P in M?M[Y]=M[P]:delete M[Y];for(z=B;z>B-N+H;z--)delete M[z-1]}else if(H>N)for(z=B-N;z>Z;z--)P=z+N-1,Y=z+H-1,P in M?M[Y]=M[P]:delete M[Y];for(z=0;z<H;z++)M[z+Z]=arguments[z+2];return M.length=B-N+H,ae}})},a4d3:function(a,l,e){var i=e("23e7"),u=e("da84"),c=e("d066"),p=e("c430"),d=e("83ab"),f=e("4930"),s=e("fdbf"),h=e("d039"),v=e("5135"),m=e("e8b5"),y=e("861d"),g=e("825a"),b=e("7b0b"),C=e("fc6a"),E=e("c04e"),x=e("5c6c"),R=e("7c73"),V=e("df75"),M=e("241c"),B=e("057f"),Z=e("7418"),le=e("06cf"),H=e("9bf2"),N=e("d1e7"),ae=e("9112"),z=e("6eeb"),P=e("5692"),Y=e("f772"),te=e("d012"),we=e("90e3"),ye=e("b622"),xe=e("e538"),K=e("746f"),be=e("d44e"),L=e("69f3"),W=e("b727").forEach,Ee=Y("hidden"),Qe="Symbol",Ke="prototype",xt=ye("toPrimitive"),Gt=L.set,Pt=L.getterFor(Qe),je=Object[Ke],Ne=u.Symbol,Kt=c("JSON","stringify"),ct=le.f,dt=H.f,Xn=B.f,Lr=N.f,ot=P("symbols"),$t=P("op-symbols"),qt=P("string-to-symbol-registry"),fn=P("symbol-to-string-registry"),vn=P("wks"),pn=u.QObject,mn=!pn||!pn[Ke]||!pn[Ke].findChild,gn=d&&h(function(){return R(dt({},"a",{get:function(){return dt(this,"a",{value:7}).a}})).a!=7})?function(ie,_,ne){var pe=ct(je,_);pe&&delete je[_],dt(ie,_,ne),pe&&ie!==je&&dt(je,_,pe)}:dt,hn=function(ie,_){var ne=ot[ie]=R(Ne[Ke]);return Gt(ne,{type:Qe,tag:ie,description:_}),d||(ne.description=_),ne},D=s?function(ie){return typeof ie=="symbol"}:function(ie){return Object(ie)instanceof Ne},I=function(_,ne,pe){_===je&&I($t,ne,pe),g(_);var me=E(ne,!0);return g(pe),v(ot,me)?(pe.enumerable?(v(_,Ee)&&_[Ee][me]&&(_[Ee][me]=!1),pe=R(pe,{enumerable:x(0,!1)})):(v(_,Ee)||dt(_,Ee,x(1,{})),_[Ee][me]=!0),gn(_,me,pe)):dt(_,me,pe)},T=function(_,ne){g(_);var pe=C(ne),me=V(pe).concat(ge(pe));return W(me,function(We){(!d||J.call(pe,We))&&I(_,We,pe[We])}),_},F=function(_,ne){return ne===void 0?R(_):T(R(_),ne)},J=function(_){var ne=E(_,!0),pe=Lr.call(this,ne);return this===je&&v(ot,ne)&&!v($t,ne)?!1:pe||!v(this,ne)||!v(ot,ne)||v(this,Ee)&&this[Ee][ne]?pe:!0},oe=function(_,ne){var pe=C(_),me=E(ne,!0);if(!(pe===je&&v(ot,me)&&!v($t,me))){var We=ct(pe,me);return We&&v(ot,me)&&!(v(pe,Ee)&&pe[Ee][me])&&(We.enumerable=!0),We}},ce=function(_){var ne=Xn(C(_)),pe=[];return W(ne,function(me){!v(ot,me)&&!v(te,me)&&pe.push(me)}),pe},ge=function(_){var ne=_===je,pe=Xn(ne?$t:C(_)),me=[];return W(pe,function(We){v(ot,We)&&(!ne||v(je,We))&&me.push(ot[We])}),me};if(f||(Ne=function(){if(this instanceof Ne)throw TypeError("Symbol is not a constructor");var _=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),ne=we(_),pe=function(me){this===je&&pe.call($t,me),v(this,Ee)&&v(this[Ee],ne)&&(this[Ee][ne]=!1),gn(this,ne,x(1,me))};return d&&mn&&gn(je,ne,{configurable:!0,set:pe}),hn(ne,_)},z(Ne[Ke],"toString",function(){return Pt(this).tag}),z(Ne,"withoutSetter",function(ie){return hn(we(ie),ie)}),N.f=J,H.f=I,le.f=oe,M.f=B.f=ce,Z.f=ge,xe.f=function(ie){return hn(ye(ie),ie)},d&&(dt(Ne[Ke],"description",{configurable:!0,get:function(){return Pt(this).description}}),p||z(je,"propertyIsEnumerable",J,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Ne}),W(V(vn),function(ie){K(ie)}),i({target:Qe,stat:!0,forced:!f},{for:function(ie){var _=String(ie);if(v(qt,_))return qt[_];var ne=Ne(_);return qt[_]=ne,fn[ne]=_,ne},keyFor:function(_){if(!D(_))throw TypeError(_+" is not a symbol");if(v(fn,_))return fn[_]},useSetter:function(){mn=!0},useSimple:function(){mn=!1}}),i({target:"Object",stat:!0,forced:!f,sham:!d},{create:F,defineProperty:I,defineProperties:T,getOwnPropertyDescriptor:oe}),i({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:ce,getOwnPropertySymbols:ge}),i({target:"Object",stat:!0,forced:h(function(){Z.f(1)})},{getOwnPropertySymbols:function(_){return Z.f(b(_))}}),Kt){var Ae=!f||h(function(){var ie=Ne();return Kt([ie])!="[null]"||Kt({a:ie})!="{}"||Kt(Object(ie))!="{}"});i({target:"JSON",stat:!0,forced:Ae},{stringify:function(_,ne,pe){for(var me=[_],We=1,Fr;arguments.length>We;)me.push(arguments[We++]);if(Fr=ne,!(!y(ne)&&_===void 0||D(_)))return m(ne)||(ne=function(bo,Jn){if(typeof Fr=="function"&&(Jn=Fr.call(this,bo,Jn)),!D(Jn))return Jn}),me[1]=ne,Kt.apply(null,me)}})}Ne[Ke][xt]||ae(Ne[Ke],xt,Ne[Ke].valueOf),be(Ne,Qe),te[Ee]=!0},a630:function(a,l,e){var i=e("23e7"),u=e("4df4"),c=e("1c7e"),p=!c(function(d){Array.from(d)});i({target:"Array",stat:!0,forced:p},{from:u})},a640:function(a,l,e){var i=e("d039");a.exports=function(u,c){var p=[][u];return!!p&&i(function(){p.call(null,c||function(){throw 1},1)})}},a691:function(a,l){var e=Math.ceil,i=Math.floor;a.exports=function(u){return isNaN(u=+u)?0:(u>0?i:e)(u)}},ab13:function(a,l,e){var i=e("b622"),u=i("match");a.exports=function(c){var p=/./;try{"/./"[c](p)}catch{try{return p[u]=!1,"/./"[c](p)}catch{}}return!1}},ac1f:function(a,l,e){var i=e("23e7"),u=e("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},ad6d:function(a,l,e){var i=e("825a");a.exports=function(){var u=i(this),c="";return u.global&&(c+="g"),u.ignoreCase&&(c+="i"),u.multiline&&(c+="m"),u.dotAll&&(c+="s"),u.unicode&&(c+="u"),u.sticky&&(c+="y"),c}},ae40:function(a,l,e){var i=e("83ab"),u=e("d039"),c=e("5135"),p=Object.defineProperty,d={},f=function(s){throw s};a.exports=function(s,h){if(c(d,s))return d[s];h||(h={});var v=[][s],m=c(h,"ACCESSORS")?h.ACCESSORS:!1,y=c(h,0)?h[0]:f,g=c(h,1)?h[1]:void 0;return d[s]=!!v&&!u(function(){if(m&&!i)return!0;var b={length:-1};m?p(b,1,{enumerable:!0,get:f}):b[1]=1,v.call(b,y,g)})}},ae93:function(a,l,e){var i=e("e163"),u=e("9112"),c=e("5135"),p=e("b622"),d=e("c430"),f=p("iterator"),s=!1,h=function(){return this},v,m,y;[].keys&&(y=[].keys(),"next"in y?(m=i(i(y)),m!==Object.prototype&&(v=m)):s=!0),v==null&&(v={}),!d&&!c(v,f)&&u(v,f,h),a.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:s}},b041:function(a,l,e){var i=e("00ee"),u=e("f5df");a.exports=i?{}.toString:function(){return"[object "+u(this)+"]"}},b0c0:function(a,l,e){var i=e("83ab"),u=e("9bf2").f,c=Function.prototype,p=c.toString,d=/^\s*function ([^ (]*)/,f="name";i&&!(f in c)&&u(c,f,{configurable:!0,get:function(){try{return p.call(this).match(d)[1]}catch{return""}}})},b622:function(a,l,e){var i=e("da84"),u=e("5692"),c=e("5135"),p=e("90e3"),d=e("4930"),f=e("fdbf"),s=u("wks"),h=i.Symbol,v=f?h:h&&h.withoutSetter||p;a.exports=function(m){return c(s,m)||(d&&c(h,m)?s[m]=h[m]:s[m]=v("Symbol."+m)),s[m]}},b64b:function(a,l,e){var i=e("23e7"),u=e("7b0b"),c=e("df75"),p=e("d039"),d=p(function(){c(1)});i({target:"Object",stat:!0,forced:d},{keys:function(s){return c(u(s))}})},b727:function(a,l,e){var i=e("0366"),u=e("44ad"),c=e("7b0b"),p=e("50c4"),d=e("65f0"),f=[].push,s=function(h){var v=h==1,m=h==2,y=h==3,g=h==4,b=h==6,C=h==5||b;return function(E,x,R,V){for(var M=c(E),B=u(M),Z=i(x,R,3),le=p(B.length),H=0,N=V||d,ae=v?N(E,le):m?N(E,0):void 0,z,P;le>H;H++)if((C||H in B)&&(z=B[H],P=Z(z,H,M),h)){if(v)ae[H]=P;else if(P)switch(h){case 3:return!0;case 5:return z;case 6:return H;case 2:f.call(ae,z)}else if(g)return!1}return b?-1:y||g?g:ae}};a.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},c04e:function(a,l,e){var i=e("861d");a.exports=function(u,c){if(!i(u))return u;var p,d;if(c&&typeof(p=u.toString)=="function"&&!i(d=p.call(u))||typeof(p=u.valueOf)=="function"&&!i(d=p.call(u))||!c&&typeof(p=u.toString)=="function"&&!i(d=p.call(u)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(a,l){a.exports=!1},c6b6:function(a,l){var e={}.toString;a.exports=function(i){return e.call(i).slice(8,-1)}},c6cd:function(a,l,e){var i=e("da84"),u=e("ce4e"),c="__core-js_shared__",p=i[c]||u(c,{});a.exports=p},c740:function(a,l,e){var i=e("23e7"),u=e("b727").findIndex,c=e("44d2"),p=e("ae40"),d="findIndex",f=!0,s=p(d);d in[]&&Array(1)[d](function(){f=!1}),i({target:"Array",proto:!0,forced:f||!s},{findIndex:function(v){return u(this,v,arguments.length>1?arguments[1]:void 0)}}),c(d)},c8ba:function(a,l){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{typeof window=="object"&&(e=window)}a.exports=e},c975:function(a,l,e){var i=e("23e7"),u=e("4d64").indexOf,c=e("a640"),p=e("ae40"),d=[].indexOf,f=!!d&&1/[1].indexOf(1,-0)<0,s=c("indexOf"),h=p("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:f||!s||!h},{indexOf:function(m){return f?d.apply(this,arguments)||0:u(this,m,arguments.length>1?arguments[1]:void 0)}})},ca84:function(a,l,e){var i=e("5135"),u=e("fc6a"),c=e("4d64").indexOf,p=e("d012");a.exports=function(d,f){var s=u(d),h=0,v=[],m;for(m in s)!i(p,m)&&i(s,m)&&v.push(m);for(;f.length>h;)i(s,m=f[h++])&&(~c(v,m)||v.push(m));return v}},caad:function(a,l,e){var i=e("23e7"),u=e("4d64").includes,c=e("44d2"),p=e("ae40"),d=p("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!d},{includes:function(s){return u(this,s,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc12:function(a,l,e){var i=e("da84"),u=e("861d"),c=i.document,p=u(c)&&u(c.createElement);a.exports=function(d){return p?c.createElement(d):{}}},ce4e:function(a,l,e){var i=e("da84"),u=e("9112");a.exports=function(c,p){try{u(i,c,p)}catch{i[c]=p}return p}},d012:function(a,l){a.exports={}},d039:function(a,l){a.exports=function(e){try{return!!e()}catch{return!0}}},d066:function(a,l,e){var i=e("428f"),u=e("da84"),c=function(p){return typeof p=="function"?p:void 0};a.exports=function(p,d){return arguments.length<2?c(i[p])||c(u[p]):i[p]&&i[p][d]||u[p]&&u[p][d]}},d1e7:function(a,l,e){var i={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,c=u&&!i.call({1:2},1);l.f=c?function(d){var f=u(this,d);return!!f&&f.enumerable}:i},d28b:function(a,l,e){var i=e("746f");i("iterator")},d2bb:function(a,l,e){var i=e("825a"),u=e("3bbe");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,p={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(p,[]),c=p instanceof Array}catch{}return function(s,h){return i(s),u(h),c?d.call(s,h):s.__proto__=h,s}}():void 0)},d3b7:function(a,l,e){var i=e("00ee"),u=e("6eeb"),c=e("b041");i||u(Object.prototype,"toString",c,{unsafe:!0})},d44e:function(a,l,e){var i=e("9bf2").f,u=e("5135"),c=e("b622"),p=c("toStringTag");a.exports=function(d,f,s){d&&!u(d=s?d:d.prototype,p)&&i(d,p,{configurable:!0,value:f})}},d58f:function(a,l,e){var i=e("1c0b"),u=e("7b0b"),c=e("44ad"),p=e("50c4"),d=function(f){return function(s,h,v,m){i(h);var y=u(s),g=c(y),b=p(y.length),C=f?b-1:0,E=f?-1:1;if(v<2)for(;;){if(C in g){m=g[C],C+=E;break}if(C+=E,f?C<0:b<=C)throw TypeError("Reduce of empty array with no initial value")}for(;f?C>=0:b>C;C+=E)C in g&&(m=h(m,g[C],C,y));return m}};a.exports={left:d(!1),right:d(!0)}},d784:function(a,l,e){e("ac1f");var i=e("6eeb"),u=e("d039"),c=e("b622"),p=e("9263"),d=e("9112"),f=c("species"),s=!u(function(){var g=/./;return g.exec=function(){var b=[];return b.groups={a:"7"},b},"".replace(g,"$<a>")!=="7"}),h=function(){return"a".replace(/./,"$0")==="$0"}(),v=c("replace"),m=function(){return/./[v]?/./[v]("a","$0")==="":!1}(),y=!u(function(){var g=/(?:)/,b=g.exec;g.exec=function(){return b.apply(this,arguments)};var C="ab".split(g);return C.length!==2||C[0]!=="a"||C[1]!=="b"});a.exports=function(g,b,C,E){var x=c(g),R=!u(function(){var H={};return H[x]=function(){return 7},""[g](H)!=7}),V=R&&!u(function(){var H=!1,N=/a/;return g==="split"&&(N={},N.constructor={},N.constructor[f]=function(){return N},N.flags="",N[x]=/./[x]),N.exec=function(){return H=!0,null},N[x](""),!H});if(!R||!V||g==="replace"&&!(s&&h&&!m)||g==="split"&&!y){var M=/./[x],B=C(x,""[g],function(H,N,ae,z,P){return N.exec===p?R&&!P?{done:!0,value:M.call(N,ae,z)}:{done:!0,value:H.call(ae,N,z)}:{done:!1}},{REPLACE_KEEPS_$0:h,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),Z=B[0],le=B[1];i(String.prototype,g,Z),i(RegExp.prototype,x,b==2?function(H,N){return le.call(H,this,N)}:function(H){return le.call(H,this)})}E&&d(RegExp.prototype[x],"sham",!0)}},d81d:function(a,l,e){var i=e("23e7"),u=e("b727").map,c=e("1dde"),p=e("ae40"),d=c("map"),f=p("map");i({target:"Array",proto:!0,forced:!d||!f},{map:function(h){return u(this,h,arguments.length>1?arguments[1]:void 0)}})},da84:function(a,l,e){(function(i){var u=function(c){return c&&c.Math==Math&&c};a.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof i=="object"&&i)||Function("return this")()}).call(this,e("c8ba"))},dbb4:function(a,l,e){var i=e("23e7"),u=e("83ab"),c=e("56ef"),p=e("fc6a"),d=e("06cf"),f=e("8418");i({target:"Object",stat:!0,sham:!u},{getOwnPropertyDescriptors:function(h){for(var v=p(h),m=d.f,y=c(v),g={},b=0,C,E;y.length>b;)E=m(v,C=y[b++]),E!==void 0&&f(g,C,E);return g}})},dbf1:function(a,l,e){(function(i){e.d(l,"a",function(){return c});function u(){return typeof window<"u"?window.console:i.console}var c=u()}).call(this,e("c8ba"))},ddb0:function(a,l,e){var i=e("da84"),u=e("fdbc"),c=e("e260"),p=e("9112"),d=e("b622"),f=d("iterator"),s=d("toStringTag"),h=c.values;for(var v in u){var m=i[v],y=m&&m.prototype;if(y){if(y[f]!==h)try{p(y,f,h)}catch{y[f]=h}if(y[s]||p(y,s,v),u[v]){for(var g in c)if(y[g]!==c[g])try{p(y,g,c[g])}catch{y[g]=c[g]}}}}},df75:function(a,l,e){var i=e("ca84"),u=e("7839");a.exports=Object.keys||function(p){return i(p,u)}},e01a:function(a,l,e){var i=e("23e7"),u=e("83ab"),c=e("da84"),p=e("5135"),d=e("861d"),f=e("9bf2").f,s=e("e893"),h=c.Symbol;if(u&&typeof h=="function"&&(!("description"in h.prototype)||h().description!==void 0)){var v={},m=function(){var x=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),R=this instanceof m?new h(x):x===void 0?h():h(x);return x===""&&(v[R]=!0),R};s(m,h);var y=m.prototype=h.prototype;y.constructor=m;var g=y.toString,b=String(h("test"))=="Symbol(test)",C=/^Symbol\((.*)\)[^)]+$/;f(y,"description",{configurable:!0,get:function(){var x=d(this)?this.valueOf():this,R=g.call(x);if(p(v,x))return"";var V=b?R.slice(7,-1):R.replace(C,"$1");return V===""?void 0:V}}),i({global:!0,forced:!0},{Symbol:m})}},e163:function(a,l,e){var i=e("5135"),u=e("7b0b"),c=e("f772"),p=e("e177"),d=c("IE_PROTO"),f=Object.prototype;a.exports=p?Object.getPrototypeOf:function(s){return s=u(s),i(s,d)?s[d]:typeof s.constructor=="function"&&s instanceof s.constructor?s.constructor.prototype:s instanceof Object?f:null}},e177:function(a,l,e){var i=e("d039");a.exports=!i(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})},e260:function(a,l,e){var i=e("fc6a"),u=e("44d2"),c=e("3f8c"),p=e("69f3"),d=e("7dd0"),f="Array Iterator",s=p.set,h=p.getterFor(f);a.exports=d(Array,"Array",function(v,m){s(this,{type:f,target:i(v),index:0,kind:m})},function(){var v=h(this),m=v.target,y=v.kind,g=v.index++;return!m||g>=m.length?(v.target=void 0,{value:void 0,done:!0}):y=="keys"?{value:g,done:!1}:y=="values"?{value:m[g],done:!1}:{value:[g,m[g]],done:!1}},"values"),c.Arguments=c.Array,u("keys"),u("values"),u("entries")},e439:function(a,l,e){var i=e("23e7"),u=e("d039"),c=e("fc6a"),p=e("06cf").f,d=e("83ab"),f=u(function(){p(1)}),s=!d||f;i({target:"Object",stat:!0,forced:s,sham:!d},{getOwnPropertyDescriptor:function(v,m){return p(c(v),m)}})},e538:function(a,l,e){var i=e("b622");l.f=i},e893:function(a,l,e){var i=e("5135"),u=e("56ef"),c=e("06cf"),p=e("9bf2");a.exports=function(d,f){for(var s=u(f),h=p.f,v=c.f,m=0;m<s.length;m++){var y=s[m];i(d,y)||h(d,y,v(f,y))}}},e8b5:function(a,l,e){var i=e("c6b6");a.exports=Array.isArray||function(c){return i(c)=="Array"}},e95a:function(a,l,e){var i=e("b622"),u=e("3f8c"),c=i("iterator"),p=Array.prototype;a.exports=function(d){return d!==void 0&&(u.Array===d||p[c]===d)}},f5df:function(a,l,e){var i=e("00ee"),u=e("c6b6"),c=e("b622"),p=c("toStringTag"),d=u(function(){return arguments}())=="Arguments",f=function(s,h){try{return s[h]}catch{}};a.exports=i?u:function(s){var h,v,m;return s===void 0?"Undefined":s===null?"Null":typeof(v=f(h=Object(s),p))=="string"?v:d?u(h):(m=u(h))=="Object"&&typeof h.callee=="function"?"Arguments":m}},f772:function(a,l,e){var i=e("5692"),u=e("90e3"),c=i("keys");a.exports=function(p){return c[p]||(c[p]=u(p))}},fb15:function(a,l,e){if(e.r(l),typeof window<"u"){var i=window.document.currentScript;{var u=e("8875");i=u(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:u})}var c=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(e.p=c[1])}e("99af"),e("4de4"),e("4160"),e("c975"),e("d81d"),e("a434"),e("159b"),e("a4d3"),e("e439"),e("dbb4"),e("b64b");function p(D,I,T){return I in D?Object.defineProperty(D,I,{value:T,enumerable:!0,configurable:!0,writable:!0}):D[I]=T,D}function d(D,I){var T=Object.keys(D);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(D);I&&(F=F.filter(function(J){return Object.getOwnPropertyDescriptor(D,J).enumerable})),T.push.apply(T,F)}return T}function f(D){for(var I=1;I<arguments.length;I++){var T=arguments[I]!=null?arguments[I]:{};I%2?d(Object(T),!0).forEach(function(F){p(D,F,T[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(T)):d(Object(T)).forEach(function(F){Object.defineProperty(D,F,Object.getOwnPropertyDescriptor(T,F))})}return D}function s(D){if(Array.isArray(D))return D}e("e01a"),e("d28b"),e("e260"),e("d3b7"),e("3ca3"),e("ddb0");function h(D,I){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(D)))){var T=[],F=!0,J=!1,oe=void 0;try{for(var ce=D[Symbol.iterator](),ge;!(F=(ge=ce.next()).done)&&(T.push(ge.value),!(I&&T.length===I));F=!0);}catch(Ae){J=!0,oe=Ae}finally{try{!F&&ce.return!=null&&ce.return()}finally{if(J)throw oe}}return T}}e("a630"),e("fb6a"),e("b0c0"),e("25f0");function v(D,I){(I==null||I>D.length)&&(I=D.length);for(var T=0,F=new Array(I);T<I;T++)F[T]=D[T];return F}function m(D,I){if(D){if(typeof D=="string")return v(D,I);var T=Object.prototype.toString.call(D).slice(8,-1);if(T==="Object"&&D.constructor&&(T=D.constructor.name),T==="Map"||T==="Set")return Array.from(D);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return v(D,I)}}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(D,I){return s(D)||h(D,I)||m(D,I)||y()}function b(D){if(Array.isArray(D))return v(D)}function C(D){if(typeof Symbol<"u"&&Symbol.iterator in Object(D))return Array.from(D)}function E(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(D){return b(D)||C(D)||m(D)||E()}var R=e("a352"),V=e.n(R);function M(D){D.parentElement!==null&&D.parentElement.removeChild(D)}function B(D,I,T){var F=T===0?D.children[0]:D.children[T-1].nextSibling;D.insertBefore(I,F)}var Z=e("dbf1");e("13d5"),e("4fad"),e("ac1f"),e("5319");function le(D){var I=Object.create(null);return function(F){var J=I[F];return J||(I[F]=D(F))}}var H=/-(\w)/g,N=le(function(D){return D.replace(H,function(I,T){return T.toUpperCase()})});e("5db7"),e("73d9");var ae=["Start","Add","Remove","Update","End"],z=["Choose","Unchoose","Sort","Filter","Clone"],P=["Move"],Y=[P,ae,z].flatMap(function(D){return D}).map(function(D){return"on".concat(D)}),te={manage:P,manageAndEmit:ae,emit:z};function we(D){return Y.indexOf(D)!==-1}e("caad"),e("2ca0");var ye=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function xe(D){return ye.includes(D)}function K(D){return["transition-group","TransitionGroup"].includes(D)}function be(D){return["id","class","role","style"].includes(D)||D.startsWith("data-")||D.startsWith("aria-")||D.startsWith("on")}function L(D){return D.reduce(function(I,T){var F=g(T,2),J=F[0],oe=F[1];return I[J]=oe,I},{})}function W(D){var I=D.$attrs,T=D.componentData,F=T===void 0?{}:T,J=L(Object.entries(I).filter(function(oe){var ce=g(oe,2),ge=ce[0];return ce[1],be(ge)}));return f(f({},J),F)}function Ee(D){var I=D.$attrs,T=D.callBackBuilder,F=L(Qe(I));Object.entries(T).forEach(function(oe){var ce=g(oe,2),ge=ce[0],Ae=ce[1];te[ge].forEach(function(ie){F["on".concat(ie)]=Ae(ie)})});var J="[data-draggable]".concat(F.draggable||"");return f(f({},F),{},{draggable:J})}function Qe(D){return Object.entries(D).filter(function(I){var T=g(I,2),F=T[0];return T[1],!be(F)}).map(function(I){var T=g(I,2),F=T[0],J=T[1];return[N(F),J]}).filter(function(I){var T=g(I,2),F=T[0];return T[1],!we(F)})}e("c740");function Ke(D,I){if(!(D instanceof I))throw new TypeError("Cannot call a class as a function")}function xt(D,I){for(var T=0;T<I.length;T++){var F=I[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}function Gt(D,I,T){return I&&xt(D.prototype,I),T&&xt(D,T),D}var Pt=function(I){var T=I.el;return T},je=function(I,T){return I.__draggable_context=T},Ne=function(I){return I.__draggable_context},Kt=function(){function D(I){var T=I.nodes,F=T.header,J=T.default,oe=T.footer,ce=I.root,ge=I.realList;Ke(this,D),this.defaultNodes=J,this.children=[].concat(x(F),x(J),x(oe)),this.externalComponent=ce.externalComponent,this.rootTransition=ce.transition,this.tag=ce.tag,this.realList=ge}return Gt(D,[{key:"render",value:function(T,F){var J=this.tag,oe=this.children,ce=this._isRootComponent,ge=ce?{default:function(){return oe}}:oe;return T(J,F,ge)}},{key:"updated",value:function(){var T=this.defaultNodes,F=this.realList;T.forEach(function(J,oe){je(Pt(J),{element:F[oe],index:oe})})}},{key:"getUnderlyingVm",value:function(T){return Ne(T)}},{key:"getVmIndexFromDomIndex",value:function(T,F){var J=this.defaultNodes,oe=J.length,ce=F.children,ge=ce.item(T);if(ge===null)return oe;var Ae=Ne(ge);if(Ae)return Ae.index;if(oe===0)return 0;var ie=Pt(J[0]),_=x(ce).findIndex(function(ne){return ne===ie});return T<_?0:oe}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),D}(),ct=e("8bbf");function dt(D,I){var T=D[I];return T?T():[]}function Xn(D){var I=D.$slots,T=D.realList,F=D.getKey,J=T||[],oe=["header","footer"].map(function(ne){return dt(I,ne)}),ce=g(oe,2),ge=ce[0],Ae=ce[1],ie=I.item;if(!ie)throw new Error("draggable element must have an item slot");var _=J.flatMap(function(ne,pe){return ie({element:ne,index:pe}).map(function(me){return me.key=F(ne),me.props=f(f({},me.props||{}),{},{"data-draggable":!0}),me})});if(_.length!==J.length)throw new Error("Item slot must have only one child");return{header:ge,footer:Ae,default:_}}function Lr(D){var I=K(D),T=!xe(D)&&!I;return{transition:I,externalComponent:T,tag:T?Object(ct.resolveComponent)(D):I?ct.TransitionGroup:D}}function ot(D){var I=D.$slots,T=D.tag,F=D.realList,J=D.getKey,oe=Xn({$slots:I,realList:F,getKey:J}),ce=Lr(T);return new Kt({nodes:oe,root:ce,realList:F})}function $t(D,I){var T=this;Object(ct.nextTick)(function(){return T.$emit(D.toLowerCase(),I)})}function qt(D){var I=this;return function(T,F){if(I.realList!==null)return I["onDrag".concat(D)](T,F)}}function fn(D){var I=this,T=qt.call(this,D);return function(F,J){T.call(I,F,J),$t.call(I,D,F)}}var vn=null,pn={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(I){return I}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},mn=["update:modelValue","change"].concat(x([].concat(x(te.manageAndEmit),x(te.emit)).map(function(D){return D.toLowerCase()}))),gn=Object(ct.defineComponent)({name:"draggable",inheritAttrs:!1,props:pn,emits:mn,data:function(){return{error:!1}},render:function(){try{this.error=!1;var I=this.$slots,T=this.$attrs,F=this.tag,J=this.componentData,oe=this.realList,ce=this.getKey,ge=ot({$slots:I,tag:F,realList:oe,getKey:ce});this.componentStructure=ge;var Ae=W({$attrs:T,componentData:J});return ge.render(ct.h,Ae)}catch(ie){return this.error=!0,Object(ct.h)("pre",{style:{color:"red"}},ie.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&Z.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var I=this;if(!this.error){var T=this.$attrs,F=this.$el,J=this.componentStructure;J.updated();var oe=Ee({$attrs:T,callBackBuilder:{manageAndEmit:function(Ae){return fn.call(I,Ae)},emit:function(Ae){return $t.bind(I,Ae)},manage:function(Ae){return qt.call(I,Ae)}}}),ce=F.nodeType===1?F:F.parentElement;this._sortable=new V.a(ce,oe),this.targetDomElement=ce,ce.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var I=this.list;return I||this.modelValue},getKey:function(){var I=this.itemKey;return typeof I=="function"?I:function(T){return T[I]}}},watch:{$attrs:{handler:function(I){var T=this._sortable;T&&Qe(I).forEach(function(F){var J=g(F,2),oe=J[0],ce=J[1];T.option(oe,ce)})},deep:!0}},methods:{getUnderlyingVm:function(I){return this.componentStructure.getUnderlyingVm(I)||null},getUnderlyingPotencialDraggableComponent:function(I){return I.__draggable_component__},emitChanges:function(I){var T=this;Object(ct.nextTick)(function(){return T.$emit("change",I)})},alterList:function(I){if(this.list){I(this.list);return}var T=x(this.modelValue);I(T),this.$emit("update:modelValue",T)},spliceList:function(){var I=arguments,T=function(J){return J.splice.apply(J,x(I))};this.alterList(T)},updatePosition:function(I,T){var F=function(oe){return oe.splice(T,0,oe.splice(I,1)[0])};this.alterList(F)},getRelatedContextFromMoveEvent:function(I){var T=I.to,F=I.related,J=this.getUnderlyingPotencialDraggableComponent(T);if(!J)return{component:J};var oe=J.realList,ce={list:oe,component:J};if(T!==F&&oe){var ge=J.getUnderlyingVm(F)||{};return f(f({},ge),ce)}return ce},getVmIndexFromDomIndex:function(I){return this.componentStructure.getVmIndexFromDomIndex(I,this.targetDomElement)},onDragStart:function(I){this.context=this.getUnderlyingVm(I.item),I.item._underlying_vm_=this.clone(this.context.element),vn=I.item},onDragAdd:function(I){var T=I.item._underlying_vm_;if(T!==void 0){M(I.item);var F=this.getVmIndexFromDomIndex(I.newIndex);this.spliceList(F,0,T);var J={element:T,newIndex:F};this.emitChanges({added:J})}},onDragRemove:function(I){if(B(this.$el,I.item,I.oldIndex),I.pullMode==="clone"){M(I.clone);return}var T=this.context,F=T.index,J=T.element;this.spliceList(F,1);var oe={element:J,oldIndex:F};this.emitChanges({removed:oe})},onDragUpdate:function(I){M(I.item),B(I.from,I.item,I.oldIndex);var T=this.context.index,F=this.getVmIndexFromDomIndex(I.newIndex);this.updatePosition(T,F);var J={element:this.context.element,oldIndex:T,newIndex:F};this.emitChanges({moved:J})},computeFutureIndex:function(I,T){if(!I.element)return 0;var F=x(T.to.children).filter(function(ge){return ge.style.display!=="none"}),J=F.indexOf(T.related),oe=I.component.getVmIndexFromDomIndex(J),ce=F.indexOf(vn)!==-1;return ce||!T.willInsertAfter?oe:oe+1},onDragMove:function(I,T){var F=this.move,J=this.realList;if(!F||!J)return!0;var oe=this.getRelatedContextFromMoveEvent(I),ce=this.computeFutureIndex(oe,I),ge=f(f({},this.context),{},{futureIndex:ce}),Ae=f(f({},I),{},{relatedContext:oe,draggedContext:ge});return F(Ae,T)},onDragEnd:function(){vn=null}}}),hn=gn;l.default=hn},fb6a:function(a,l,e){var i=e("23e7"),u=e("861d"),c=e("e8b5"),p=e("23cb"),d=e("50c4"),f=e("fc6a"),s=e("8418"),h=e("b622"),v=e("1dde"),m=e("ae40"),y=v("slice"),g=m("slice",{ACCESSORS:!0,0:0,1:2}),b=h("species"),C=[].slice,E=Math.max;i({target:"Array",proto:!0,forced:!y||!g},{slice:function(R,V){var M=f(this),B=d(M.length),Z=p(R,B),le=p(V===void 0?B:V,B),H,N,ae;if(c(M)&&(H=M.constructor,typeof H=="function"&&(H===Array||c(H.prototype))?H=void 0:u(H)&&(H=H[b],H===null&&(H=void 0)),H===Array||H===void 0))return C.call(M,Z,le);for(N=new(H===void 0?Array:H)(E(le-Z,0)),ae=0;Z<le;Z++,ae++)Z in M&&s(N,ae,M[Z]);return N.length=ae,N}})},fc6a:function(a,l,e){var i=e("44ad"),u=e("1d80");a.exports=function(c){return i(u(c))}},fdbc:function(a,l){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(a,l,e){var i=e("4930");a.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(to);var Mu=to.exports;const sn=Vo(Mu),Tu={class:"flex items-center gap-2 text-2xl font-semibold leading-6 text-ink-gray-9"},Pu={class:"mt-4"},$u={class:"text-base text-ink-gray-8 mb-2"},Au={class:"px-1 py-0.5 bg-surface-gray-2 border border-outline-gray-modals rounded text-base text-ink-gray-8 flex items-center justify-between gap-2"},Ru={class:"flex items-center gap-2"},Lu={class:"flex items-center gap-2"},Fu={class:"flex flex-col gap-1 text-ink-gray-9"},Vu={class:"text-ink-gray-4 text-sm"},ju={class:"flex flex-col gap-2"},Nu={__name:"GridFieldsEditorModal",props:ut({doctype:String,parentDoctype:String},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const n=t,{getFields:r,getGridViewSettings:o,saveUserSettings:a}=Ut(n.doctype),l=rt(t,"modelValue"),e=U(!1),i=U(null),u=X(()=>JSON.stringify(p.value)!==JSON.stringify(c.value)),c=X(()=>{let y=r(),g=o(n.parentDoctype);return g.length?g.map(b=>{let C=y.find(E=>E.fieldname===b.fieldname);if(C)return C.columns=b.columns,m(C)}):y==null?void 0:y.filter(b=>b.in_list_view).map(b=>m(b))}),p=U(JSON.parse(JSON.stringify(c.value||[]))),d=X(()=>{var y;return(y=r())==null?void 0:y.filter(g=>!p.value.find(b=>b.fieldname===g.fieldname)&&!["Tab Break","Section Break","Column Break","Table"].includes(g.fieldtype))});function f(){p.value=JSON.parse(JSON.stringify(c.value||[]))}function s(y){p.value.push(m(y))}function h(y){const g=p.value.findIndex(b=>b.fieldname===y.fieldname);p.value.splice(g,1)}function v(){e.value=!0;let y=p.value.map(g=>({fieldname:g.fieldname,columns:g.columns}));if(y.length===0){i.value=__("At least one field is required");return}a(n.parentDoctype,"GridView",y,()=>{e.value=!1,l.value=!1})}function m(y){return{label:y.label,fieldname:y.fieldname,fieldtype:y.fieldtype,options:y.options,in_list_view:y.in_list_view,columns:y.columns||2}}return(y,g)=>{const b=he("Badge"),C=he("TextInput"),E=he("Button"),x=he("FeatherIcon");return w(),k(S(Pr),{modelValue:l.value,"onUpdate:modelValue":g[1]||(g[1]=R=>l.value=R)},{"body-title":j(()=>[O("h3",Tu,[O("div",null,ee(y.__("Edit Grid Fields Layout")),1),u.value?(w(),k(b,{key:0,label:y.__("Not Saved"),variant:"subtle",theme:"orange"},null,8,["label"])):q("",!0)])]),"body-content":j(()=>{var R,V;return[O("div",Pu,[O("div",$u,ee(y.__("Fields Order")),1),(R=c.value)!=null&&R.length?(w(),k(S(sn),{key:0,list:p.value,group:"fields","item-key":"fieldname",class:"flex flex-col gap-1"},{item:j(({element:M})=>[O("div",Au,[O("div",Ru,[$(eo,{class:"h-3.5 cursor-grab"}),O("div",null,ee(M.label),1)]),O("div",Lu,[$(C,{variant:"outline",type:"number",modelValue:M.columns,"onUpdate:modelValue":B=>M.columns=B,class:"w-20"},null,8,["modelValue","onUpdate:modelValue"]),$(E,{variant:"ghost",icon:"x",onClick:B=>h(M)},null,8,["onClick"])])])]),_:1},8,["list"])):q("",!0),(V=d.value)!=null&&V.length?(w(),k(aa,{key:1,value:"",options:d.value,onChange:g[0]||(g[0]=M=>s(M))},{target:j(({togglePopover:M})=>[$(E,{class:"w-full mt-2",onClick:B=>M(),label:y.__("Add Field")},{prefix:j(()=>[$(x,{name:"plus",class:"h-4"})]),_:2},1032,["onClick","label"])]),"item-label":j(({option:M})=>[O("div",Fu,[O("div",null,ee(M.label),1),O("div",Vu,ee(`${M.fieldname} - ${M.fieldtype}`),1)])]),_:1},8,["options"])):q("",!0),i.value?(w(),k(S(Va),{key:2,class:"mt-3",message:i.value},null,8,["message"])):q("",!0)])]}),actions:j(()=>[O("div",ju,[u.value?(w(),k(E,{key:0,class:"w-full",label:y.__("Reset"),onClick:f},null,8,["label"])):q("",!0),$(E,{class:"w-full",label:y.__("Save"),variant:"solid",onClick:v,loading:e.value,disabled:!u.value},null,8,["label","loading","disabled"])])]),_:1},8,["modelValue"])}}};function Ir(t,n,r=!1,o=!1,a=!0){if(!t)return"";let l=window.sysdefaults.date_format.replace("mm","MM").replace("yyyy","YYYY").replace("dd","DD")||"YYYY-MM-DD",e=window.sysdefaults.time_format||"HH:mm:ss";return n=n||"ddd, MMM D, YYYY h:mm a",r&&(n=l),o&&(n=e),o&&r&&(n=`${l} ${e}`),a?gt(t).format(n):n}function Rd(t){return Uu(t)}function ku(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function Uu(t,n=!1){if(!t)return"";let r=fa("systemTimezone"),o=fa("localTimezone")||ku();typeof t=="string"&&(t=gr(t));let l=gt().tz(o||r).diff(t,"seconds"),e=Math.floor(l/86400);if(isNaN(e))return"";if(n)if(e<0){if(Math.abs(e)<1){if(l<60)return __("now");if(l<3600)return __("in {0} m",[Math.floor(l/60)]);if(l<86400)return __("in {0} h",[Math.floor(l/3600)])}return Math.abs(e)==1?__("tomorrow"):Math.abs(e)<7?__("in {0} d",[Math.abs(e)]):Math.abs(e)<31?__("in {0} w",[Math.floor(Math.abs(e)/7)]):Math.abs(e)<365?__("in {0} M",[Math.floor(Math.abs(e)/30)]):__("in {0} y",[Math.floor(Math.abs(e)/365)])}else if(e==0){if(l<60)return __("now");if(l<3600)return __("{0} m",[Math.floor(l/60)]);if(l<86400)return __("{0} h",[Math.floor(l/3600)])}else return e<7?__("{0} d",[e]):e<31?__("{0} w",[Math.floor(e/7)]):e<365?__("{0} M",[Math.floor(e/30)]):__("{0} y",[Math.floor(e/365)]);else if(e<0){if(Math.abs(e)<1){if(l<60)return __("just now");if(l<120)return __("in 1 minute");if(l<3600)return __("in {0} minutes",[Math.floor(l/60)]);if(l<7200)return __("in 1 hour");if(l<86400)return __("in {0} hours",[Math.floor(l/3600)])}return Math.abs(e)==1?__("tomorrow"):Math.abs(e)<7?__("in {0} days",[Math.abs(e)]):Math.abs(e)<31?__("in {0} weeks",[Math.floor(Math.abs(e)/7)]):Math.abs(e)<365?__("in {0} months",[Math.floor(Math.abs(e)/30)]):Math.abs(e)<730?__("in 1 year"):__("in {0} years",[Math.floor(Math.abs(e)/365)])}else if(e==0){if(l<60)return __("just now");if(l<120)return __("1 minute ago");if(l<3600)return __("{0} minutes ago",[Math.floor(l/60)]);if(l<7200)return __("1 hour ago");if(l<86400)return __("{0} hours ago",[Math.floor(l/3600)])}else return e==1?__("yesterday"):e<7?__("{0} days ago",[e]):e<14?__("1 week ago"):e<31?__("{0} weeks ago",[Math.floor(e/7)]):e<62?__("1 month ago"):e<365?__("{0} months ago",[Math.floor(e/30)]):e<730?__("1 year ago"):__("{0} years ago",[Math.floor(e/365)])}function Bu(t){let{getUser:n}=Ht();return t.map(r=>({name:r,image:n(r).user_image,label:n(r).full_name}))}function Hu(){return"ontouchstart"in document.documentElement}function Gu(t,n={}){let r=Object.keys(n),o=Object.values(n);t=`let out = ${t}; return out`;try{return new Function(...r,t)(...o)}catch(a){throw console.log("Error evaluating the following expression:"),console.error(t),a}}function Ma(t,n){if(!t||!n)return!0;let r=null;if(typeof t=="boolean")r=t;else if(typeof t=="function")r=t(n);else if(t.substr(0,5)=="eval:")try{r=Gu(t.substr(5),{doc:n})}catch{r=!0}else{let o=n[t];Array.isArray(o)?r=!!o.length:r=!!o}return r}function Pn(t=4){let n="";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";return Array.from({length:t}).forEach(()=>{n+=r.charAt(Math.floor(Math.random()*r.length))}),n}function Ku(t){return t.reduce((n,r)=>n.then(()=>r()),Promise.resolve())}const Yu={class:"flex flex-col gap-5.5"},zu={class:"flex items-center gap-2 text-base bg-surface-gray-2 rounded py-2 px-2.5"},Zu=["onClick"],Wu=["onDblclick"],Xu={key:0,class:"flex items-center gap-2"},Ju={key:1,class:"flex gap-1 items-center"},Qu={class:"section flex flex-col gap-1.5 p-2.5 bg-surface-gray-2 rounded cursor-grab"},_u={class:"flex items-center justify-between"},qu=["onDblclick"],ec={key:1,class:"flex gap-2 items-center"},tc={class:"flex flex-col gap-1.5 flex-1 p-2 border border-dashed border-outline-gray-2 rounded bg-surface-modal cursor-grab"},nc={class:"field px-2.5 py-2 border border-outline-gray-2 rounded text-base bg-surface-modal text-ink-gray-8 flex items-center leading-4 justify-between gap-2"},rc={class:"flex items-center gap-2 truncate"},ac={class:"truncate"},oc={class:"gap-2 w-full"},lc={class:"flex flex-col gap-1 text-ink-gray-9"},ic={class:"text-ink-gray-4 text-sm"},sc={class:"mt-5.5"},po={__name:"FieldLayoutEditor",props:{tabs:Object,doctype:String,onlyRequired:{type:Boolean,default:!1}},setup(t){const n=t,r=U(0),o=X(()=>n.tabs.length==1&&!n.tabs[0].label?"prefix":"default"),a=["Geolocation","Attach","Attach Image","HTML","Signature"],l=X(()=>({doctype:n.doctype,restricted_fieldtypes:a,as_array:!0,only_required:n.onlyRequired})),e=Ve({url:"crm.api.doc.get_fields_meta",params:l.value,cache:["fieldsMeta",n.doctype],auto:!0,transform:d=>{var h;let f=["name","owner","creation","modified","modified_by","docstatus","_comments","_user_tags","_assign","_liked_by"],s=[];return(h=n.tabs)==null||h.forEach(v=>{var m;(m=v.sections)==null||m.forEach(y=>{var g;(g=y.columns)==null||g.forEach(b=>{s=s.concat(b.fields)})})}),d.filter(v=>!s.find(m=>m.fieldname===v.fieldname)&&!f.includes(v.fieldname))}});function i(){if(n.tabs.length==1&&!n.tabs[0].label){n.tabs[0].label=__("New Tab");return}n.tabs.push({label:__("New Tab"),name:"tab_"+Pn(),sections:[]}),r.value=n.tabs.length?n.tabs.length-1:0}function u(d,f){f&&d.fields.push(f)}function c(d){return[{label:__("Edit"),icon:"edit",onClick:()=>d.editingLabel=!0},{label:__("Remove tab"),icon:"trash-2",onClick:()=>{if(n.tabs.length==1){n.tabs[0].label="";return}n.tabs.splice(r.value,1),r.value=r.value?r.value-1:0}}]}function p(d,f,s){let h=f.columns[f.columns.length-1];return[{group:__("Section"),items:[{label:__("Edit"),icon:"edit",onClick:()=>f.editingLabel=!0},{label:f.collapsible?__("Uncollapsible"):__("Collapsible"),icon:f.collapsible?"chevron-up":"chevron-down",onClick:()=>f.collapsible=!f.collapsible},{label:f.hideLabel?__("Show label"):__("Hide label"),icon:f.hideLabel?"eye":"eye-off",onClick:()=>f.hideLabel=!f.hideLabel},{label:f.hideBorder?__("Show border"):__("Hide border"),icon:"minus",onClick:()=>f.hideBorder=!f.hideBorder},{label:__("Remove section"),icon:"trash-2",onClick:()=>{s.sections.splice(s.sections.indexOf(f),1)},condition:()=>f.editable!==!1},{label:__("Remove and move columns to {0} section",[d==0?__("next"):__("previous")]),icon:"trash-2",onClick:()=>{let v=s.sections[d==0?d+1:d-1];d==0?v.columns=f.columns.concat(v.columns):v.columns=v.columns.concat(f.columns),s.sections.splice(s.sections.indexOf(f),1)},condition:()=>f.editable!==!1&&f.columns.length},{label:__("Move to previous tab"),icon:"corner-up-left",onClick:()=>{n.tabs[r.value-1].sections.push(f),n.tabs[r.value].sections.splice(n.tabs[r.value].sections.indexOf(f),1),r.value-=1},condition:()=>n.tabs[r.value-1]},{label:__("Move to next tab"),icon:"corner-up-right",onClick:()=>{n.tabs[r.value+1].sections.push(f),n.tabs[r.value].sections.splice(n.tabs[r.value].sections.indexOf(f),1),r.value+=1},condition:()=>n.tabs[r.value+1]}]},{group:__("Column"),items:[{label:__("Add column"),icon:"columns",onClick:()=>{f.columns.push({label:"",name:"column_"+Pn(),fields:[]})},condition:()=>f.columns.length<4},{label:__("Remove column"),icon:"trash-2",onClick:()=>f.columns.pop(),condition:()=>f.columns.length>1},{label:__("Remove and move fields to previous column"),icon:"trash-2",onClick:()=>{let v=f.columns[f.columns.length-2];v.fields=v.fields.concat(h.fields),f.columns.pop()},condition:()=>f.columns.length>1&&h.fields.length},{label:__("Move to next section"),icon:"corner-up-right",onClick:()=>{s.sections[d+1].columns.push(h),f.columns.pop()},condition:()=>s.sections[d+1]},{label:__("Move to previous section"),icon:"corner-up-left",onClick:()=>{s.sections[d-1].columns.push(h),f.columns.pop()},condition:()=>s.sections[d-1]}]}]}return It(()=>n.doctype,()=>e.fetch(l.value),{immediate:!0}),(d,f)=>{const s=he("Input"),h=he("Button"),v=he("FeatherIcon");return w(),A("div",Yu,[O("div",zu,[t.tabs.length&&t.tabs[r.value].label?(w(),k(S(sn),{key:0,list:t.tabs,"item-key":"name",class:"flex items-center gap-2",onEnd:f[2]||(f[2]=m=>r.value=m.newIndex)},{item:j(({element:m,index:y})=>[O("div",{class:de(["flex items-center gap-2 cursor-pointer rounded",[r.value==y?"text-ink-gray-9 bg-surface-white shadow-sm":"text-ink-gray-5 hover:text-ink-gray-9 hover:bg-surface-white hover:shadow-sm",m.editingLabel?"p-1":"px-2 py-1"]]),onClick:g=>r.value=y},[O("div",{onDblclick:()=>m.editingLabel=!0},[m.editingLabel?(w(),A("div",Ju,[$(s,{modelValue:m.label,"onUpdate:modelValue":g=>m.label=g,onKeydown:Bn(g=>m.editingLabel=!1,["enter"]),onBlur:g=>m.editingLabel=!1,onClick:f[0]||(f[0]=nt(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","onKeydown","onBlur"]),m.editingLabel?(w(),k(h,{key:0,icon:"check",variant:"ghost",onClick:g=>m.editingLabel=!1},null,8,["onClick"])):q("",!0)])):(w(),A("div",Xu,ee(d.__(m.label)||d.__("Untitled")),1))],40,Wu),m.label&&r.value==y?(w(),k(S(Zr),{key:0,options:c(m),class:"!h-4",onClick:f[1]||(f[1]=nt(()=>{},["stop"]))},{default:j(()=>[$(h,{variant:"ghost",class:"!p-1 !h-4"},{default:j(()=>[$(v,{name:"more-horizontal",class:"h-4"})]),_:1})]),_:2},1032,["options"])):q("",!0)],10,Zu)]),_:1},8,["list"])):q("",!0),$(h,{variant:"ghost",class:"!h-6.5 !text-ink-gray-5 hover:!text-ink-gray-9",onClick:i,label:d.__("Add Tab")},{[o.value]:j(()=>[$(v,{name:"plus",class:"h-4"})]),_:2},1032,["label"])]),(w(!0),A(Me,null,Fe(t.tabs,(m,y)=>Nn((w(),A("div",{key:m.name},[$(S(sn),{list:m.sections,"item-key":"name",class:"flex flex-col gap-5.5"},{item:j(({element:g,index:b})=>[O("div",Qu,[O("div",_u,[O("div",{class:"flex h-7 max-w-fit cursor-pointer items-center gap-2 text-base font-medium leading-4 text-ink-gray-9",onDblclick:()=>g.editingLabel=!0},[g.editingLabel?(w(),A("div",ec,[$(s,{modelValue:g.label,"onUpdate:modelValue":C=>g.label=C,onKeydown:Bn(C=>g.editingLabel=!1,["enter"]),onBlur:C=>g.editingLabel=!1,onClick:f[3]||(f[3]=nt(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","onKeydown","onBlur"]),g.editingLabel?(w(),k(h,{key:0,icon:"check",variant:"ghost",onClick:C=>g.editingLabel=!1},null,8,["onClick"])):q("",!0)])):(w(),A("div",{key:0,class:de(["flex items-center gap-2",{"text-ink-gray-3":g.hideLabel||!g.label,italic:!g.label}])},[_t(ee(d.__(g.label)||d.__("No label"))+" ",1),g.collapsible?(w(),k(v,{key:0,name:"chevron-down",class:"h-4 transition-all duration-300 ease-in-out"})):q("",!0)],2))],40,qu),$(S(Zr),{options:p(b,g,m)},{default:j(()=>[$(h,{variant:"ghost"},{default:j(()=>[$(v,{name:"more-horizontal",class:"h-4"})]),_:1})]),_:2},1032,["options"])]),$(S(sn),{class:"flex gap-2",list:g.columns,group:"columns","item-key":"name"},{item:j(({element:C})=>[O("div",tc,[$(S(sn),{list:C.fields,group:"fields","item-key":"fieldname",class:"flex flex-col gap-1.5",handle:".cursor-grab"},{item:j(({element:E})=>[O("div",nc,[O("div",rc,[$(eo,{class:"h-3.5 cursor-grab"}),O("div",ac,ee(E.label),1)]),$(h,{variant:"ghost",class:"!size-4 rounded-sm",icon:"x",onClick:x=>C.fields.splice(C.fields.indexOf(E),1)},null,8,["onClick"])])]),_:2},1032,["list"]),S(e).data?(w(),k(aa,{key:0,value:"",options:S(e).data,onChange:E=>u(C,E)},{target:j(({togglePopover:E})=>[O("div",oc,[$(h,{class:"w-full !h-8 !bg-surface-modal",variant:"outline",onClick:x=>E(),label:d.__("Add Field")},{prefix:j(()=>[$(v,{name:"plus",class:"h-4"})]),_:2},1032,["onClick","label"])])]),"item-label":j(({option:E})=>[O("div",lc,[O("div",null,ee(E.label),1),O("div",ic,ee(`${E.fieldname} - ${E.fieldtype}`),1)])]),_:2},1032,["options","onChange"])):q("",!0)])]),_:2},1032,["list"])])]),_:2},1032,["list"]),O("div",sc,[$(h,{class:"w-full h-8",variant:"subtle",label:d.__("Add Section"),onClick:f[4]||(f[4]=g=>t.tabs[r.value].sections.push({label:d.__("New Section"),name:"section_"+S(Pn)(),opened:!0,columns:[{name:"column_"+S(Pn)(),fields:[]}]}))},{prefix:j(()=>[$(v,{name:"plus",class:"h-4"})]),_:1},8,["label"])])])),[[kn,r.value==y]])),128))])}}},uc={class:"flex items-center gap-2 text-2xl font-semibold leading-6 text-ink-gray-9"},cc={class:"flex flex-col gap-3"},dc={class:"flex justify-between gap-2"},fc={class:"flex flex-row-reverse gap-2"},vc={key:0},pc={__name:"GridRowFieldsModal",props:ut({doctype:{type:String,default:"CRM Lead"},parentDoctype:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:ut(["reload"],["update:modelValue"]),setup(t,{emit:n}){const r=t,o=n,a=rt(t,"modelValue"),l=U(r.doctype),e=U(!1),i=U(!1),u=U(!1);function c(){return{doctype:l.value,type:"Grid Row",parent_doctype:r.parentDoctype}}const p=Ve({url:"crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout",cache:["GridRowFieldsModal",l.value,r.parentDoctype],params:c(),onSuccess(s){p.originalData=JSON.parse(JSON.stringify(s))}});It(()=>p==null?void 0:p.data,()=>{i.value=JSON.stringify(p==null?void 0:p.data)!==JSON.stringify(p==null?void 0:p.originalData)},{deep:!0}),Ot(()=>ja(d,100)());function d(){yt(()=>{p.params=c(),p.reload()})}function f(){let s=JSON.parse(JSON.stringify(p.data));s.forEach(h=>{h.sections&&h.sections.forEach(v=>{v.columns.forEach(m=>{m.fields&&(m.fields=m.fields.map(y=>y.fieldname))})})}),e.value=!0,Yn("crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.save_fields_layout",{doctype:l.value,type:"Grid Row",layout:JSON.stringify(s)}).then(()=>{e.value=!1,a.value=!1,za("data_fields_layout_builder",{doctype:l.value}),o("reload")})}return(s,h)=>{const v=he("Button");return w(),k(S(Pr),{modelValue:a.value,"onUpdate:modelValue":h[1]||(h[1]=m=>a.value=m),options:{size:"4xl"}},{"body-title":j(()=>[O("h3",uc,[O("div",null,ee(s.__("Edit Grid Row Fields Layout")),1),i.value?(w(),k(S(Na),{key:0,label:s.__("Not Saved"),variant:"subtle",theme:"orange"},null,8,["label"])):q("",!0)])]),"body-content":j(()=>{var m;return[O("div",cc,[O("div",dc,[$(v,{label:u.value?s.__("Hide preview"):s.__("Show preview"),onClick:h[0]||(h[0]=y=>u.value=!u.value)},null,8,["label"]),O("div",fc,[$(v,{loading:e.value,label:s.__("Save"),variant:"solid",onClick:f},null,8,["loading","label"]),$(v,{label:s.__("Reset"),onClick:d},null,8,["label"])])]),(m=S(p))!=null&&m.data?(w(),A("div",vc,[u.value?(w(),k(Rr,{key:1,tabs:S(p).data,data:{},preview:!0},null,8,["tabs"])):(w(),k(po,{key:0,tabs:S(p).data,doctype:l.value},null,8,["tabs","doctype"]))])):q("",!0)])]}),_:1},8,["modelValue"])}}},mc={class:"bg-surface-modal px-4 pb-6 pt-5 sm:px-6"},gc={class:"mb-5 flex items-center justify-between"},hc={class:"text-2xl font-semibold leading-6 text-ink-gray-9"},yc={class:"flex items-center gap-1"},bc={__name:"GridRowModal",props:ut({index:Number,data:Object,doctype:String,parentDoctype:String},{modelValue:{},modelModifiers:{},showGridRowFieldsModal:{},showGridRowFieldsModalModifiers:{}}),emits:["update:modelValue","update:showGridRowFieldsModal"],setup(t){const n=t,{isManager:r}=Ht(),o=rt(t,"modelValue"),a=rt(t,"showGridRowFieldsModal"),l=Ve({url:"crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout",cache:["Grid Row",n.doctype,n.parentDoctype],params:{doctype:n.doctype,type:"Grid Row",parent_doctype:n.parentDoctype},auto:!0});function e(){a.value=!0,yt(()=>o.value=!1)}return(i,u)=>{const c=he("Button"),p=he("FeatherIcon"),d=he("Dialog");return w(),k(d,{modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=f=>o.value=f),options:{size:"4xl"}},{body:j(()=>[O("div",mc,[O("div",gc,[O("div",null,[O("h3",hc,ee(i.__("Editing Row {0}",[t.index+1])),1)]),O("div",yc,[S(r)()?(w(),k(c,{key:0,variant:"ghost",class:"w-7",onClick:e},{icon:j(()=>[$($r)]),_:1})):q("",!0),$(c,{variant:"ghost",class:"w-7",onClick:u[0]||(u[0]=f=>o.value=!1)},{icon:j(()=>[$(p,{name:"x",class:"size-4"})]),_:1})])]),O("div",null,[S(l).data?(w(),k(Rr,{key:0,tabs:S(l).data,data:t.data,doctype:t.doctype,isGridRow:!0},null,8,["tabs","data","doctype"])):q("",!0)])])]),_:1},8,["modelValue"])}}},$n=U(!1),mo=U(""),go=U({}),ho=U(null);function yo(t,n,r,o){t&&(r==null||r(),mo.value=t,go.value=n||{},ho.value=o||null,$n.value=!0)}const xc={class:"flex flex-col flex-1 text-base"},Cc={key:0,class:"mb-1.5 text-sm text-ink-gray-5"},Sc={key:1,class:"rounded border border-outline-gray-modals"},wc={class:"grid-header flex items-center rounded-t-[7px] bg-surface-gray-2 text-ink-gray-5 truncate"},Ec={class:"inline-flex items-center justify-center border-r border-outline-gray-2 h-8 p-2 w-12"},Oc={class:"inline-flex items-center justify-center border-r border-outline-gray-2 py-2 px-1 w-12"},Ic=["title"],Dc={key:0,class:"text-ink-red-2"},Mc={class:"w-12"},Tc=["onClick"],Pc={class:"grid-row-checkbox inline-flex h-9.5 items-center bg-surface-white justify-center border-r border-outline-gray-modals p-2 w-12"},$c={class:"flex h-9.5 items-center justify-center bg-surface-white border-r border-outline-gray-modals py-2 px-1 text-sm text-ink-gray-8 w-12"},Ac={class:"cursor-pointer"},Rc={key:3,class:"flex h-full bg-surface-white justify-center items-center"},Lc={class:"edit-row w-12"},Fc={key:1,class:"flex flex-col items-center rounded p-5 text-sm text-ink-gray-5"},Vc={key:2,class:"mt-2 flex flex-row gap-2"},jc={__name:"Grid",props:ut({label:{type:String,default:""},doctype:{type:String,required:!0},parentDoctype:{type:String,required:!0},parentFieldname:{type:String,required:!0}},{modelValue:{},modelModifiers:{},parent:{},parentModifiers:{}}),emits:["update:modelValue","update:parent"],setup(t){var z;const n=t,r=ze("triggerOnChange",()=>{}),o=ze("triggerOnRowAdd",()=>{}),a=ze("triggerOnRowRemove",()=>{}),{getGridViewSettings:l,getFields:e,getFloatWithPrecision:i,getCurrencyWithPrecision:u,getFormattedCurrency:c,getGridSettings:p}=Ut(n.doctype);Ut(n.parentDoctype);const{users:d,getUser:f}=Ht(),s=rt(t,"modelValue"),h=rt(t,"parent");tt("parentDoc",h);const v=U(new Array(((z=s.value)==null?void 0:z.length)||[]).fill(!1)),m=Mt(new Set),y=U(!1),g=U(!1),b=X(()=>p()),C=X(()=>{let P=l(n.parentDoctype),Y=e();return P.length?P.map(we=>x(Y.find(ye=>ye.fieldname===we.fieldname))):(Y==null?void 0:Y.filter(te=>te.in_list_view).map(te=>x(te)))||[]}),E=X(()=>{var P;return((P=e())==null?void 0:P.map(Y=>x(Y)))||[]});function x(P){var Y;return P.fieldtype==="Link"&&P.options!=="User"&&(P.create||(P.create=(te,we,ye,xe)=>{const K=be=>{be&&N(be.name,we,ye)};yo(we.options,te,xe,K)})),P.fieldtype==="Link"&&P.options==="User"&&(P.fieldtype="User",P.link_filters=JSON.stringify({...P.link_filters?JSON.parse(P.link_filters):{},name:["in",(Y=d.data.crmUsers)==null?void 0:Y.map(te=>te.name)]})),{...P,filters:P.link_filters&&JSON.parse(P.link_filters),placeholder:P.placeholder||P.label}}const R=X(()=>{var Y;if(!((Y=C.value)!=null&&Y.length))return"1fr";let P=l(n.parentDoctype);return P.length?P.map(te=>`minmax(0, ${te.columns||2}fr)`).join(" "):C.value.map(()=>"minmax(0, 2fr)").join(" ")}),V=X(()=>{var P;return(P=s.value)!=null&&P.length?s.value.length===m.size:!1}),M=X(()=>m.size>0),B=P=>{var Y;P?(Y=s.value)==null||Y.forEach(te=>m.add(te.name)):m.clear()},Z=P=>{m.has(P.name)?m.delete(P.name):m.add(P.name)},le=()=>{var Y;const P={};(Y=E.value)==null||Y.forEach(te=>{te.fieldtype==="Check"?P[te.fieldname]=!1:P[te.fieldname]="",te.default&&(P[te.fieldname]=ae(te.default,te.fieldtype))}),P.name=Pn(10),v.value.push(!1),P.__islocal=!0,P.idx=s.value.length+1,P.doctype=n.doctype,P.parentfield=n.parentFieldname,P.parenttype=n.parentDoctype,s.value.push(P),o(P)},H=()=>{s.value=s.value.filter(P=>!m.has(P.name)),a(m,s.value),v.value.pop(),m.clear()};function N(P,Y,te){r(Y.fieldname,P,te)}function ae(P,Y){if(["Float","Currency","Percent"].includes(Y))return Nt(P);if(Y==="Check"){if(["1","true","True"].includes(P))return!0;if(["0","false","False"].includes(P))return!1}else{if(Y==="Int")return parseInt(P);if(P==="Today"&&Y==="Date")return gt().format("YYYY-MM-DD");if(["Now","now"].includes(P)&&Y==="Datetime")return gt().format("YYYY-MM-DD HH:mm:ss");if(["Now","now"].includes(P)&&Y==="Time")return gt().format("HH:mm:ss");if(Y==="Date")return gt(P).format("YYYY-MM-DD");if(Y==="Datetime")return gt(P).format("YYYY-MM-DD HH:mm:ss");if(Y==="Time")return gt(P).format("HH:mm:ss")}return P}return(P,Y)=>{var we,ye,xe;const te=he("Button");return w(),A("div",xc,[t.label?(w(),A("div",Cc,ee(P.__(t.label)),1)):q("",!0),(we=C.value)!=null&&we.length?(w(),A("div",Sc,[O("div",wc,[O("div",Ec,[$(S(Vr),{class:"cursor-pointer duration-300",modelValue:V.value,onClick:Y[0]||(Y[0]=nt(K=>B(K.target.checked),["stop"]))},null,8,["modelValue"])]),O("div",Oc,ee(P.__("No")),1),O("div",{class:"grid w-full truncate",style:va({gridTemplateColumns:R.value})},[(w(!0),A(Me,null,Fe(C.value,K=>(w(),A("div",{class:de(["border-r border-outline-gray-2 p-2 truncate",["Int","Float","Currency","Percent"].includes(K.fieldtype)?"text-right":""]),key:K.fieldname,title:K.label},[_t(ee(P.__(K.label))+" ",1),K.reqd||K.mandatory_depends_on&&K.mandatory_via_depends_on?(w(),A("span",Dc,"*")):q("",!0)],10,Ic))),128))],4),O("div",Mc,[$(te,{class:"flex w-full items-center justify-center rounded !bg-surface-gray-2 border-0",variant:"outline",onClick:Y[1]||(Y[1]=K=>y.value=!0)},{icon:j(()=>[$(S(Bt),{name:"settings",class:"size-4 text-ink-gray-7"})]),_:1})])]),(ye=s.value)!=null&&ye.length?(w(),k(S(sn),{key:0,class:"w-full",modelValue:s.value,"onUpdate:modelValue":Y[3]||(Y[3]=K=>s.value=K),delay:S(Hu)()?200:0,group:"rows","item-key":"name"},{item:j(({element:K,index:be})=>[O("div",{class:"grid-row flex cursor-pointer items-center border-b border-outline-gray-modals bg-surface-modals last:rounded-b last:border-b-0",onClick:nt(()=>{b.value.editable_grid||(v.value[be]=!0)},["stop"])},[O("div",Pc,[$(S(Vr),{class:"cursor-pointer duration-300",modelValue:m.has(K.name),onClick:nt(L=>Z(K),["stop"])},null,8,["modelValue","onClick"])]),O("div",$c,ee(be+1),1),O("div",{class:"grid w-full h-9.5",style:va({gridTemplateColumns:R.value})},[(w(!0),A(Me,null,Fe(C.value,L=>(w(),A("div",{class:"border-r border-outline-gray-modals h-full",key:L.fieldname},[L.read_only&&!["Int","Float","Currency","Percent","Check"].includes(L.fieldtype)?(w(),k(S(wn),{key:0,type:"text",placeholder:L.placeholder,modelValue:K[L.fieldname],"onUpdate:modelValue":W=>K[L.fieldname]=W,disabled:!0},null,8,["placeholder","modelValue","onUpdate:modelValue"])):["Link","Dynamic Link"].includes(L.fieldtype)?(w(),k(Gn,{key:1,class:"text-sm text-ink-gray-8",value:K[L.fieldname],doctype:L.fieldtype=="Link"?L.options:K[L.options],filters:L.filters,onChange:W=>N(W,L,K),onCreate:(W,Ee)=>L.create(P.v,L,K,Ee)},null,8,["value","doctype","filters","onChange","onCreate"])):L.fieldtype==="User"?(w(),k(Gn,{key:2,class:"form-control",value:S(f)(K[L.fieldname]).full_name,doctype:L.options,filters:L.filters,onChange:W=>N(W,L,K),placeholder:L.placeholder,hideMe:!0},{prefix:j(()=>[$(br,{class:"mr-2",user:K[L.fieldname],size:"sm"},null,8,["user"])]),"item-prefix":j(({option:W})=>[$(br,{class:"mr-2",user:W.value,size:"sm"},null,8,["user"])]),"item-label":j(({option:W})=>[$(S(Un),{text:W.value},{default:j(()=>[O("div",Ac,ee(S(f)(W.value).full_name),1)]),_:2},1032,["text"])]),_:2},1032,["value","doctype","filters","onChange","placeholder"])):L.fieldtype==="Check"?(w(),A("div",Rc,[$(S(Vr),{class:"cursor-pointer duration-300",modelValue:K[L.fieldname],"onUpdate:modelValue":W=>K[L.fieldname]=W,disabled:!b.value.editable_grid,onChange:W=>N(W.target.checked,L,K)},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"])])):L.fieldtype==="Date"?(w(),k(S(Ba),{key:4,value:K[L.fieldname],"icon-left":"",variant:"outline",formatter:W=>S(Ir)(W,"",!0),"input-class":"border-none text-sm text-ink-gray-8",onChange:W=>N(W,L,K)},null,8,["value","formatter","onChange"])):L.fieldtype==="Datetime"?(w(),k(S(Ha),{key:5,value:K[L.fieldname],"icon-left":"",variant:"outline",formatter:W=>S(Ir)(W,"",!0,!0),"input-class":"border-none text-sm text-ink-gray-8",onChange:W=>N(W,L,K)},null,8,["value","formatter","onChange"])):["Small Text","Text","Long Text","Code"].includes(L.fieldtype)?(w(),k(S(wn),{key:6,rows:"1",type:"textarea",variant:"outline",value:K[L.fieldname],onChange:W=>N(W.target.value,L,K)},null,8,["value","onChange"])):L.fieldtype==="Select"?(w(),k(S(wn),{key:7,class:"text-sm text-ink-gray-8",type:"select",variant:"outline",modelValue:K[L.fieldname],"onUpdate:modelValue":W=>K[L.fieldname]=W,options:L.options,onChange:W=>N(W.target.value,L,K)},null,8,["modelValue","onUpdate:modelValue","options","onChange"])):L.fieldtype==="Password"?(w(),k(yr,{key:8,variant:"outline",value:K[L.fieldname],disabled:!!L.read_only,onChange:W=>N(W.target.value,L,K)},null,8,["value","disabled","onChange"])):L.fieldtype==="Int"?(w(),k(jt,{key:9,class:"[&_input]:text-right",type:"text",variant:"outline",value:K[L.fieldname]||"0",disabled:!!L.read_only,onChange:W=>N(W.target.value,L,K)},null,8,["value","disabled","onChange"])):L.fieldtype==="Percent"?(w(),k(jt,{key:10,class:"[&_input]:text-right",type:"text",variant:"outline",value:S(i)(L.fieldname,K),formattedValue:(K[L.fieldname]||"0")+"%",disabled:!!L.read_only,onChange:W=>N(S(Nt)(W.target.value),L,K)},null,8,["value","formattedValue","disabled","onChange"])):L.fieldtype==="Float"?(w(),k(jt,{key:11,class:"[&_input]:text-right",type:"text",variant:"outline",value:S(i)(L.fieldname,K),formattedValue:K[L.fieldname],disabled:!!L.read_only,onChange:W=>N(S(Nt)(W.target.value),L,K)},null,8,["value","formattedValue","disabled","onChange"])):L.fieldtype==="Currency"?(w(),k(jt,{key:12,class:"[&_input]:text-right",type:"text",variant:"outline",value:S(u)(L.fieldname,K),formattedValue:S(c)(L.fieldname,K,h.value),disabled:!!L.read_only,onChange:W=>N(S(Nt)(W.target.value),L,K)},null,8,["value","formattedValue","disabled","onChange"])):(w(),k(S(wn),{key:13,class:"text-sm text-ink-gray-8",type:"text",variant:"outline",modelValue:K[L.fieldname],"onUpdate:modelValue":W=>K[L.fieldname]=W,options:L.options,onChange:W=>N(W.target.value,L,K)},null,8,["modelValue","onUpdate:modelValue","options","onChange"]))]))),128))],4),O("div",Lc,[$(te,{class:"flex w-full items-center justify-center rounded border-0",variant:"outline",onClick:L=>v.value[be]=!0},{icon:j(()=>[$($r,{class:"text-ink-gray-7"})]),_:2},1032,["onClick"])]),v.value[be]?(w(),k(bc,{key:0,modelValue:v.value[be],"onUpdate:modelValue":L=>v.value[be]=L,showGridRowFieldsModal:g.value,"onUpdate:showGridRowFieldsModal":Y[2]||(Y[2]=L=>g.value=L),index:be,data:K,doctype:t.doctype,parentDoctype:t.parentDoctype},null,8,["modelValue","onUpdate:modelValue","showGridRowFieldsModal","index","data","doctype","parentDoctype"])):q("",!0)],8,Tc)]),_:1},8,["modelValue","delay"])):(w(),A("div",Fc,ee(P.__("No Data")),1))])):q("",!0),(xe=C.value)!=null&&xe.length?(w(),A("div",Vc,[M.value?(w(),k(te,{key:0,label:P.__("Delete"),variant:"solid",theme:"red",onClick:H},null,8,["label"])):q("",!0),$(te,{label:P.__("Add Row"),onClick:le},null,8,["label"])])):q("",!0),g.value?(w(),k(pc,{key:3,modelValue:g.value,"onUpdate:modelValue":Y[4]||(Y[4]=K=>g.value=K),doctype:t.doctype,parentDoctype:t.parentDoctype},null,8,["modelValue","doctype","parentDoctype"])):q("",!0),y.value?(w(),k(Nu,{key:4,modelValue:y.value,"onUpdate:modelValue":Y[5]||(Y[5]=K=>y.value=K),doctype:t.doctype,parentDoctype:t.parentDoctype},null,8,["modelValue","doctype","parentDoctype"])):q("",!0)])}}},Nc=Le(jc,[["__scopeId","data-v-ec0d1460"]]),Sn=Mt({});function kc(t,n="Form"){const r=jo({doctype:"Mira Form Script",cache:["Form Scripts",t,n],fields:["name","dt","view","script"],filters:{view:n,dt:t,enabled:1},onSuccess:p=>{for(let d of p)Sn[t]||(Sn[t]={}),Sn[t][d.name]=d||{}},onError:p=>{console.error(`Error loading Mira Form Scripts for ${t} (view: ${n}):`,p)}});!Sn[t]&&!r.loading&&r.fetch();async function o(p,d={}){await r.list.promise;let f=Sn[t];if(!f||Object.keys(f).length===0)return null;const{$dialog:s,$socket:h,makeCall:v}=Xa();return d.createDialog=s,d.toast=Hn,d.socket=h,d.router=No,d.call=Yn,d.throwError=m=>{throw Hn.error(m||__("An error occurred")),new Error(m||__("An error occurred"))},d.Mira={makePhoneCall:v},a(f,p,d)}function a(p,d,f){var v;const s=[];let h=null;for(let m in p){let y=(v=p[m])==null?void 0:v.script;if(y)try{const g=i(y);if(!g)continue;g.forEach(b=>{const C=u(y,b,f);if(!C)return;let E=null,x=t.replace(/\s+/g,""),{doctypeMeta:R}=Ut(t),V=b!==x;if(V){if(!s.length){console.error(__(" No class found for doctype: {0}, it is mandatory to have a class for the parent doctype. it can be empty, but it should be present.",[t]));return}E=s[h]}else h=s.length||0;const M=l(C,R,d,E,V);s.push(M)})}catch(g){console.error(__("Failed to load form controller: {0}",[g]))}}return s}function l(p,d,f,s=null,h=!1){f.actions=f.actions||[],f.statuses=f.statuses||[];let v=new p;v._originalDocumentContext=f,v._isChildDoctype=h;for(const y in f)f.hasOwnProperty(y)&&(v[y]=f[y]);v.getMeta=async y=>(d[y]||await Ut(y),d[y]);const m=()=>f.doc;return h?(v.doc=c(m,s,v),s._childInstances||(s._childInstances=[]),s._childInstances.push(v)):v.doc=c(m,v),v}function e(p){typeof p.prototype.getRow!="function"&&(p.prototype.getRow=function(d,f){var v,m;f=f||this.currentRowIdx;let s=null;if(this instanceof Array){const{getFields:y}=Ut(this.doc.doctype);let b=y().find(C=>C.fieldname===d);s=(v=b==null?void 0:b.options)==null?void 0:v.replace(/\s+/g,""),!f&&s&&(f=(m=this.find(C=>C.constructor.name===s))==null?void 0:m.currentRowIdx)}if(!this.doc[d])return console.warn(__(" No data found for parent field: {0}",[d])),null;const h=this.doc[d].find(y=>y.idx===f);return h?(h.parent=h.parent||this.doc.name,this instanceof Array&&s?c(h,this.find(y=>y.constructor.name===s)):c(h,this)):(console.warn(__(" No row found for idx: {0} in parent field: {1}",[f,d])),null)}),Object.prototype.hasOwnProperty.call(p.prototype,"actions")||Object.defineProperty(p.prototype,"actions",{configurable:!0,enumerable:!0,get(){return this._originalDocumentContext?this._originalDocumentContext.actions:(console.warn("Mira Script: _originalDocumentContext not found on instance for actions getter."),[])},set(d){if(!this._originalDocumentContext){console.warn("Mira Script: _originalDocumentContext not found on instance for actions setter.");return}if(!Array.isArray(d)){console.warn('Mira Script: "actions" property must be an array. Value was not set.',d),this._originalDocumentContext.actions=[];return}this._originalDocumentContext.actions=d}}),Object.prototype.hasOwnProperty.call(p.prototype,"statuses")||Object.defineProperty(p.prototype,"statuses",{configurable:!0,enumerable:!0,get(){return this._originalDocumentContext?this._originalDocumentContext.statuses:(console.warn("Mira Script: _originalDocumentContext not found on instance for statuses getter."),[])},set(d){if(!this._originalDocumentContext){console.warn("Mira Script: _originalDocumentContext not found on instance for statuses setter.");return}if(!Array.isArray(d)){console.warn('Mira Script: "statuses" property must be an array. Value was not set.',d),this._originalDocumentContext.statuses=[];return}this._originalDocumentContext.statuses=d}})}function i(p){return[...p.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"").matchAll(/class\s+([A-Za-z0-9_]+)/g)].map(f=>f[1])||[]}function u(p,d,f={}){const s=Object.keys(f),h=Object.values(f),v=`
		${p}
		return ${d};
	`,m=new Function(...s,v)(...h);return e(m),m}function c(p,d,f=null){const s=typeof p=="function",h=()=>s?p():p;return new Proxy({},{get(v,m){const y=h();if(y)return m==="trigger"?(y&&"trigger"in y&&console.warn(__(' Avoid using "trigger" as a field name  it conflicts with the built-in trigger() method.')),(g,...b)=>{const C=d[g];if(typeof C=="function")return C.apply(d,b);console.warn(__(' Method "{0}" not found in class.',[g]))}):m==="getRow"?d.getRow.bind(f||d._childInstances||d):y[m]},set(v,m,y){const g=h();return g?(g[m]=y,!0):!1},has(v,m){const y=h();return y?m in y:!1},ownKeys(v){const m=h();return m?Reflect.ownKeys(m):[]},getOwnPropertyDescriptor(v,m){const y=h();if(y)return Reflect.getOwnPropertyDescriptor(y,m)}})}return{scripts:r,setupScript:o,setupFormController:l}}const mt={},Wt={};function Uc(t,n){const{setupScript:r}=kc(t);mt[t]=mt[t]||{},mt[t][n||""]||(n?mt[t][n]=La({doctype:t,name:n,onSuccess:async()=>await a(),setValue:{onSuccess:()=>{i(),Hn.success(__("Document updated successfully"))},onError:v=>{let m=__("Error updating document");if(v.exc_type=="MandatoryError"){const y=v.messages.map(g=>g.split(": ")[2].trim()).join(", ");m=__("Mandatory field error: {0}",[y])}Hn.error(m),console.error(v)}}}):(mt[t][""]=Mt({doc:{}}),a()));const o=Ve({url:"crm.api.doc.get_assigned_users",cache:`assignees:${t}:${n}`,auto:!!n,params:{doctype:t,name:n},transform:v=>Bu(v)});async function a(){if(Wt[t]&&typeof Wt[t][n||""]=="object")return;Wt[t]||(Wt[t]={}),Wt[t][n||""]={};const v=await r(mt[t][n||""]);if(!v||v.length===0)return;const m={};for(const y of v){const g=y.constructor.name;m[g]||(m[g]=[]),m[g].push(y)}Wt[t][n||""]=m,e()}function l(v=null){var b;const y=((v==null?void 0:v.doctype)||t).replace(/\s+/g,""),g=(b=Wt[t])==null?void 0:b[n||""];return typeof g=="object"&&g!==null&&!Array.isArray(g)?g[y]||[]:[]}async function e(){await h(async function(){var m,y,g;await(((m=this.onLoad)==null?void 0:m.call(this))||((y=this.on_load)==null?void 0:y.call(this))||((g=this.onload)==null?void 0:g.call(this)))})}async function i(){await h(async function(){var m,y;await(((m=this.onSave)==null?void 0:m.call(this))||((y=this.on_save)==null?void 0:y.call(this)))})}async function u(){await h(async function(){var m;await((m=this.refresh)==null?void 0:m.call(this))})}async function c(v,m,y){const g=mt[t][n||""].doc[v];mt[t][n||""].doc[v]=m;const b=async function(){var C;this.value=m,this.oldValue=g,y&&(this.currentRowIdx=y.idx),await((C=this[v])==null?void 0:C.call(this))};try{await h(b,y)}catch(C){throw mt[t][n||""].doc[v]=g,console.error(b),C}}async function p(v){await h(async function(){var y;this.currentRowIdx=v.idx,this.value=v,await((y=this[v.parentfield+"_add"])==null?void 0:y.call(this))},v)}async function d(v,m){await h(async function(){var g;if(v.size===1){const b=Array.from(v)[0];this.currentRowIdx=m.find(C=>C.name===b).idx}else delete this.currentRowIdx;this.selectedRows=Array.from(v),this.rows=m,await((g=this[m[0].parentfield+"_remove"])==null?void 0:g.call(this))},m[0])}async function f(){const v=Array.from(arguments);await h(async function(){var y,g;await(((y=this.onCreateLead)==null?void 0:y.call(this,...v))||((g=this.on_create_lead)==null?void 0:g.call(this,...v)))})}async function s(){const v=Array.from(arguments);await h(async function(){var y,g;await(((y=this.convertToDeal)==null?void 0:y.call(this,...v))||((g=this.on_convert_to_deal)==null?void 0:g.call(this,...v)))})}async function h(v,m=null){const y=l(m);if(!y.length)return;const g=y.map(b=>async()=>await v.call(b));await Ku(g)}return{document:mt[t][n||""],assignees:o,getControllers:l,triggerOnLoad:e,triggerOnSave:i,triggerOnRefresh:u,triggerOnChange:c,triggerOnRowAdd:p,triggerOnRowRemove:d,setupFormScript:a,triggerOnCreateLead:f,triggerConvertToDeal:s}}const Bc={key:0,class:"field"},Hc={key:0,class:"mb-2 text-sm text-ink-gray-5"},Gc={key:0,class:"text-ink-red-2"},Kc={key:4,class:"flex items-center gap-2"},Yc={key:0,class:"text-ink-red-3"},zc={key:5,class:"flex gap-1"},Zc={class:"cursor-pointer"},Wc={__name:"Field",props:{field:Object},setup(t){const n=t,r=ze("data"),o=ze("doctype"),a=ze("preview"),l=ze("isGridRow"),{getFormattedPercent:e,getFormattedFloat:i,getFormattedCurrency:u}=Ut(o),{users:c,getUser:p}=Ht();let d,f;if(l)d=ze("triggerOnChange",()=>{}),f=ze("parentDoc");else{const{triggerOnChange:g,triggerOnRowAdd:b,triggerOnRowRemove:C}=Uc(o,r.value.name);d=g,tt("triggerOnChange",d),tt("triggerOnRowAdd",b),tt("triggerOnRowRemove",C)}const s=X(()=>{var C;let g=n.field;g.fieldtype=="Select"&&typeof g.options=="string"&&(g.options=g.options.split(`
`).map(E=>({label:E,value:E})),g.options[0].value!==""&&g.options.unshift({label:"",value:""})),g.fieldtype==="Link"&&g.options==="User"&&(g.fieldtype="User",g.link_filters=JSON.stringify({...g.link_filters?JSON.parse(g.link_filters):{},name:["in",(C=c.data.crmUsers)==null?void 0:C.map(E=>E.name)]})),g.fieldtype==="Link"&&g.options!=="User"&&(g.create||(g.create=(E,x)=>{const R=V=>{V&&m(V.name,g)};yo(g.options,E,x,R)}));let b={...g,filters:g.link_filters&&JSON.parse(g.link_filters),placeholder:g.placeholder||g.label,display_via_depends_on:Ma(g.depends_on,r.value),mandatory_via_depends_on:Ma(g.mandatory_depends_on,r.value)};return b.visible=h(b),b});function h(g){return a.value?!0:(g.fieldtype=="Check"||g.read_only&&r.value[g.fieldname]||!g.read_only)&&(!g.depends_on||g.display_via_depends_on)&&!g.hidden}const v=g=>g.placeholder?__(g.placeholder):["Select","Link"].includes(g.fieldtype)?__("Select {0}",[__(g.label)]):__("Enter {0}",[__(g.label)]);function m(g,b){l?d(b.fieldname,g,r.value):d(b.fieldname,g)}function y(g,b){return b.fieldtype==="Duration"?g||0:g}return(g,b)=>{const C=he("FormControl"),E=he("Button");return s.value.visible?(w(),A("div",Bc,[s.value.fieldtype!="Check"?(w(),A("div",Hc,[_t(ee(g.__(s.value.label))+" ",1),s.value.reqd||s.value.mandatory_depends_on&&s.value.mandatory_via_depends_on?(w(),A("span",Gc,"*")):q("",!0)])):q("",!0),s.value.read_only&&!["Int","Float","Currency","Percent","Check"].includes(s.value.fieldtype)?(w(),k(C,{key:1,type:"text",placeholder:v(s.value),modelValue:S(r)[s.value.fieldname],"onUpdate:modelValue":b[0]||(b[0]=x=>S(r)[s.value.fieldname]=x),disabled:!0,description:s.value.description},null,8,["placeholder","modelValue","description"])):s.value.fieldtype==="Table"?(w(),k(Nc,{key:2,modelValue:S(r)[s.value.fieldname],"onUpdate:modelValue":b[1]||(b[1]=x=>S(r)[s.value.fieldname]=x),parent:S(r),"onUpdate:parent":b[2]||(b[2]=x=>Jt(r)?r.value=x:null),doctype:s.value.options,parentDoctype:S(o),parentFieldname:s.value.fieldname},null,8,["modelValue","parent","doctype","parentDoctype","parentFieldname"])):s.value.fieldtype==="Select"?(w(),k(C,{key:3,type:"select",class:de(["form-control",s.value.prefix?"prefix":""]),options:s.value.options,modelValue:S(r)[s.value.fieldname],"onUpdate:modelValue":b[3]||(b[3]=x=>S(r)[s.value.fieldname]=x),onChange:b[4]||(b[4]=x=>m(x.target.value,s.value)),placeholder:v(s.value),description:s.value.description},Dr({_:2},[s.value.prefix?{name:"prefix",fn:j(()=>[$(vs,{class:de(s.value.prefix)},null,8,["class"])]),key:"0"}:void 0]),1032,["class","options","modelValue","placeholder","description"])):s.value.fieldtype=="Check"?(w(),A("div",Kc,[$(C,{class:"form-control",type:"checkbox",modelValue:S(r)[s.value.fieldname],"onUpdate:modelValue":b[5]||(b[5]=x=>S(r)[s.value.fieldname]=x),onChange:b[6]||(b[6]=x=>m(x.target.checked,s.value)),disabled:!!s.value.read_only,description:s.value.description},null,8,["modelValue","disabled","description"]),O("label",{class:"text-sm text-ink-gray-5",onClick:b[7]||(b[7]=()=>{s.value.read_only||(S(r)[s.value.fieldname]=!S(r)[s.value.fieldname])})},[_t(ee(g.__(s.value.label))+" ",1),s.value.mandatory?(w(),A("span",Yc,"*")):q("",!0)])])):["Link","Dynamic Link"].includes(s.value.fieldtype)?(w(),A("div",zc,[$(Gn,{class:"form-control flex-1 truncate",value:S(r)[s.value.fieldname],doctype:s.value.fieldtype=="Link"?s.value.options:S(r)[s.value.options],filters:s.value.filters,onChange:b[8]||(b[8]=x=>m(x,s.value)),placeholder:v(s.value),onCreate:s.value.create},null,8,["value","doctype","filters","placeholder","onCreate"]),S(r)[s.value.fieldname]&&s.value.edit?(w(),k(E,{key:0,class:"shrink-0",label:g.__("Edit"),onClick:b[9]||(b[9]=x=>s.value.edit(S(r)[s.value.fieldname]))},{prefix:j(()=>[$($r,{class:"h-4 w-4"})]),_:1},8,["label"])):q("",!0)])):s.value.fieldtype==="Table MultiSelect"?(w(),k(Us,{key:6,modelValue:S(r)[s.value.fieldname],"onUpdate:modelValue":b[10]||(b[10]=x=>S(r)[s.value.fieldname]=x),doctype:s.value.options,onChange:b[11]||(b[11]=x=>m(x,s.value))},null,8,["modelValue","doctype"])):s.value.fieldtype==="User"?(w(),k(Gn,{key:7,class:"form-control",value:S(r)[s.value.fieldname]&&S(p)(S(r)[s.value.fieldname]).full_name,doctype:s.value.options,filters:s.value.filters,onChange:b[12]||(b[12]=x=>m(x,s.value)),placeholder:v(s.value),hideMe:!0},{prefix:j(()=>[S(r)[s.value.fieldname]?(w(),k(br,{key:0,class:"mr-2",user:S(r)[s.value.fieldname],size:"sm"},null,8,["user"])):q("",!0)]),"item-prefix":j(({option:x})=>[$(br,{class:"mr-2",user:x.value,size:"sm"},null,8,["user"])]),"item-label":j(({option:x})=>[$(S(Un),{text:x.value},{default:j(()=>[O("div",Zc,ee(S(p)(x.value).full_name),1)]),_:2},1032,["text"])]),_:1},8,["value","doctype","filters","placeholder"])):s.value.fieldtype==="Datetime"?(w(),k(S(Ha),{key:8,value:S(r)[s.value.fieldname],formatter:x=>S(Ir)(x,"",!0,!0),placeholder:v(s.value),"input-class":"border-none",onChange:b[13]||(b[13]=x=>m(x,s.value))},null,8,["value","formatter","placeholder"])):s.value.fieldtype==="Date"?(w(),k(S(Ba),{key:9,value:S(r)[s.value.fieldname],formatter:x=>S(Ir)(x,"",!0),placeholder:v(s.value),"input-class":"border-none",onChange:b[14]||(b[14]=x=>m(x,s.value))},null,8,["value","formatter","placeholder"])):["Small Text","Text","Long Text","Code"].includes(s.value.fieldtype)?(w(),k(C,{key:10,type:"textarea",value:S(r)[s.value.fieldname],placeholder:v(s.value),description:s.value.description,onChange:b[15]||(b[15]=x=>m(x.target.value,s.value))},null,8,["value","placeholder","description"])):s.value.fieldtype==="Password"?(w(),k(yr,{key:11,value:S(r)[s.value.fieldname],placeholder:v(s.value),description:s.value.description,onChange:b[16]||(b[16]=x=>m(x.target.value,s.value))},null,8,["value","placeholder","description"])):s.value.fieldtype==="Int"?(w(),k(jt,{key:12,type:"text",placeholder:v(s.value),value:S(r)[s.value.fieldname]||"0",disabled:!!s.value.read_only,description:s.value.description,onChange:b[17]||(b[17]=x=>m(x.target.value,s.value))},null,8,["placeholder","value","disabled","description"])):s.value.fieldtype==="Percent"?(w(),k(jt,{key:13,type:"text",value:S(e)(s.value.fieldname,S(r)),placeholder:v(s.value),disabled:!!s.value.read_only,description:s.value.description,onChange:b[18]||(b[18]=x=>m(S(Nt)(x.target.value),s.value))},null,8,["value","placeholder","disabled","description"])):s.value.fieldtype==="Float"?(w(),k(jt,{key:14,type:"text",value:S(i)(s.value.fieldname,S(r)),placeholder:v(s.value),disabled:!!s.value.read_only,description:s.value.description,onChange:b[19]||(b[19]=x=>m(S(Nt)(x.target.value),s.value))},null,8,["value","placeholder","disabled","description"])):s.value.fieldtype==="Currency"?(w(),k(jt,{key:15,type:"text",value:S(u)(s.value.fieldname,S(r),S(f)),placeholder:v(s.value),disabled:!!s.value.read_only,description:s.value.description,onChange:b[20]||(b[20]=x=>m(S(Nt)(x.target.value),s.value))},null,8,["value","placeholder","disabled","description"])):(w(),k(C,{key:16,type:"text",placeholder:v(s.value),value:y(S(r)[s.value.fieldname],s.value),disabled:!!s.value.read_only,description:s.value.description,onChange:b[21]||(b[21]=x=>m(x.target.value,s.value))},null,8,["placeholder","value","disabled","description"]))])):q("",!0)}}},Xc=Le(Wc,[["__scopeId","data-v-b0087fa5"]]),Jc={class:"column flex flex-col gap-4 w-full"},Qc={key:0,class:"text-ink-gray-9 max-w-fit text-base"},_c={__name:"Column",props:{column:Object},setup(t){return(n,r)=>(w(),A("div",Jc,[t.column.label&&!t.column.hideLabel?(w(),A("div",Qc,ee(t.column.label),1)):q("",!0),(w(!0),A(Me,null,Fe(t.column.fields,o=>(w(),k(Xc,{key:o.fieldname,field:o,"data-name":o.fieldname},null,8,["field","data-name"]))),128))]))}},qc={__name:"Section",props:{section:Object},setup(t){const n=ze("hasTabs");return(r,o)=>t.section.hidden?q("",!0):(w(),A("div",{key:0,class:de(["section",[t.section.hideBorder?"pt-4":"border-t border-outline-gray-modals mt-5 pt-5"]])},[$(xl,{class:de(["flex sm:flex-row flex-col gap-4 text-lg font-medium",{"px-3 sm:px-5":S(n)}]),labelClass:["text-lg font-medium",{"px-3 sm:px-5":S(n)}],label:t.section.label,hideLabel:t.section.hideLabel||!t.section.label,opened:t.section.opened,collapsible:t.section.collapsible,collapseIconPosition:"right"},{default:j(()=>[(w(!0),A(Me,null,Fe(t.section.columns,a=>(w(),k(_c,{key:a.name,class:de({"mt-6":t.section.label&&!t.section.hideLabel}),column:a,"data-name":a.name},null,8,["class","column","data-name"]))),128))]),_:1},8,["class","labelClass","label","hideLabel","opened","collapsible"])],2))}};const ed={__name:"FieldLayout",props:{tabs:Array,data:Object,doctype:{type:String,default:"CRM Lead"},isGridRow:{type:Boolean,default:!1},preview:{type:Boolean,default:!1}},setup(t){const n=t,r=U(0),o=X(()=>n.tabs.length>1||n.tabs.length==1&&n.tabs[0].label);return tt("data",X(()=>n.data)),tt("hasTabs",o),tt("doctype",n.doctype),tt("preview",n.preview),tt("isGridRow",n.isGridRow),(a,l)=>(w(),A("div",{class:de(["flex flex-col",{"border border-outline-gray-1 rounded-lg":o.value,"border-outline-gray-modals":o.value}])},[$(S(yl),{as:"div",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=e=>r.value=e),tabs:t.tabs},{default:j(()=>[$(S(Ga),{class:de(o.value?"border-outline-gray-modals":"hidden")},null,8,["class"]),$(S(Ka),null,{default:j(({tab:e})=>[O("div",{class:de(["sections overflow-hidden",{"my-4 sm:my-5":o.value}])},[(w(!0),A(Me,null,Fe(e.sections,i=>(w(),k(qc,{key:i.name,section:i,"data-name":i.name},null,8,["section","data-name"]))),128))],2)]),_:1})]),_:1},8,["modelValue","tabs"])],2))}},Rr=Le(ed,[["__scopeId","data-v-0a2ef829"]]),td={class:"bg-surface-modal px-4 pb-6 pt-5 sm:px-6"},nd={class:"mb-5 flex items-center justify-between"},rd={class:"text-2xl font-semibold leading-6 text-ink-gray-9"},ad={class:"flex items-center gap-1"},od={key:0},ld={class:"px-4 pb-7 pt-4 sm:px-6"},id={class:"space-y-2"},sd={__name:"CreateDocumentModal",props:ut({doctype:{type:String,required:!0},data:{type:Object,default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:ut(["callback"],["update:modelValue"]),setup(t,{emit:n}){const r=t,o=n,{isManager:a}=Ht(),l=rt(t,"modelValue"),e=U(!1),i=U(null);let u=U({});const c=X(()=>{let s=r.doctype;(s.startsWith("CRM ")||s.startsWith("FCRM "))&&(s=s.replace(/^(CRM |FCRM )/,""));let h=__("New {0}",[s]),v="xl",m=[{label:__("Create"),variant:"solid",onClick:()=>d()}];return{title:h,size:v,actions:m}}),p=Ve({url:"crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout",cache:["QuickEntry",r.doctype],params:{doctype:r.doctype,type:"Quick Entry"},auto:!0});async function d(){e.value=!0,i.value=null;let s=await Yn("frappe.client.insert",{doc:{doctype:r.doctype,...u.value}},{onError:h=>{var v;e.value=!1,h.error&&(i.value=(v=h.error.messages)==null?void 0:v[0])}});e.value=!1,l.value=!1,o("callback",s)}It(()=>l.value,s=>{s&&yt(()=>{u.value={...r.data}})});function f(){On.value=!0,Wa.value={doctype:r.doctype},yt(()=>l.value=!1)}return(s,h)=>{const v=he("Button"),m=he("Dialog");return w(),k(m,{modelValue:l.value,"onUpdate:modelValue":h[1]||(h[1]=y=>l.value=y),options:c.value},{body:j(()=>[O("div",td,[O("div",nd,[O("div",null,[O("h3",rd,ee(s.__(c.value.title)||s.__("Untitled")),1)]),O("div",ad,[S(a)()&&!S(hr)?(w(),k(v,{key:0,variant:"ghost",class:"w-7",onClick:f},{icon:j(()=>[$($r)]),_:1})):q("",!0),$(v,{variant:"ghost",class:"w-7",onClick:h[0]||(h[0]=y=>l.value=!1)},{icon:j(()=>[$(S(Bt),{name:"x",class:"size-4"})]),_:1})])]),S(p).data?(w(),A("div",od,[$(Rr,{tabs:S(p).data,data:S(u),doctype:t.doctype},null,8,["tabs","data","doctype"]),$(S(Va),{class:"mt-2",message:i.value},null,8,["message"])])):q("",!0)]),O("div",ld,[O("div",id,[(w(!0),A(Me,null,Fe(c.value.actions,y=>(w(),k(v,Ze({class:"w-full",key:y.label},{ref_for:!0},y,{label:s.__(y.label),loading:e.value}),null,16,["label","loading"]))),128))])])]),_:1},8,["modelValue","options"])}}},ud={class:"flex items-center gap-2 text-2xl font-semibold leading-6 text-ink-gray-9"},cd={class:"flex flex-col gap-3"},dd={class:"flex justify-between gap-2"},fd={class:"flex flex-row-reverse gap-2"},vd={key:0},pd={__name:"QuickEntryModal",props:ut({doctype:{type:String,default:"CRM Lead"},onlyRequired:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const n=t,r=rt(t,"modelValue"),o=U(n.doctype),a=U(!1),l=U(!1),e=U(!1);function i(){let d=n.onlyRequired?"Required Fields":"Quick Entry";return{doctype:o.value,type:d}}const u=Ve({url:"crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout",cache:["QuickEntryModal",o.value,n.onlyRequired],params:i(),onSuccess(d){u.originalData=JSON.parse(JSON.stringify(d))}});It(()=>u==null?void 0:u.data,()=>{l.value=JSON.stringify(u==null?void 0:u.data)!==JSON.stringify(u==null?void 0:u.originalData)},{deep:!0}),Ot(()=>ja(c,100)());function c(){yt(()=>{u.params=i(),u.reload()})}function p(){let d=JSON.parse(JSON.stringify(u.data));d.forEach(s=>{s.sections&&s.sections.forEach(h=>{h.columns.forEach(v=>{v.fields&&(v.fields=v.fields.map(m=>m.fieldname))})})}),a.value=!0;let f=n.onlyRequired?"Required Fields":"Quick Entry";Yn("crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.save_fields_layout",{doctype:o.value,type:f,layout:JSON.stringify(d)}).then(()=>{a.value=!1,r.value=!1,za("quick_entry_layout_builder",{doctype:o.value})})}return(d,f)=>{const s=he("Button");return w(),k(S(Pr),{modelValue:r.value,"onUpdate:modelValue":f[1]||(f[1]=h=>r.value=h),options:{size:"4xl"}},{"body-title":j(()=>[O("h3",ud,[O("div",null,ee(d.__("Edit Quick Entry Layout")),1),l.value?(w(),k(S(Na),{key:0,label:d.__("Not Saved"),variant:"subtle",theme:"orange"},null,8,["label"])):q("",!0)])]),"body-content":j(()=>{var h;return[O("div",cd,[O("div",dd,[$(s,{label:e.value?d.__("Hide preview"):d.__("Show preview"),onClick:f[0]||(f[0]=v=>e.value=!e.value)},null,8,["label"]),O("div",fd,[$(s,{loading:a.value,label:d.__("Save"),variant:"solid",onClick:p},null,8,["loading","label"]),$(s,{label:d.__("Reset"),onClick:c},null,8,["label"])])]),(h=S(u))!=null&&h.data?(w(),A("div",vd,[e.value?(w(),k(Rr,{key:1,tabs:S(u).data,data:{},preview:!0},null,8,["tabs"])):(w(),k(po,{key:0,tabs:S(u).data,doctype:o.value,onlyRequired:t.onlyRequired},null,8,["tabs","doctype","onlyRequired"]))])):q("",!0)])]}),_:1},8,["modelValue"])}}},Ld={__name:"GlobalModals",setup(t){return(n,r)=>{const o=he("AddressModal"),a=he("AboutModal");return w(),A(Me,null,[S($n)?(w(),k(sd,{key:0,modelValue:S($n),"onUpdate:modelValue":r[0]||(r[0]=l=>Jt($n)?$n.value=l:null),doctype:S(mo),data:S(go),onCallback:r[1]||(r[1]=l=>S(ho)(l))},null,8,["modelValue","doctype","data"])):q("",!0),S(On)?(w(),k(pd,Ze({key:1,modelValue:S(On),"onUpdate:modelValue":r[2]||(r[2]=l=>Jt(On)?On.value=l:null)},S(Wa)),null,16,["modelValue"])):q("",!0),S(tr)?(w(),k(o,Ze({key:2,modelValue:S(tr),"onUpdate:modelValue":r[3]||(r[3]=l=>Jt(tr)?tr.value=l:null)},S(ti)),null,16,["modelValue"])):q("",!0),S(nr)?(w(),k(ls,{key:3,modelValue:S(nr),"onUpdate:modelValue":r[4]||(r[4]=l=>Jt(nr)?nr.value=l:null)},null,8,["modelValue"])):q("",!0),$(a,{modelValue:S(cr),"onUpdate:modelValue":r[5]||(r[5]=l=>Jt(cr)?cr.value=l:null)},null,8,["modelValue"])],64)}}};export{wd as C,Sd as D,hd as E,Cd as L,Od as N,Ed as O,yd as P,Id as T,xd as _,Dd as a,Td as b,Md as c,xl as d,Ld as e,Ni as f,Vi as g,Fi as h,Xa as i,_a as j,pa as k,br as l,ql as m,$d as n,za as o,Ht as p,nr as q,ei as r,Ad as s,Rd as t,Li as u,Pd as v,bd as w,Pl as x};
//# sourceMappingURL=GlobalModals-b27187b8.js.map
