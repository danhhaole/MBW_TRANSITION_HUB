{"version":3,"file":"MyActions-904f42b9.js","sources":["../../../../frontend/src/pages/MyActions.vue"],"sourcesContent":["<template>\n    <div class=\"min-h-screen bg-gray-50\">\n      <LayoutHeader>\n        <template #left-header>\n          <Breadcrumbs :items=\"breadcrumbs\" />\n        </template>\n      </LayoutHeader>\n  \n      <div class=\"container mx-auto px-6 py-6\">\n        <!-- Tabs -->\n        <div class=\"flex items-center gap-2 mb-4\">\n          <button\n            class=\"px-3 py-1.5 rounded-md text-sm\"\n            :class=\"activeTab==='pending' ? 'bg-black text-white' : 'bg-white text-gray-700 border hover:text-gray-900'\"\n            @click=\"setTab('pending')\"\n          >{{ __('All tasks') }}</button>\n          <button\n            class=\"px-3 py-1.5 rounded-md text-sm\"\n            :class=\"activeTab==='completed' ? 'bg-black text-white' : 'bg-white text-gray-700 border hover:text-gray-900'\"\n            @click=\"setTab('completed')\"\n          >{{ __('Done') }}</button>\n        </div>\n  \n        <div class=\"bg-white rounded-lg border border-gray-200\">\n          <Loading v-if=\"loading\" text=\"Loading actions...\" />\n  \n          <div v-if=\"!loading\" class=\"overflow-x-auto\">\n            <table class=\"min-w-full divide-y divide-gray-200\">\n              <thead class=\"bg-gray-50\">\n                <tr>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">{{ __('Tên công việc') }}</th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">{{ __('Trạng thái') }}</th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">{{ __('Ngày tạo') }}</th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">{{ __('Thao tác') }}</th>\n                </tr>\n              </thead>\n              <tbody class=\"bg-white divide-y divide-gray-200\">\n                <tr v-for=\"item in currentItems\" :key=\"item.name\" class=\"hover:bg-gray-50\">\n                  <td class=\"px-6 py-4\">\n                    <div class=\"flex items-start gap-3\">\n                      <div class=\"mt-2\">\n                          <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"24\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"css-i6dzq1 text-blue-500\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n                      </div>\n                      <div>\n                        <div class=\"text-gray-900 font-medium\">{{ item.campaign_step_name || item.campaign_step }}</div>\n                        <div class=\"text-xs text-gray-500\">{{ item.campaign_name }}</div>\n                      </div>\n                    </div>\n                  </td>\n                  <td class=\"px-6 py-4\">\n                    <span :class=\"badgeClass(labelStatus(item.status))\" class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\">{{ labelStatus(item.status) }}</span>\n                  </td>\n                  <td class=\"px-6 py-4\">{{ formatDate(item.creation) }}</td>\n                  <td class=\"px-6 py-4\">\n                    <div class=\"flex items-center gap-2\">\n                      <button\n                        class=\"inline-flex items-center px-3 py-1.5 rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700\"\n                        @click=\"activeTab === 'completed' ? openView(item) : openEdit(item)\"\n                      >\n                        {{ activeTab === 'completed' ? __('Xem chi tiết') : __('Cập nhật') }}\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n                <tr v-if=\"currentItems.length === 0\">\n                  <td colspan=\"4\" class=\"px-6 py-8 text-center text-gray-500\">{{ __('Không có dữ liệu') }}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n  \n          <div v-if=\"pagination && pagination.total > pagination.limit\" class=\"bg-white px-4 py-3 border-t border-gray-200 sm:px-6\">\n            <div class=\"flex items-center justify-between\">\n              <div class=\"flex-1 flex justify-between sm:hidden\">\n                <button\n                  @click=\"handlePreviousPage\"\n                  :disabled=\"!pagination.has_prev\"\n                  class=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {{ __('Previous') }}\n                </button>\n                <button\n                  @click=\"handleNextPage\"\n                  :disabled=\"!pagination.has_next\"\n                  class=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {{ __('Next') }}\n                </button>\n              </div>\n              <div class=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n                <div>\n                  <p class=\"text-sm text-gray-700\">\n                    {{ __('Showing') }}\n                    <span class=\"font-medium\">{{ showingFrom }}</span>\n                    {{ __('to') }}\n                    <span class=\"font-medium\">{{ showingTo }}</span>\n                    {{ __('of') }}\n                    <span class=\"font-medium\">{{ pagination.total }}</span>\n                    {{ __('results') }}\n                  </p>\n                </div>\n                <div>\n                  <nav class=\"relative z-0 inline-flex rounded-md -space-x-px\" aria-label=\"Pagination\">\n                    <button\n                      @click=\"handlePreviousPage\"\n                      :disabled=\"!pagination.has_prev\"\n                      class=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      <FeatherIcon name=\"chevron-left\" class=\"w-5 h-5\" />\n                    </button>\n                    <button\n                      v-for=\"p in visiblePages\"\n                      :key=\"p\"\n                      @click=\"goToPage(p)\"\n                      class=\"relative inline-flex items-center px-4 py-2 border text-sm font-medium\"\n                      :class=\"p === pagination.page ? 'z-10 bg-indigo-50 border-indigo-500 text-indigo-600' : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\"\n                    >\n                      {{ p }}\n                    </button>\n                    <button\n                      @click=\"handleNextPage\"\n                      :disabled=\"!pagination.has_next\"\n                      class=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      <FeatherIcon name=\"chevron-right\" class=\"w-5 h-5\" />\n                    </button>\n                  </nav>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n  \n        <!-- Edit Modal -->\n        <Dialog v-model=\"showEdit\" :options=\"{ title: __('Chỉnh sửa hành động'), size: 'xl' }\">\n          <template #body-content>\n            <div class=\"p-6 space-y-6\">\n              <!-- Task Info -->\n              <div v-if=\"currentEditTask\" class=\"mb-2\">\n                <div class=\"flex items-center gap-3 mb-3\">\n                  <div class=\"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 text-blue-600 font-semibold\">\n                    {{ (currentEditTask.candidate || 'U').charAt(0).toUpperCase() }}\n                  </div>\n                  <div>\n                    <div class=\"text-base font-semibold text-gray-900\">{{ currentEditTask.candidate || currentEditTask.assignee_name || __('Task') }}</div>\n                    <div class=\"text-sm text-gray-600\">\n                      {{ __('Campaign') }}: {{ currentEditTask.campaign_name || '-' }}\n                    </div>\n                    <div class=\"text-xs text-gray-500\">\n                      {{ __('Current status') }}: {{ getStatusLabel(currentEditTask.status) }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Action Selection -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-3\">{{ __('Update status') }}:</label>\n                <div class=\"flex flex-wrap gap-2 mb-2\">\n                  <button\n                    v-for=\"action in actionOptions\"\n                    :key=\"action.value\"\n                    :class=\"[\n                      'inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200',\n                      selectedAction === action.value ? getActionSelectedClass(action.color) : 'bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300'\n                    ]\"\n                    @click=\"selectedAction = action.value\"\n                  >\n                    <svg class=\"w-4 h-4 mr-1.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path v-if=\"action.icon === 'mdi-check-circle'\" fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\"/>\n                      <path v-else-if=\"action.icon === 'mdi-skip-next'\" d=\"M4.555 5.168A1 1 0 003 6v8a1 1 0 001.555.832L10 11.202V14a1 1 0 001.555.832l6-4a1 1 0 000-1.664l-6-4A1 1 0 0010 6v2.798l-5.445-3.63z\"/>\n                      <path v-else-if=\"action.icon === 'mdi-alert-circle'\" fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clip-rule=\"evenodd\"/>\n                    </svg>\n                    {{ action.label }}\n                  </button>\n                </div>\n              </div>\n\n              <!-- Notes -->\n              <div>\n                <FormControl\n                  v-model=\"notes\"\n                  type=\"textarea\"\n                  :label=\"__('Notes')\"\n                  :placeholder=\"__('Enter notes about the task execution...')\"\n                  :rows=\"3\"\n                />\n              </div>\n            </div>\n          </template>\n          <template #actions>\n            <Button variant=\"ghost\" @click=\"showEdit = false\">{{ __('Cancel') }}</Button>\n            <Button variant=\"solid\" :disabled=\"!selectedAction\" :loading=\"savingEdit\" @click=\"submitEdit\">{{ getActionButtonText() }}</Button>\n          </template>\n        </Dialog>\n  \n        <!-- View Modal -->\n        <Dialog v-model=\"showView\" :options=\"{ title: __('Chi tiết hành động'), size: 'xl' }\">\n          <template #body-content>\n            <div class=\"space-y-4\">\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">{{ __('Task name') }}</label>\n                  <div class=\"p-3 bg-gray-50 rounded-md text-sm\">{{ viewData.campaign_step_name || viewData.campaign_step || '-' }}</div>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">{{ __('Chiến dịch') }}</label>\n                  <div class=\"p-3 bg-gray-50 rounded-md text-sm\">{{ viewData.campaign_name || '-' }}</div>\n                </div>\n              </div>\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">{{ __('Trạng thái') }}</label>\n                  <div class=\"p-3 bg-gray-50 rounded-md text-sm\">\n                    <span :class=\"badgeClass(labelStatus(viewData.status))\" class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\">{{ labelStatus(viewData.status) }}</span>\n                  </div>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">{{ __('Người được giao') }}</label>\n                  <div class=\"p-3 bg-gray-50 rounded-md text-sm\">{{ viewData.assignee_name || '-' }}</div>\n                </div>\n              </div>\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">{{ __('Ngày tạo') }}</label>\n                  <div class=\"p-3 bg-gray-50 rounded-md text-sm\">{{ formatDate(viewData.creation) }}</div>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">{{ __('Dự kiến tại') }}</label>\n                  <div class=\"p-3 bg-gray-50 rounded-md text-sm\">{{ viewData.scheduled_at ? formatDate(viewData.scheduled_at) : '-' }}</div>\n                </div>\n              </div>\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">{{ __('Thực hiện tại') }}</label>\n                  <div class=\"p-3 bg-gray-50 rounded-md text-sm\">{{ viewData.executed_at ? formatDate(viewData.executed_at) : '-' }}</div>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">{{ __('Loại hành động') }}</label>\n                  <div class=\"p-3 bg-gray-50 rounded-md text-sm\">{{ viewData.action_type || '-' }}</div>\n                </div>\n              </div>\n              <div v-if=\"viewData.result\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">{{ __('Kết quả') }}</label>\n                <div class=\"p-3 bg-gray-50 rounded-md text-sm\">\n                  <pre class=\"whitespace-pre-wrap text-xs\">{{ typeof viewData.result === 'string' ? viewData.result : JSON.stringify(viewData.result, null, 2) }}</pre>\n                </div>\n              </div>\n            </div>\n          </template>\n          <!-- <template #actions>\n            <Button variant=\"ghost\" @click=\"showView = false\">{{ __('Đóng') }}</Button>\n          </template> -->\n        </Dialog>\n      </div>\n    </div>\n  </template>\n  \n  <script setup>\n  import { ref, reactive, computed, onMounted } from 'vue'\n  import { createResource, Breadcrumbs, FeatherIcon, Dialog, FormControl, Button } from 'frappe-ui'\n  import { candidateCampaignService, campaignStepService, userService } from '../services/universalService'\n  import { ToastContainer } from '@/components/shared'\n  import { useToast } from '@/composables/useToast'\n  import LayoutHeader from '@/components/LayoutHeader.vue'\n  const breadcrumbs = [\n    { label: __('My Tasks'), route: { name: 'MyActions' } }\n  ]\n  \n  const activeTab = ref('pending')\n  const loading = ref(false)\n  const pending = ref([])\n  const completed = ref([])\n  const paginationState = ref({ pending: {}, completed: {} })\n  const toast = useToast()\n\n  const resource = createResource({\n    url: 'mbw_mira.mbw_mira.doctype.action.action.get_my_actions',\n    method: 'POST',\n  })\n  \n  const page = ref(1)\n  const limit = ref(10)\n  \n  const loadData = async () => {\n    loading.value = true\n    try {\n      const res = await resource.submit({ page: page.value, limit: limit.value, include_scheduled_as_pending: 1, include_unassigned: 1 })\n      if (res?.success) {\n        pending.value = res.pending || []\n        completed.value = res.completed || []\n        paginationState.value = res.pagination || { pending: {}, completed: {} }\n      }\n    } finally {\n      loading.value = false\n    }\n  }\n  \n  const currentItems = computed(() => activeTab.value === 'pending' ? pending.value : completed.value)\n  const pagination = computed(() => paginationState.value[activeTab.value] || { page: 1, limit: limit.value, total: 0 })\n  const showingFrom = computed(() => pagination.value.total === 0 ? 0 : ((pagination.value.page - 1) * pagination.value.limit) + 1)\n  const showingTo = computed(() => Math.min(pagination.value.page * pagination.value.limit, pagination.value.total || 0))\n  const totalPages = computed(() => pagination.value.pages || (pagination.value.total && pagination.value.limit ? Math.ceil(pagination.value.total / pagination.value.limit) : 1))\n  \n  const visiblePages = computed(() => {\n    const total = totalPages.value\n    const current = pagination.value.page || 1\n    const delta = 2\n    const range = []\n    for (let i = Math.max(1, current - delta); i <= Math.min(total, current + delta); i++) {\n      range.push(i)\n    }\n    if (!range.includes(1)) range.unshift(1)\n    if (!range.includes(total)) range.push(total)\n    return Array.from(new Set(range)).filter(p => p >= 1 && p <= total)\n  })\n  \n  const setTab = (tab) => {\n    activeTab.value = tab\n    // dùng chung page cho đơn giản\n  }\n  \n  const handleNextPage = () => {\n    if (pagination.value.has_next) {\n      page.value++\n      loadData()\n    }\n  }\n  const handlePreviousPage = () => {\n    if (pagination.value.has_prev && page.value > 1) {\n      page.value--\n      loadData()\n    }\n  }\n  \n  const goToPage = (p) => {\n    if (p && p !== pagination.value.page) {\n      page.value = p\n      loadData()\n    }\n  }\n  \n  const labelStatus = (s) => {\n    if (s === 'PENDING_MANUAL' || s === 'SCHEDULED') return 'Đang chờ'\n    if (s === 'EXECUTED') return 'Hoàn thành'\n    return s\n  }\n  \n  const badgeClass = (label) => ({\n    'Đang chờ': 'bg-yellow-100 text-yellow-800',\n    'Hoàn thành': 'bg-green-100 text-green-800'\n  }[label] || 'bg-gray-100 text-gray-800')\n  \n  const formatDate = (v) => v ? new Date(v).toLocaleString() : ''\n  \n  onMounted(loadData)\n  \n  // Update action to EXECUTED\n  const updateAction = async (item) => {\n    try {\n      const updater = createResource({ url: 'mbw_mira.mbw_mira.doctype.action.action.update_action', method: 'POST' })\n      const payload = {\n        name: item.name,\n        status: 'EXECUTED',\n        executed_at: new Date().toISOString()\n      }\n      const res = await updater.submit(payload)\n      if (res?.success) {\n        toast.success(__('Đã cập nhật hành động thành công'))\n        // Reload data and switch to Completed tab\n        await loadData()\n        activeTab.value = 'completed'\n      } else {\n        toast.error(res?.error || __('Cập nhật hành động thất bại'))\n      }\n    } catch (e) {\n      toast.error(e.message || __('Cập nhật hành động thất bại'))\n    }\n  }\n  \n  // Edit modal logic\n  const showEdit = ref(false)\n  const savingEdit = ref(false)\n  const editForm = reactive({\n    name: '',\n    talent_campaign_id: '',\n    campaign_step: '',\n    status: 'PENDING_MANUAL',\n    assignee_id: '',\n    scheduled_at: '',\n    executed_at: '',\n    result: ''\n  })\n  const currentEditTask = reactive({})\n  const selectedAction = ref('')\n  const notes = ref('')\n\n  const getStatusLabel = (status) => ({\n    'PENDING_MANUAL': __('Pending Manual'),\n    'SCHEDULED': __('Scheduled'),\n    'EXECUTED': __('Executed'),\n    'SKIPPED': __('Skipped'),\n    'FAILED': __('Failed')\n  }[status] || status)\n\n  const actionOptions = computed(() => ([\n    { value: 'EXECUTED', label: __('Complete'), color: 'success', icon: 'mdi-check-circle' },\n    { value: 'SKIPPED', label: __('Skip'), color: 'warning', icon: 'mdi-skip-next' },\n    { value: 'FAILED', label: __('Failed'), color: 'error', icon: 'mdi-alert-circle' }\n  ]))\n\n  const getActionSelectedClass = (color) => ({\n    success: 'bg-green-100 text-green-800 border border-green-300',\n    info: 'bg-blue-100 text-blue-800 border border-blue-300',\n    warning: 'bg-yellow-100 text-yellow-800 border border-yellow-300',\n    error: 'bg-red-100 text-red-800 border border-red-300'\n  }[color] || 'bg-blue-100 text-blue-800 border border-blue-300')\n  \n  // View modal logic\n  const showView = ref(false)\n  const viewData = reactive({})\n  \n  const statusOptions = [\n    { label: 'Pending Manual', value: 'PENDING_MANUAL' },\n    { label: 'Scheduled', value: 'SCHEDULED' },\n    { label: 'Executed', value: 'EXECUTED' },\n    { label: 'Skipped', value: 'SKIPPED' },\n    { label: 'Failed', value: 'FAILED' }\n  ]\n  \n  // Options for modal selects\n  const editOptions = reactive({\n    candidateCampaigns: [],\n    campaignSteps: [],\n    assignees: []\n  })\n  \n  const loadEditOptions = async () => {\n    try {\n      const candidateCampaignResult = await candidateCampaignService.getList({\n        fields: ['name', 'talent_id', 'campaign_id'],\n        page_length: 1000\n      })\n      if (candidateCampaignResult.success) {\n        editOptions.candidateCampaigns = candidateCampaignResult.data.map(i => ({\n          label: `${i.name} (${i.talent_id} - ${i.campaign_id})`,\n          value: i.name\n        }))\n      }\n  \n      const campaignStepResult = await campaignStepService.getList({\n        fields: ['name', 'campaign_step_name', 'campaign'],\n        page_length: 1000\n      })\n      if (campaignStepResult.success) {\n        editOptions.campaignSteps = campaignStepResult.data.map(i => ({\n          label: `${i.campaign_step_name} (${i.campaign})`,\n          value: i.name,\n          campaign: i.campaign\n        }))\n      }\n  \n      const userResult = await userService.getList({ fields: ['name', 'full_name', 'email'], page_length: 1000 })\n      if (userResult.success) {\n        editOptions.assignees = userResult.data.map(u => ({ label: `${u.full_name} (${u.email})`, value: u.name }))\n      }\n    } catch (e) {\n      // ignore\n    }\n  }\n  \n  const openView = async (item) => {\n    // Lấy dữ liệu đầy đủ từ server để hiển thị chi tiết\n    try {\n      const getDoc = createResource({ url: 'mbw_mira.api.common.get_form_data', method: 'POST' })\n      const res = await getDoc.submit({ doctype: 'Action', name: item.name })\n      const data = res?.data || {}\n      Object.assign(viewData, {\n        ...item,\n        ...data,\n        campaign_step_name: data.campaign_step_name || item.campaign_step_name || item.campaign_step,\n        campaign_name: data.campaign_name || item.campaign_name,\n        assignee_name: data.assignee_name || item.assignee_name\n      })\n    } catch (e) {\n      // fallback dùng dữ liệu trong list\n      Object.assign(viewData, {\n        ...item,\n        campaign_step_name: item.campaign_step_name || item.campaign_step,\n        campaign_name: item.campaign_name,\n        assignee_name: item.assignee_name\n      })\n    }\n    showView.value = true\n  }\n  \n  const openEdit = async (item) => {\n    if (!editOptions.candidateCampaigns.length) {\n      await loadEditOptions()\n    }\n    // Lấy dữ liệu đầy đủ từ server để đảm bảo có field result\n    try {\n      const getDoc = createResource({ url: 'mbw_mira.api.common.get_form_data', method: 'POST' })\n      const res = await getDoc.submit({ doctype: 'Action', name: item.name })\n      const data = res?.data || {}\n      Object.assign(editForm, {\n        name: data.name || item.name,\n        talent_campaign_id: data.talent_campaign_id || item.talent_campaign_id,\n        campaign_step: data.campaign_step || item.campaign_step,\n        status: data.status || item.status,\n        assignee_id: data.assignee_id || item.assignee_id || '',\n        scheduled_at: data.scheduled_at ? String(data.scheduled_at).substring(0, 16) : (item.scheduled_at ? item.scheduled_at.substring(0, 16) : ''),\n        executed_at: data.executed_at ? String(data.executed_at).substring(0, 16) : (item.executed_at ? item.executed_at.substring(0, 16) : ''),\n        result: data.result ? (typeof data.result === 'string' ? data.result : JSON.stringify(data.result)) : (item.result ? (typeof item.result === 'string' ? item.result : JSON.stringify(item.result)) : '')\n      })\n      Object.assign(currentEditTask, {\n        candidate: data.candidate_name || item.candidate_name,\n        campaign_name: data.campaign_name || item.campaign_name,\n        status: data.status || item.status\n      })\n    } catch (e) {\n      // fallback dùng dữ liệu trong list\n      Object.assign(editForm, {\n        name: item.name,\n        talent_campaign_id: item.talent_campaign_id,\n        campaign_step: item.campaign_step,\n        status: item.status,\n        assignee_id: item.assignee_id || '',\n        scheduled_at: item.scheduled_at ? item.scheduled_at.substring(0, 16) : '',\n        executed_at: item.executed_at ? item.executed_at.substring(0, 16) : '',\n        result: item.result ? (typeof item.result === 'string' ? item.result : JSON.stringify(item.result)) : ''\n      })\n      Object.assign(currentEditTask, {\n        candidate: item.candidate_name,\n        campaign_name: item.campaign_name,\n        status: item.status\n      })\n    }\n    selectedAction.value = ''\n    notes.value = ''\n    showEdit.value = true\n  }\n\n  const getActionButtonText = () => __('Update Task')\n\n  const submitEdit = async () => {\n    if (!selectedAction.value) return\n    savingEdit.value = true\n    try {\n      const updater = createResource({ url: 'mbw_mira.mbw_mira.doctype.action.action.update_action', method: 'POST' })\n      const payload = {\n        name: editForm.name,\n        status: selectedAction.value,\n        // Only set executed_at when user marks Complete\n        executed_at: selectedAction.value === 'EXECUTED' ? new Date().toISOString() : null,\n        result: notes.value || ''\n      }\n      const res = await updater.submit(payload)\n      if (res?.success) {\n        toast.success(__('Cập nhật hành động thành công'))\n        showEdit.value = false\n        await loadData()\n        if (selectedAction.value === 'EXECUTED') {\n          activeTab.value = 'completed'\n        }\n      } else {\n        toast.error(res?.error || __('Cập nhật thất bại'))\n      }\n    } catch (e) {\n      toast.error(e.message || __('Cập nhật thất bại'))\n    } finally {\n      savingEdit.value = false\n    }\n  }\n  </script>\n  \n  <style scoped>\n  </style>\n  \n  "],"names":["breadcrumbs","activeTab","ref","loading","pending","completed","paginationState","toast","useToast","resource","createResource","page","limit","loadData","res","currentItems","computed","pagination","showingFrom","showingTo","totalPages","visiblePages","total","current","delta","range","i","p","setTab","tab","handleNextPage","handlePreviousPage","goToPage","labelStatus","s","badgeClass","label","formatDate","v","onMounted","showEdit","savingEdit","editForm","reactive","currentEditTask","selectedAction","notes","getStatusLabel","status","actionOptions","getActionSelectedClass","color","showView","viewData","editOptions","loadEditOptions","candidateCampaignResult","candidateCampaignService","campaignStepResult","campaignStepService","userResult","userService","u","openView","item","data","openEdit","getActionButtonText","submitEdit","updater","payload","_openBlock","_createElementBlock","_hoisted_1","_createVNode","LayoutHeader","_unref","Breadcrumbs","_createElementVNode","_hoisted_2","_hoisted_3","_normalizeClass","__","_hoisted_4","_createBlock","_component_Loading","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_Fragment","_renderList","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","$event","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_createTextVNode","_hoisted_34","FeatherIcon","_hoisted_36","Dialog","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","action","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","FormControl","Button","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76"],"mappings":"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"}