import{r as b,C as Z,w as he,s as ye,e as u,f as c,b as p,v as we,d as e,D as ee,E as te,n as h,j as g,t as l,u as d,a as V,h as m,F as S,i as P,G as xe,H as ke,o as i,x as je,l as _,I as Ce,J as oe,K as Me,k as y,m as se,M as Ve,N as De,O as Je,P as qe,q as le,L as Te,Q as Ae}from"./index-d2648b45.js";import{T as q}from"./TextEditor-ad619207.js";const Be={class:"min-h-screen bg-gray-50"},Oe={class:"container mx-auto px-6 py-6"},ze={class:"flex items-center justify-between mb-6"},$e={class:"relative"},Se=["placeholder"],Pe={class:"flex items-center space-x-4"},Le={class:"flex rounded-md"},He={class:"bg-white rounded-lg border border-gray-200"},Re={key:1,class:"overflow-x-auto"},Ee={class:"min-w-full divide-y divide-gray-200"},Ie={class:"bg-gray-50"},Ue={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Ne={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Fe={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Ge={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},We={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Ke={class:"bg-white divide-y divide-gray-200"},Qe={class:"px-6 py-4"},Xe=["onClick"],Ye={class:"px-6 py-4"},Ze={class:"px-6 py-4"},et={class:"px-6 py-4"},tt={class:"px-6 py-4 space-x-2"},ot=["onClick"],st=["onClick"],lt=["onClick"],nt={key:0},rt={colspan:"5",class:"px-6 py-8 text-center text-gray-500"},at={key:0,class:"flex items-center justify-between px-6 py-4 border-t border-gray-200"},it={class:"text-sm text-gray-500"},dt={class:"flex items-center space-x-2"},ut=["disabled"],ct=["onClick"],pt=["disabled"],vt={key:2,class:"p-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},bt=["onClick"],mt={class:"flex items-start justify-between"},gt={class:"text-base font-semibold text-gray-900 truncate"},_t={class:"text-sm text-gray-500 mt-1"},ft={class:"mt-3 text-xs text-gray-500"},ht={class:"mt-4 flex items-center justify-end space-x-2"},yt=["onClick"],wt=["onClick"],xt={class:"text-center"},kt={class:"mt-3 font-medium"},jt={class:"text-xs text-gray-500"},Ct={key:0,class:"col-span-full flex items-center justify-between pt-4"},Mt={class:"text-sm text-gray-500"},Vt={class:"flex items-center space-x-2"},Dt=["disabled"],Jt=["onClick"],qt=["disabled"],Tt={class:"flex h-[600px] relative"},At={class:"w-80 bg-gray-50 p-6 border-r border-gray-200"},Bt={class:"mb-6"},Ot={class:"text-lg font-semibold text-gray-900"},zt={class:"text-sm text-gray-500 mt-1"},$t={class:"flex items-center mb-4"},St={key:0,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},Pt={key:1},Lt={class:"ml-3"},Ht={class:"text-sm font-medium text-gray-900"},Rt={class:"text-xs text-gray-500"},Et={class:"flex items-center mb-6"},It={key:0,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},Ut={key:1},Nt={class:"ml-3"},Ft={class:"text-sm font-medium text-gray-900"},Gt={class:"text-xs text-gray-500"},Wt={class:"mt-6"},Kt={class:"flex justify-between text-xs text-gray-500 mb-1"},Qt={class:"w-full bg-gray-200 rounded-full h-2"},Xt={class:"flex-1 p-6 overflow-auto"},Yt={key:0},Zt={class:"mb-6"},eo={class:"text-lg font-medium text-gray-900"},to={class:"text-sm text-gray-500"},oo={class:"space-y-4"},so={class:"grid grid-cols-2 gap-4"},lo={class:"grid grid-cols-2 gap-4"},no={class:"grid grid-cols-2 gap-4"},ro={key:1},ao={class:"flex items-center justify-between mb-6"},io={class:"text-lg font-medium text-gray-900"},uo={class:"text-sm text-gray-500"},co={class:"space-y-4"},po={class:"block text-sm font-medium text-gray-700 mb-2"},vo={class:"block text-sm font-medium text-gray-700 mb-2"},bo={class:"block text-sm font-medium text-gray-700 mb-2"},mo={class:"flex justify-between pt-6 border-t border-gray-200 mt-6"},go={key:1},_o={class:"flex space-x-3"},fo={class:"max-h-[80vh] overflow-y-auto"},ho={class:"p-6"},yo={class:"grid grid-cols-2 gap-6"},wo={class:"space-y-6"},xo={class:"block text-sm font-medium text-gray-700 mb-2"},ko=["placeholder"],jo={class:"pt-4"},Co={class:"space-y-6"},Mo={class:"flex items-center justify-between mb-2"},Vo={class:"block text-sm font-medium text-gray-700"},Do={class:"flex items-center justify-between mb-2"},Jo={class:"block text-sm font-medium text-gray-700"},qo={key:0,class:"mt-6"},To={class:"bg-gray-50 border border-gray-200 rounded-lg p-4"},Ao={class:"flex items-center justify-between mb-3"},Bo={class:"text-sm font-medium text-gray-900"},Oo={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},zo={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},$o={key:0,class:"space-y-4 text-sm"},So={key:0},Po={class:"font-medium text-gray-800"},Lo=["innerHTML"],Ho={key:1},Ro={class:"font-medium text-gray-800"},Eo=["innerHTML"],Io={key:2},Uo={class:"font-medium text-gray-800"},No=["innerHTML"],Fo={key:1,class:"flex justify-between items-center pt-6 border-t border-gray-200 mt-6"},Go={class:"flex space-x-3"},Wo={class:"flex items-center space-x-3"},Ko={key:0,class:"flex items-center text-green-600 text-sm"},es={__name:"JobOpeningManagement",emits:["cancel"],setup(Qo,{emit:Xo}){const D=Ae(),ne=xe(),re=[{label:__("Job Openings"),route:{name:"JobOpeningManagement"}}],w=b(!1),T=b([]),r=b({page:1,limit:10,total:0,pages:0,has_next:!1,has_prev:!1}),A=b(""),L=b("all"),j=b("list"),C=b(!1),H=b(!1),a=Z({}),v=b(1),B=b(!1),O=b([]),N=[{label:__("All Statuses"),value:"all"},{label:"Draft",value:"Draft"},{label:"Pending Approval",value:"Pending Approval"},{label:"Approved",value:"Approved"},{label:"Rejected",value:"Rejected"}],ae=async()=>{try{const t=await fetch("/api/method/frappe.desk.reportview.get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctype:"User",fields:["name","full_name"],filters:[["enabled","=",1]],limit_page_length:100})});if(t.ok){const o=await t.json();console.log("data",o),o.message&&o.message.values?O.value=o.message.values.map(s=>({label:s[1]||s[0],value:s[0]})):Array.isArray(o.message)&&(O.value=o.message.map(s=>({label:s.full_name||s.name,value:s.name})))}}catch(t){console.error("Error loading owners:",t),O.value=[{label:__("Select Owner"),value:""},{label:"Administrator",value:"Administrator"}]}},x=async()=>{w.value=!0;try{const t=await ke({status:L.value,searchText:A.value,page:r.value.page||1,limit:r.value.limit||10});T.value=t.data,r.value=t.pagination||r.value}finally{w.value=!1}};let R=null;const F=()=>{R&&clearTimeout(R),R=setTimeout(()=>{r.value.page=1,x()},300)},ie=()=>{F()};he(A,()=>{F()});const G=()=>{Object.keys(a).forEach(t=>delete a[t]),v.value=1,C.value=!0},de=()=>{C.value=!1,v.value=1},ue=()=>{if(v.value===1&&(!a.job_title||a.job_title.trim()==="")){D.error(__("Please enter Job Title before continuing"));return}v.value<2&&v.value++},ce=()=>{v.value>1&&v.value--},pe=async()=>{if(!a.job_title||a.job_title.trim()===""){D.error(__("Please enter Job Title"));return}H.value=!0;try{if(a.name)await Ve(a.name,a),D.success(__("Job opening has been updated successfully"));else{const t=await De(a);Object.assign(a,t),D.success(__("Job opening has been created successfully"))}C.value=!1,await x()}catch(t){D.error(__("An error occurred while saving job opening."),t)}finally{H.value=!1}},W=async t=>{w.value=!0;try{const o=await Je(t.name);Object.assign(a,o),v.value=1,C.value=!0}finally{w.value=!1}},E=t=>ne.push(`/job-openings/${t.name}`),K=async t=>{confirm("Delete this record?")&&(await qe(t.name,t.job_title),await x())},Q=t=>({Draft:"bg-gray-100 text-gray-800","Pending Approval":"bg-yellow-100 text-yellow-800",Approved:"bg-green-100 text-green-800",Rejected:"bg-red-100 text-red-800"})[t]||"bg-gray-100 text-gray-800",X=t=>t?new Date(t).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}):"",I=b(!1),z=b(null),J=b([]),k=b(-1),U=b(!1),$=b(!0),n=Z({job_title:"",tone:__("Professional"),comments:"",job_description:"",job_requirement:"",job_benefits:""}),ve=async()=>{I.value=!0;try{n.job_description="",n.job_requirement="",n.job_benefits="";const t=le({url:"mbw_transition_hub.api.ai.generate_job_description_v2",method:"POST",params:{jobTitle:n.job_title||"",tone:n.tone||"Professional",comments:n.comments||""},onSuccess(s){console.log("Job Description Generated Successfully:",s)},onError(s){throw console.error("Error Generating Job Description:",s),s},auto:!1});await t.fetch();const o=t.data;if(!o)throw new Error("Dữ liệu API trả về không hợp lệ");n.job_description=o.jobDescription||"",n.job_requirement=o.jobRequirements||"",n.job_benefits=o.jobResponsibilities||"",J.value.push({job_description:n.job_description,job_requirement:n.job_requirement,job_benefits:n.job_benefits}),k.value=J.value.length-1}catch(t){console.error("Error generating AI content:",t),alert("Có lỗi xảy ra khi tạo nội dung AI. Vui lòng thử lại.")}finally{I.value=!1}},Y=async t=>{z.value=t;try{const o=le({url:"mbw_transition_hub.api.ai.generate_job_description_v2",method:"POST",params:{jobTitle:n.job_title||"",tone:n.tone||"Professional",comments:`${n.comments} Rewrite only the ${t} section.`},onSuccess(f){console.log("Section Rewritten Successfully:",f)},onError(f){throw console.error("Error Rewriting Section:",f),f},auto:!1});await o.fetch();const s=o.data;s&&(t==="job_description"?n.job_description=s.jobDescription||"":t==="job_requirement"?n.job_requirement=s.jobRequirements||"":t==="job_benefits"&&(n.job_benefits=s.jobResponsibilities||""))}catch(o){console.error("Error rewriting section:",o),alert("Có lỗi xảy ra khi viết lại section. Vui lòng thử lại.")}finally{z.value=null}},be=()=>{a.description=n.job_description,a.requirements=n.job_requirement,a.benefits=n.job_benefits,U.value=!0,setTimeout(()=>{U.value=!1},3e3),B.value=!1},me=()=>{if(k.value>0){k.value--;const t=J.value[k.value];n.job_description=t.job_description,n.job_requirement=t.job_requirement,n.job_benefits=t.job_benefits}},ge=()=>{if(k.value<J.value.length-1){k.value++;const t=J.value[k.value];n.job_description=t.job_description,n.job_requirement=t.job_requirement,n.job_benefits=t.job_benefits}},_e=()=>{B.value=!0,n.job_title=a.job_title||"",n.tone=__("Professional"),n.comments=""},fe=()=>{a.job_title=n.job_title},M=async t=>{r.value.pages&&(t<1||t>r.value.pages||t!==r.value.page&&(r.value.page=t,await x()))};return ye(async()=>{await ae(),await x()}),(t,o)=>(i(),u("div",Be,[c(we,null,{"left-header":p(()=>[c(d(je),{items:re})]),"right-header":p(()=>[c(d(_),{variant:"solid",theme:"gray",onClick:G,loading:w.value},{prefix:p(()=>o[30]||(o[30]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])),default:p(()=>[g(" "+l(t.__("Create New")),1)]),_:1},8,["loading"])]),_:1}),e("div",Oe,[e("div",ze,[e("div",$e,[ee(e("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>A.value=s),type:"text",placeholder:t.__("Search by job title..."),class:"block w-60 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onInput:ie},null,40,Se),[[te,A.value]]),o[31]||(o[31]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))]),e("div",Pe,[e("div",Le,[e("button",{onClick:o[1]||(o[1]=s=>j.value="list"),class:h([j.value==="list"?"bg-black text-white":"bg-white text-gray-700 hover:text-gray-500","relative inline-flex items-center px-4 py-2 rounded-l-md border border-gray-300 text-sm font-medium focus:z-10 focus:outline-none focus:ring-1 focus:ring-black focus:border-black"])},[o[32]||(o[32]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)),g(" "+l(t.__("List")),1)],2),e("button",{onClick:o[2]||(o[2]=s=>j.value="card"),class:h([j.value==="card"?"bg-black text-white":"bg-white text-gray-700 hover:text-gray-500","relative inline-flex items-center px-4 py-2 rounded-r-md border border-gray-300 border-l-0 text-sm font-medium focus:z-10 focus:outline-none focus:ring-1 focus:ring-black focus:border-black"])},[o[33]||(o[33]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1)),g(" "+l(t.__("Card")),1)],2)]),c(d(Ce),{modelValue:L.value,"onUpdate:modelValue":o[3]||(o[3]=s=>L.value=s),options:N,onChange:x,class:"min-w-40 text-sm",size:"md",variant:"outlined",placeholder:"All Statuses"},null,8,["modelValue"]),c(d(_),{variant:"outline",theme:"gray",onClick:x,loading:w.value,class:"flex items-center py-4"},{prefix:p(()=>[(i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",class:h(["h-4 w-4",{"animate-spin":w.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o[34]||(o[34]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]),2))]),default:p(()=>[g(" "+l(t.__("Refresh")),1)]),_:1},8,["loading"])])]),e("div",He,[w.value?(i(),V(Te,{key:0,text:"Loading job openings..."})):m("",!0),!w.value&&j.value==="list"?(i(),u("div",Re,[e("table",Ee,[e("thead",Ie,[e("tr",null,[e("th",Ue,l(t.__("Job Title")),1),e("th",Ne,l(t.__("Status")),1),e("th",Fe,l(t.__("Created Date")),1),e("th",Ge,l(t.__("Owner")),1),e("th",We,l(t.__("Actions")),1)])]),e("tbody",Ke,[(i(!0),u(S,null,P(T.value,s=>(i(),u("tr",{key:s.name,class:"hover:bg-gray-50"},[e("td",Qe,[e("button",{class:"text-left text-gray-900 hover:underline",onClick:f=>E(s)},l(s.job_title),9,Xe)]),e("td",Ye,[e("span",{class:h([Q(s.approval_status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},l(s.approval_status),3)]),e("td",Ze,l(X(s.creation)),1),e("td",et,l(s.owner_id),1),e("td",tt,[e("button",{onClick:f=>E(s),class:"text-gray-600 hover:text-black",title:"View"},o[35]||(o[35]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,ot),e("button",{onClick:f=>W(s),class:"text-blue-600 hover:text-blue-900",title:"Edit"},o[36]||(o[36]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,st),e("button",{onClick:f=>K(s),class:"text-red-600 hover:text-red-900",title:"Delete"},o[37]||(o[37]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,lt)])]))),128)),T.value.length===0?(i(),u("tr",nt,[e("td",rt,l(t.__("No records")),1)])):m("",!0)])]),r.value.pages>1?(i(),u("div",at,[e("div",it,l(t.__("Display"))+" "+l(Math.min((r.value.page-1)*r.value.limit+1,r.value.total))+"-"+l(Math.min(r.value.page*r.value.limit,r.value.total))+" "+l(t.__("of"))+" "+l(r.value.total)+" "+l(t.__("records")),1),e("div",dt,[e("button",{class:h(["px-3 py-1 rounded border text-sm",r.value.page===1?"text-gray-400 border-gray-200 cursor-not-allowed":"text-gray-700 border-gray-300 hover:bg-gray-50"]),disabled:r.value.page===1,onClick:o[4]||(o[4]=s=>M(r.value.page-1))},l(t.__("Prev")),11,ut),(i(!0),u(S,null,P(r.value.pages,s=>(i(),u("button",{key:s,class:h(["px-3 py-1 rounded border text-sm",s===r.value.page?"bg-black text-white border-black":"text-gray-700 border-gray-300 hover:bg-gray-50"]),onClick:f=>M(s)},l(s),11,ct))),128)),e("button",{class:h(["px-3 py-1 rounded border text-sm",r.value.page===r.value.pages?"text-gray-400 border-gray-200 cursor-not-allowed":"text-gray-700 border-gray-300 hover:bg-gray-50"]),disabled:r.value.page===r.value.pages,onClick:o[5]||(o[5]=s=>M(r.value.page+1))},l(t.__("Next")),11,pt)])])):m("",!0)])):m("",!0),!w.value&&j.value==="card"?(i(),u("div",vt,[(i(!0),u(S,null,P(T.value,s=>(i(),u("div",{key:s.name,class:"border rounded-lg p-4 hover:shadow cursor-pointer",onClick:f=>E(s)},[e("div",mt,[e("h3",gt,l(s.job_title),1),e("span",{class:h([Q(s.approval_status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},l(s.approval_status),3)]),e("p",_t,l(s.department_name)+" • "+l(s.location_name),1),e("div",ft,[e("span",null,l(t.__("Created:"))+" "+l(X(s.creation)),1)]),e("div",ht,[e("button",{onClick:oe(f=>W(s),["stop"]),class:"text-blue-600 hover:text-blue-900",title:"Edit"},o[38]||(o[38]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,yt),e("button",{onClick:oe(f=>K(s),["stop"]),class:"text-red-600 hover:text-red-900",title:"Delete"},o[39]||(o[39]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,wt)])],8,bt))),128)),e("div",{class:"border-2 border-dashed rounded-lg p-6 flex items-center justify-center h-40 cursor-pointer hover:bg-gray-50",onClick:G},[e("div",xt,[o[40]||(o[40]=e("div",{class:"mx-auto w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v12m6-6H6"})])],-1)),e("div",kt,l(t.__("Create New Request")),1),e("div",jt,l(t.__("Start a new jobopening")),1)])]),r.value.pages>1?(i(),u("div",Ct,[e("div",Mt,l(t.__("Display"))+" "+l(Math.min((r.value.page-1)*r.value.limit+1,r.value.total))+"-"+l(Math.min(r.value.page*r.value.limit,r.value.total))+" "+l(t.__("of"))+" "+l(r.value.total)+" "+l(t.__("records")),1),e("div",Vt,[e("button",{class:h(["px-3 py-1 rounded border text-sm",r.value.page===1?"text-gray-400 border-gray-200 cursor-not-allowed":"text-gray-700 border-gray-300 hover:bg-gray-50"]),disabled:r.value.page===1,onClick:o[6]||(o[6]=s=>M(r.value.page-1))},l(t.__("Prev")),11,Dt),(i(!0),u(S,null,P(r.value.pages,s=>(i(),u("button",{key:s,class:h(["px-3 py-1 rounded border text-sm",s===r.value.page?"bg-black text-white border-black":"text-gray-700 border-gray-300 hover:bg-gray-50"]),onClick:f=>M(s)},l(s),11,Jt))),128)),e("button",{class:h(["px-3 py-1 rounded border text-sm",r.value.page===r.value.pages?"text-gray-400 border-gray-200 cursor-not-allowed":"text-gray-700 border-gray-300 hover:bg-gray-50"]),disabled:r.value.page===r.value.pages,onClick:o[7]||(o[7]=s=>M(r.value.page+1))},l(t.__("Next")),11,qt)])])):m("",!0)])):m("",!0)]),c(d(se),{modelValue:C.value,"onUpdate:modelValue":o[20]||(o[20]=s=>C.value=s),options:{title:a.name?t.__("Edit Job Opening"):t.__("Create Job Opening"),size:"6xl"},disableOutsideClickToClose:!0},{"body-content":p(()=>[e("div",Tt,[e("div",At,[e("div",Bt,[e("h3",Ot,l(a.name?t.__("Edit Job Opening"):t.__("Create Job Opening")),1),e("p",zt,l(t.__("Complete 2 simple steps to"))+" "+l(a.name?t.__("update your job opening"):t.__("create your job opening")),1)]),e("div",$t,[e("div",{class:h(["flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium",v.value>=1?"bg-green-500 text-white":"bg-gray-300 text-gray-600"])},[v.value>1?(i(),u("svg",St,o[41]||(o[41]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):(i(),u("span",Pt,"1"))],2),e("div",Lt,[e("p",Ht,l(t.__("Basic Information")),1),e("p",Rt,l(t.__("Job title, position, and department")),1)])]),e("div",Et,[e("div",{class:h(["flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium",v.value>=2?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"])},[v.value>2?(i(),u("svg",It,o[42]||(o[42]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):(i(),u("span",Ut,"2"))],2),e("div",Nt,[e("p",Ft,l(t.__("Job Description")),1),e("p",Gt,l(t.__("Description, requirements, and responsibilities")),1)])]),e("div",Wt,[e("div",Kt,[e("span",null,l(t.__("Progress")),1),e("span",null,l(v.value)+"/2",1)]),e("div",Qt,[e("div",{class:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:Me({width:`${v.value/2*100}%`})},null,4)])])]),e("div",Xt,[v.value===1?(i(),u("div",Yt,[e("div",Zt,[e("h4",eo,l(t.__("Basic Information")),1),e("p",to,l(t.__("Job title, position, and department")),1)]),e("div",oo,[c(d(y),{modelValue:a.job_title,"onUpdate:modelValue":o[8]||(o[8]=s=>a.job_title=s),type:"text",label:t.__("Job Title"),required:!0},null,8,["modelValue","label"]),c(d(y),{modelValue:a.job_code,"onUpdate:modelValue":o[9]||(o[9]=s=>a.job_code=s),type:"text",label:t.__("Job Code")},null,8,["modelValue","label"]),e("div",so,[c(d(y),{modelValue:a.department_name,"onUpdate:modelValue":o[10]||(o[10]=s=>a.department_name=s),type:"text",label:t.__("Department")},null,8,["modelValue","label"]),c(d(y),{modelValue:a.location_name,"onUpdate:modelValue":o[11]||(o[11]=s=>a.location_name=s),type:"text",label:t.__("Location")},null,8,["modelValue","label"])]),c(d(y),{modelValue:a.number_of_openings,"onUpdate:modelValue":o[12]||(o[12]=s=>a.number_of_openings=s),type:"number",label:t.__("Number Of Openings")},null,8,["modelValue","label"]),e("div",lo,[c(d(y),{modelValue:a.posting_date,"onUpdate:modelValue":o[13]||(o[13]=s=>a.posting_date=s),type:"date",label:t.__("Posting Date")},null,8,["modelValue","label"]),c(d(y),{modelValue:a.closing_date,"onUpdate:modelValue":o[14]||(o[14]=s=>a.closing_date=s),type:"date",label:t.__("Closing Date")},null,8,["modelValue","label"])]),e("div",no,[c(d(y),{modelValue:a.approval_status,"onUpdate:modelValue":o[15]||(o[15]=s=>a.approval_status=s),type:"select",label:t.__("Status"),options:N},null,8,["modelValue","label"]),c(d(y),{modelValue:a.owner_id,"onUpdate:modelValue":o[16]||(o[16]=s=>a.owner_id=s),type:"select",label:t.__("Owner"),options:O.value},null,8,["modelValue","label","options"])])])])):m("",!0),v.value===2?(i(),u("div",ro,[e("div",ao,[e("div",null,[e("h4",io,l(t.__("Job Description")),1),e("p",uo,l(t.__("Description, requirements, and responsibilities")),1)]),c(d(_),{variant:"outline",size:"sm",class:"mr-10",theme:"blue",onClick:_e},{prefix:p(()=>o[43]||(o[43]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)])),default:p(()=>[g(" "+l(t.__("AI Generation")),1)]),_:1})]),e("div",co,[e("div",null,[e("label",po,l(t.__("Job Description")),1),c(d(q),{ref:"descriptionEditor",variant:"outline","editor-class":"!prose-sm !max-w-full overflow-auto !w-full min-h-[120px] max-h-[150px] py-1.5 px-2 rounded border border-gray-300 bg-white hover:border-gray-400 hover:shadow-sm focus:bg-white focus:border-gray-500 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400 text-gray-800 transition-colors",bubbleMenu:!0,fixedMenu:!0,content:a.description,placeholder:t.__("Provide a detailed description of the job responsibilities and day-to-day tasks"),onChange:o[17]||(o[17]=s=>a.description=s)},null,8,["content","placeholder"])]),e("div",null,[e("label",vo,l(t.__("Job Requirements")),1),c(d(q),{ref:"requirementsEditor",variant:"outline","editor-class":"!prose-sm !max-w-full overflow-auto !w-full min-h-[120px] max-h-[150px] py-1.5 px-2 rounded border border-gray-300 bg-white hover:border-gray-400 hover:shadow-sm focus:bg-white focus:border-gray-500 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400 text-gray-800 transition-colors",bubbleMenu:!0,fixedMenu:!0,content:a.requirements,placeholder:t.__("Specify required qualifications, skills, experience, and education"),onChange:o[18]||(o[18]=s=>a.requirements=s)},null,8,["content","placeholder"])]),e("div",null,[e("label",bo,l(t.__("Benefits")),1),c(d(q),{ref:"benefitsEditor",variant:"outline","editor-class":"!prose-sm !max-w-full overflow-auto !w-full min-h-[120px] max-h-[150px] py-1.5 px-2 rounded border border-gray-300 bg-white hover:border-gray-400 hover:shadow-sm focus:bg-white focus:border-gray-500 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400 text-gray-800 transition-colors",bubbleMenu:!0,fixedMenu:!0,content:a.benefits,placeholder:t.__("Highlight the benefits and what makes this role attractive"),onChange:o[19]||(o[19]=s=>a.benefits=s)},null,8,["content","placeholder"])])])])):m("",!0),e("div",mo,[v.value>1?(i(),V(d(_),{key:0,variant:"outline",theme:"gray",onClick:ce},{prefix:p(()=>o[44]||(o[44]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),default:p(()=>[g(" "+l(t.__("Previous")),1)]),_:1})):(i(),u("div",go)),e("div",_o,[c(d(_),{variant:"outline",theme:"gray",onClick:de},{default:p(()=>[g(l(t.__("Cancel")),1)]),_:1}),v.value<2?(i(),V(d(_),{key:0,variant:"solid",theme:"gray",onClick:ue},{suffix:p(()=>o[45]||(o[45]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),default:p(()=>[g(l(t.__("Next"))+" ",1)]),_:1})):(i(),V(d(_),{key:1,variant:"solid",theme:"gray",loading:H.value,onClick:pe},{default:p(()=>[g(l(a.name?t.__("Update"):t.__("Create")),1)]),_:1},8,["loading"]))])])])])]),_:1},8,["modelValue","options"]),c(d(se),{modelValue:B.value,"onUpdate:modelValue":o[29]||(o[29]=s=>B.value=s),options:{title:t.__("Generate Job Description AI"),size:"6xl"}},{"body-content":p(()=>[e("div",fo,[e("div",ho,[e("div",yo,[e("div",wo,[e("div",null,[c(d(y),{modelValue:n.job_title,"onUpdate:modelValue":o[21]||(o[21]=s=>n.job_title=s),type:"text",label:t.__("Job Title"),placeholder:t.__("job_title"),onInput:fe},null,8,["modelValue","label","placeholder"])]),e("div",null,[c(d(y),{type:"select",modelValue:n.tone,"onUpdate:modelValue":o[22]||(o[22]=s=>n.tone=s),options:[{label:t.__("Professional"),value:t.__("Professional")},{label:t.__("Friendly"),value:t.__("Friendly")},{label:t.__("Creative"),value:t.__("Creative")},{label:t.__("Formal"),value:t.__("Formal")},{label:t.__("Casual"),value:t.__("Casual")}],variant:"outline",placeholder:t.__("Select Tone"),label:t.__("Tone")},null,8,["modelValue","options","placeholder","label"])]),e("div",null,[e("label",xo,l(t.__("Thẻ chú thích")),1),ee(e("textarea",{"onUpdate:modelValue":o[23]||(o[23]=s=>n.comments=s),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:t.__("Write your comments here. Example: I want to create a job description for a software engineer with 3 years of experience in React and Node.js.")},null,8,ko),[[te,n.comments]])]),e("div",jo,[c(d(_),{variant:"solid",theme:"gray",onClick:ve,loading:I.value,class:"w-full"},{default:p(()=>[g(l(t.__("Generate")),1)]),_:1},8,["loading"])])]),e("div",Co,[e("div",null,[e("div",Mo,[e("label",Vo,l(t.__("Job Description")),1),n.job_description?(i(),V(d(_),{key:0,variant:"outline",size:"sm",theme:"blue",onClick:o[24]||(o[24]=s=>Y("job_description")),loading:z.value==="job_description"},{prefix:p(()=>o[46]||(o[46]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)])),default:p(()=>[g(" "+l(t.__("Rewrite with AI")),1)]),_:1},8,["loading"])):m("",!0)]),c(d(q),{ref:"aiDescriptionEditor",variant:"outline","editor-class":"!prose-sm !max-w-full overflow-auto !w-full min-h-[200px] max-h-[300px] py-1.5 px-2 rounded border border-gray-300 bg-white hover:border-gray-400 hover:shadow-sm focus:bg-white focus:border-gray-500 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400 text-gray-800 transition-colors",bubbleMenu:!0,fixedMenu:!0,content:n.job_description,placeholder:t.__("Job Description"),onChange:o[25]||(o[25]=s=>n.job_description=s)},null,8,["content","placeholder"])]),e("div",null,[e("div",Do,[e("label",Jo,l(t.__("Job Requirement")),1),n.job_requirement?(i(),V(d(_),{key:0,variant:"outline",size:"sm",theme:"blue",onClick:o[26]||(o[26]=s=>Y("job_requirement")),loading:z.value==="job_requirement"},{prefix:p(()=>o[47]||(o[47]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)])),default:p(()=>[g(" "+l(t.__("Rewrite with AI")),1)]),_:1},8,["loading"])):m("",!0)]),c(d(q),{ref:"aiRequirementEditor",variant:"outline","editor-class":"!prose-sm !max-w-full overflow-auto !w-full min-h-[200px] max-h-[300px] py-1.5 px-2 rounded border border-gray-300 bg-white hover:border-gray-400 hover:shadow-sm focus:bg-white focus:border-gray-500 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400 text-gray-800 transition-colors",bubbleMenu:!0,fixedMenu:!0,content:n.job_requirement,placeholder:t.__("Job Requirement"),onChange:o[27]||(o[27]=s=>n.job_requirement=s)},null,8,["content","placeholder"])])])]),n.job_description||n.job_requirement||n.job_benefits?(i(),u("div",qo,[e("div",To,[e("div",Ao,[e("h4",Bo,l(t.__("Job Posting Preview")),1),c(d(_),{size:"sm",variant:"ghost",onClick:o[28]||(o[28]=s=>$.value=!$.value)},{default:p(()=>[$.value?(i(),u("svg",Oo,o[48]||(o[48]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(i(),u("svg",zo,o[49]||(o[49]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))]),_:1})]),$.value?(i(),u("div",$o,[n.job_description?(i(),u("div",So,[e("h5",Po,l(t.__("Job Description")),1),e("div",{class:"text-gray-600 mt-1",innerHTML:n.job_description},null,8,Lo)])):m("",!0),n.job_requirement?(i(),u("div",Ho,[e("h5",Ro,l(t.__("Requirements")),1),e("div",{class:"text-gray-600 mt-1",innerHTML:n.job_requirement},null,8,Eo)])):m("",!0),n.job_benefits?(i(),u("div",Io,[e("h5",Uo,l(t.__("Benefits")),1),e("div",{class:"text-gray-600 mt-1",innerHTML:n.job_benefits},null,8,No)])):m("",!0)])):m("",!0)])])):m("",!0),n.job_description||n.job_requirement||n.job_benefits?(i(),u("div",Fo,[e("div",Go,[c(d(_),{variant:"outline",theme:"gray",onClick:me},{default:p(()=>[g(l(t.__("Bản trước")),1)]),_:1}),c(d(_),{variant:"outline",theme:"gray",onClick:ge},{default:p(()=>[g(l(t.__("Bản sau")),1)]),_:1})]),e("div",Wo,[U.value?(i(),u("div",Ko,[o[50]||(o[50]=e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)),g(" "+l(t.__("Đã áp dụng vào form")),1)])):m("",!0),c(d(_),{variant:"solid",theme:"gray",onClick:be,class:"bg-gray-800 text-white hover:bg-gray-900"},{default:p(()=>[g(l(t.__("Use Generated Content")),1)]),_:1})])])):m("",!0)])])]),_:1},8,["modelValue","options"])])]))}};export{es as default};
//# sourceMappingURL=JobOpeningManagement-845e3f56.js.map
