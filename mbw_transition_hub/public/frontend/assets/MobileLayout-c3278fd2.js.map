{"version":3,"file":"MobileLayout-c3278fd2.js","sources":["../../../../frontend/src/components/Mobile/MobileSidebar.vue","../../../../frontend/src/components/Icons/MenuIcon.vue","../../../../frontend/src/components/Mobile/MobileAppHeader.vue","../../../../frontend/src/components/Layouts/MobileLayout.vue"],"sourcesContent":["<template>\n  <TransitionRoot :show=\"sidebarOpened\">\n    <Dialog as=\"div\" @close=\"sidebarOpened = false\" class=\"fixed inset-0 z-40\">\n      <TransitionChild\n        as=\"template\"\n        enter=\"transition ease-in-out duration-200 transform\"\n        enter-from=\"-translate-x-full\"\n        enter-to=\"translate-x-0\"\n        leave=\"transition ease-in-out duration-200 transform\"\n        leave-from=\"translate-x-0\"\n        leave-to=\"-translate-x-full\"\n      >\n        <div\n          class=\"relative z-10 flex h-full w-[260px] flex-col justify-between border-r bg-surface-menu-bar transition-all duration-300 ease-in-out\"\n        >\n          <div>\n            <UserDropdown class=\"p-2\" :isCollapsed=\"!sidebarOpened\" />\n          </div>\n          <div class=\"flex-1 overflow-y-auto\">\n            <div class=\"mb-3 flex flex-col\">\n              <SidebarLink\n                id=\"notifications-btn\"\n                :label=\"__('Notifications')\"\n                :icon=\"NotificationsIcon\"\n                :to=\"{ name: 'Notifications' }\"\n                class=\"relative mx-2 my-0.5\"\n              >\n                <template #right>\n                  <Badge\n                    v-if=\"unreadNotificationsCount\"\n                    :label=\"unreadNotificationsCount\"\n                    variant=\"subtle\"\n                  />\n                </template>\n              </SidebarLink>\n            </div>\n            <div v-for=\"view in allViews\" :key=\"view.label\">\n              <Section\n                :label=\"view.name\"\n                :hideLabel=\"view.hideLabel\"\n                :opened=\"view.opened\"\n              >\n                <template #header=\"{ opened, hide, toggle }\">\n                  <div\n                    v-if=\"!hide\"\n                    class=\"ml-2 mt-4 flex h-7 w-auto cursor-pointer gap-1.5 px-1 text-base font-medium text-ink-gray-5 opacity-100 transition-all duration-300 ease-in-out\"\n                    @click=\"toggle()\"\n                  >\n                    <FeatherIcon\n                      name=\"chevron-right\"\n                      class=\"h-4 text-ink-gray-9 transition-all duration-300 ease-in-out\"\n                      :class=\"{ 'rotate-90': opened }\"\n                    />\n                    <span>{{ __(view.name) }}</span>\n                  </div>\n                </template>\n                <nav class=\"flex flex-col\">\n                  <SidebarLink\n                    v-for=\"link in view.views\"\n                    :icon=\"link.icon\"\n                    :label=\"__(link.label)\"\n                    :to=\"link.to\"\n                    class=\"mx-2 my-0.5\"\n                  />\n                </nav>\n              </Section>\n            </div>\n          </div>\n        </div>\n      </TransitionChild>\n      <TransitionChild\n        as=\"template\"\n        enter=\"transition-opacity ease-linear duration-200\"\n        enter-from=\"opacity-0\"\n        enter-to=\"opacity-100\"\n        leave=\"transition-opacity ease-linear duration-200\"\n        leave-from=\"opacity-100\"\n        leave-to=\"opacity-0\"\n      >\n        <DialogOverlay class=\"fixed inset-0 bg-gray-600 bg-opacity-50\" />\n      </TransitionChild>\n    </Dialog>\n  </TransitionRoot>\n</template>\n<script setup>\nimport {\n  TransitionRoot,\n  TransitionChild,\n  Dialog,\n  DialogOverlay,\n} from '@headlessui/vue'\nimport Section from '@/components/Section.vue'\nimport Email2Icon from '@/components/Icons/Email2Icon.vue'\nimport PinIcon from '@/components/Icons/PinIcon.vue'\nimport UserDropdown from '@/components/UserDropdown.vue'\nimport LeadsIcon from '@/components/Icons/LeadsIcon.vue'\nimport DealsIcon from '@/components/Icons/DealsIcon.vue'\nimport ContactsIcon from '@/components/Icons/ContactsIcon.vue'\nimport OrganizationsIcon from '@/components/Icons/OrganizationsIcon.vue'\nimport NoteIcon from '@/components/Icons/NoteIcon.vue'\nimport TaskIcon from '@/components/Icons/TaskIcon.vue'\nimport PhoneIcon from '@/components/Icons/PhoneIcon.vue'\nimport NotificationsIcon from '@/components/Icons/NotificationsIcon.vue'\nimport SidebarLink from '@/components/SidebarLink.vue'\nimport { viewsStore } from '@/stores/views'\nimport { unreadNotificationsCount } from '@/stores/notifications'\nimport { createResource } from 'frappe-ui'\nimport { TrialBanner } from 'frappe-ui/frappe'\nimport { computed, h, provide } from 'vue'\nimport { mobileSidebarOpened as sidebarOpened } from '@/composables/settings'\n\nconst { getPinnedViews, getPublicViews } = viewsStore()\n\nconst links = [\n  {\n    label: 'Leads',\n    icon: LeadsIcon,\n    to: 'Leads',\n  },\n  {\n    label: 'Deals',\n    icon: DealsIcon,\n    to: 'Deals',\n  },\n  {\n    label: 'Contacts',\n    icon: ContactsIcon,\n    to: 'Contacts',\n  },\n  {\n    label: 'Organizations',\n    icon: OrganizationsIcon,\n    to: 'Organizations',\n  },\n  {\n    label: 'Notes',\n    icon: NoteIcon,\n    to: 'Notes',\n  },\n  {\n    label: 'Tasks',\n    icon: TaskIcon,\n    to: 'Tasks',\n  },\n  {\n    label: 'Call Logs',\n    icon: PhoneIcon,\n    to: 'Call Logs',\n  },\n  {\n    label: 'Email Templates',\n    icon: Email2Icon,\n    to: 'Email Templates',\n  },\n]\n\nconst allViews = computed(() => {\n  let _views = [\n    {\n      name: 'All Views',\n      hideLabel: true,\n      opened: true,\n      views: links,\n    },\n  ]\n  if (getPublicViews().length) {\n    _views.push({\n      name: 'Public views',\n      opened: true,\n      views: parseView(getPublicViews()),\n    })\n  }\n\n  if (getPinnedViews().length) {\n    _views.push({\n      name: 'Pinned views',\n      opened: true,\n      views: parseView(getPinnedViews()),\n    })\n  }\n  return _views\n})\n\nfunction parseView(views) {\n  return views.map((view) => {\n    return {\n      label: view.label,\n      icon: getIcon(view.route_name, view.icon),\n      to: {\n        name: view.route_name,\n        params: { viewType: view.type || 'list' },\n        query: { view: view.name },\n      },\n    }\n  })\n}\n\nfunction getIcon(routeName, icon) {\n  if (icon) return h('div', { class: 'size-auto' }, icon)\n\n  switch (routeName) {\n    case 'Leads':\n      return LeadsIcon\n    case 'Deals':\n      return DealsIcon\n    case 'Contacts':\n      return ContactsIcon\n    case 'Organizations':\n      return OrganizationsIcon\n    case 'Notes':\n      return NoteIcon\n    case 'Call Logs':\n      return PhoneIcon\n    default:\n      return PinIcon\n  }\n}\n</script>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M2.5 3.2002C2.5 2.92405 2.72386 2.7002 3 2.7002H13C13.2761 2.7002 13.5 2.92405 13.5 3.2002C13.5 3.47634 13.2761 3.7002 13 3.7002H3C2.72386 3.7002 2.5 3.47634 2.5 3.2002ZM2.5 8.00024C2.5 7.7241 2.72386 7.50024 3 7.50024H13C13.2761 7.50024 13.5 7.7241 13.5 8.00024C13.5 8.27639 13.2761 8.50024 13 8.50024H3C2.72386 8.50024 2.5 8.27639 2.5 8.00024ZM3 12.3003C2.72386 12.3003 2.5 12.5242 2.5 12.8003C2.5 13.0764 2.72386 13.3003 3 13.3003H13C13.2761 13.3003 13.5 13.0764 13.5 12.8003C13.5 12.5242 13.2761 12.3003 13 12.3003H3Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <div class=\"flex pr-3\">\n    <div class=\"z-20 ml-2 flex items-center justify-center\">\n      <Button\n        class=\"size-7\"\n        variant=\"ghosted\"\n        @click=\"sidebarOpened = !sidebarOpened\"\n      >\n        <MenuIcon class=\"h-4 text-ink-gray-9\" />\n      </Button>\n    </div>\n    <div id=\"app-header\" class=\"flex-1\" />\n  </div>\n</template>\n\n<script setup>\nimport MenuIcon from '@/components/Icons/MenuIcon.vue'\nimport { mobileSidebarOpened as sidebarOpened } from '@/composables/settings'\n</script>\n","<template>\n  <div class=\"flex h-screen w-screen\">\n    <MobileSidebar />\n    <div class=\"flex h-full flex-1 flex-col overflow-auto bg-surface-white\">\n      <MobileAppHeader />\n      <slot />\n    </div>\n    <GlobalModals />\n  </div>\n</template>\n<script setup>\nimport MobileSidebar from '@/components/Mobile/MobileSidebar.vue'\nimport MobileAppHeader from '@/components/Mobile/MobileAppHeader.vue'\nimport GlobalModals from '@/components/Modals/GlobalModals.vue'\n</script>\n"],"names":["getPinnedViews","getPublicViews","viewsStore","links","LeadsIcon","DealsIcon","ContactsIcon","OrganizationsIcon","NoteIcon","TaskIcon","PhoneIcon","Email2Icon","allViews","computed","_views","parseView","views","view","getIcon","routeName","icon","h","PinIcon","_createBlock","_unref","TransitionRoot","sidebarOpened","_createVNode","Dialog","TransitionChild","_createElementVNode","_hoisted_1","UserDropdown","_hoisted_2","_hoisted_3","SidebarLink","__","NotificationsIcon","unreadNotificationsCount","_component_Badge","_createElementBlock","_Fragment","_renderList","Section","opened","hide","toggle","_component_FeatherIcon","_normalizeClass","_hoisted_5","_openBlock","link","DialogOverlay","_sfc_render","_ctx","_cache","_component_Button","$event","MenuIcon","MobileSidebar","MobileAppHeader","_renderSlot","GlobalModals"],"mappings":"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"}