{"version":3,"file":"MobileLayout-e75c6242.js","sources":["../../../../frontend/src/components/Icons/Email2Icon.vue","../../../../frontend/src/components/Icons/TaskIcon.vue","../../../../frontend/src/components/Mobile/MobileSidebar.vue","../../../../frontend/src/components/Icons/MenuIcon.vue","../../../../frontend/src/components/Mobile/MobileAppHeader.vue","../../../../frontend/src/components/Layouts/MobileLayout.vue"],"sourcesContent":["<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M4.00013 2C2.34328 2 1.00013 3.34315 1.00013 5V5.48845C0.999957 5.49602 0.999957 5.50357 1.00013 5.51111V11C1.00013 12.6569 2.34328 14 4.00013 14H12.0001C13.657 14 15.0001 12.6569 15.0001 11V5.51111C15.0003 5.50357 15.0003 5.49602 15.0001 5.48845V5C15.0001 3.34315 13.657 2 12.0001 2H4.00013ZM14.0001 5.16863V5C14.0001 3.89543 13.1047 3 12.0001 3H4.00013C2.89556 3 2.00013 3.89543 2.00013 5V5.16863L7.80531 7.62467C7.92985 7.67736 8.07041 7.67736 8.19495 7.62467L14.0001 5.16863ZM2.00013 6.25445V11C2.00013 12.1046 2.89556 13 4.00013 13H12.0001C13.1047 13 14.0001 12.1046 14.0001 11V6.25445L8.58459 8.54564C8.21098 8.7037 7.78928 8.7037 7.41567 8.54564L2.00013 6.25445Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M10.3396 2.75011C9.20746 2.24565 7.94257 2.12068 6.73358 2.39383C5.52459 2.66699 4.43629 3.32363 3.63099 4.26584C2.82568 5.20804 2.34652 6.38532 2.26497 7.6221C2.18342 8.85887 2.50384 10.0889 3.17845 11.1287C3.85307 12.1685 4.84572 12.9623 6.00837 13.3919C7.17102 13.8214 8.44138 13.8636 9.62998 13.5122C10.8186 13.1607 11.8617 12.4345 12.6039 11.4418C13.3459 10.4491 13.7473 9.24321 13.748 8.00385C13.748 8.00376 13.748 8.00366 13.748 8.00357L13.748 8.00385M13.748 8.00357L13.748 7.42885C13.748 7.15148 13.9729 6.92662 14.2503 6.92662C14.5277 6.92662 14.7525 7.15148 14.7525 7.42885V8.00385V8.00414C14.7517 9.46021 14.2802 10.877 13.4084 12.0432C12.5365 13.2094 11.3111 14.0626 9.91478 14.4754C8.51846 14.8883 7.02611 14.8387 5.66027 14.3341C4.29444 13.8295 3.12831 12.8969 2.3358 11.6754C1.5433 10.4539 1.16688 9.00892 1.26268 7.55601C1.35849 6.1031 1.92138 4.72008 2.86742 3.61322C3.81346 2.50635 5.09195 1.73495 6.51221 1.41406C7.93248 1.09317 9.41843 1.23999 10.7484 1.8326C11.0018 1.9455 11.1157 2.2424 11.0028 2.49577C10.8899 2.74913 10.593 2.863 10.3396 2.75011M14.6052 2.64497C14.8015 2.84101 14.8016 3.159 14.6056 3.35523L8.35559 9.61148C8.26142 9.70575 8.13365 9.75873 8.0004 9.75876C7.86716 9.75879 7.73936 9.70588 7.64515 9.61166L5.77015 7.73666C5.57401 7.54053 5.57401 7.22253 5.77015 7.0264C5.96628 6.83026 6.28428 6.83026 6.48041 7.0264L8.0001 8.54609L13.895 2.64532C14.091 2.44909 14.409 2.44893 14.6052 2.64497Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <TransitionRoot :show=\"sidebarOpened\">\n    <Dialog as=\"div\" @close=\"sidebarOpened = false\" class=\"fixed inset-0 z-40\">\n      <TransitionChild\n        as=\"template\"\n        enter=\"transition ease-in-out duration-200 transform\"\n        enter-from=\"-translate-x-full\"\n        enter-to=\"translate-x-0\"\n        leave=\"transition ease-in-out duration-200 transform\"\n        leave-from=\"translate-x-0\"\n        leave-to=\"-translate-x-full\"\n      >\n        <div\n          class=\"relative z-10 flex h-full w-[260px] flex-col justify-between border-r bg-surface-menu-bar transition-all duration-300 ease-in-out\"\n        >\n          <div>\n            <UserDropdown class=\"p-2\" :isCollapsed=\"!sidebarOpened\" />\n          </div>\n          <div class=\"flex-1 overflow-y-auto\">\n            <div class=\"mb-3 flex flex-col\">\n              <SidebarLink\n                id=\"notifications-btn\"\n                :label=\"__('Notifications')\"\n                :icon=\"NotificationsIcon\"\n                :to=\"{ name: 'Notifications' }\"\n                class=\"relative mx-2 my-0.5\"\n              >\n                <template #right>\n                  <Badge\n                    v-if=\"unreadNotificationsCount\"\n                    :label=\"unreadNotificationsCount\"\n                    variant=\"subtle\"\n                  />\n                </template>\n              </SidebarLink>\n            </div>\n            <div v-for=\"view in allViews\" :key=\"view.label\">\n              <Section\n                :label=\"view.name\"\n                :hideLabel=\"view.hideLabel\"\n                :opened=\"view.opened\"\n              >\n                <template #header=\"{ opened, hide, toggle }\">\n                  <div\n                    v-if=\"!hide\"\n                    class=\"ml-2 mt-4 flex h-7 w-auto cursor-pointer gap-1.5 px-1 text-base font-medium text-ink-gray-5 opacity-100 transition-all duration-300 ease-in-out\"\n                    @click=\"toggle()\"\n                  >\n                    <FeatherIcon\n                      name=\"chevron-right\"\n                      class=\"h-4 text-ink-gray-9 transition-all duration-300 ease-in-out\"\n                      :class=\"{ 'rotate-90': opened }\"\n                    />\n                    <span>{{ __(view.name) }}</span>\n                  </div>\n                </template>\n                <nav class=\"flex flex-col\">\n                  <SidebarLink\n                    v-for=\"link in view.views\"\n                    :icon=\"link.icon\"\n                    :label=\"__(link.label)\"\n                    :to=\"link.to\"\n                    class=\"mx-2 my-0.5\"\n                  />\n                </nav>\n              </Section>\n            </div>\n          </div>\n        </div>\n      </TransitionChild>\n      <TransitionChild\n        as=\"template\"\n        enter=\"transition-opacity ease-linear duration-200\"\n        enter-from=\"opacity-0\"\n        enter-to=\"opacity-100\"\n        leave=\"transition-opacity ease-linear duration-200\"\n        leave-from=\"opacity-100\"\n        leave-to=\"opacity-0\"\n      >\n        <DialogOverlay class=\"fixed inset-0 bg-gray-600 bg-opacity-50\" />\n      </TransitionChild>\n    </Dialog>\n  </TransitionRoot>\n</template>\n<script setup>\nimport {\n  TransitionRoot,\n  TransitionChild,\n  Dialog,\n  DialogOverlay,\n} from '@headlessui/vue'\nimport Section from '@/components/Section.vue'\nimport Email2Icon from '@/components/Icons/Email2Icon.vue'\nimport PinIcon from '@/components/Icons/PinIcon.vue'\nimport UserDropdown from '@/components/UserDropdown.vue'\nimport LeadsIcon from '@/components/Icons/LeadsIcon.vue'\nimport DealsIcon from '@/components/Icons/DealsIcon.vue'\nimport ContactsIcon from '@/components/Icons/ContactsIcon.vue'\nimport OrganizationsIcon from '@/components/Icons/OrganizationsIcon.vue'\nimport NoteIcon from '@/components/Icons/NoteIcon.vue'\nimport TaskIcon from '@/components/Icons/TaskIcon.vue'\nimport PhoneIcon from '@/components/Icons/PhoneIcon.vue'\nimport NotificationsIcon from '@/components/Icons/NotificationsIcon.vue'\nimport SidebarLink from '@/components/SidebarLink.vue'\nimport { viewsStore } from '@/stores/views'\nimport { unreadNotificationsCount } from '@/stores/notifications'\nimport { createResource } from 'frappe-ui'\nimport { TrialBanner } from 'frappe-ui/frappe'\nimport { computed, h, provide } from 'vue'\nimport { mobileSidebarOpened as sidebarOpened } from '@/composables/settings'\n\nconst { getPinnedViews, getPublicViews } = viewsStore()\n\nconst links = [\n  {\n    label: 'Leads',\n    icon: LeadsIcon,\n    to: 'Leads',\n  },\n  {\n    label: 'Deals',\n    icon: DealsIcon,\n    to: 'Deals',\n  },\n  {\n    label: 'Contacts',\n    icon: ContactsIcon,\n    to: 'Contacts',\n  },\n  {\n    label: 'Organizations',\n    icon: OrganizationsIcon,\n    to: 'Organizations',\n  },\n  {\n    label: 'Notes',\n    icon: NoteIcon,\n    to: 'Notes',\n  },\n  {\n    label: 'Tasks',\n    icon: TaskIcon,\n    to: 'Tasks',\n  },\n  {\n    label: 'Call Logs',\n    icon: PhoneIcon,\n    to: 'Call Logs',\n  },\n  {\n    label: 'Email Templates',\n    icon: Email2Icon,\n    to: 'Email Templates',\n  },\n]\n\nconst allViews = computed(() => {\n  let _views = [\n    {\n      name: 'All Views',\n      hideLabel: true,\n      opened: true,\n      views: links,\n    },\n  ]\n  if (getPublicViews().length) {\n    _views.push({\n      name: 'Public views',\n      opened: true,\n      views: parseView(getPublicViews()),\n    })\n  }\n\n  if (getPinnedViews().length) {\n    _views.push({\n      name: 'Pinned views',\n      opened: true,\n      views: parseView(getPinnedViews()),\n    })\n  }\n  return _views\n})\n\nfunction parseView(views) {\n  return views.map((view) => {\n    return {\n      label: view.label,\n      icon: getIcon(view.route_name, view.icon),\n      to: {\n        name: view.route_name,\n        params: { viewType: view.type || 'list' },\n        query: { view: view.name },\n      },\n    }\n  })\n}\n\nfunction getIcon(routeName, icon) {\n  if (icon) return h('div', { class: 'size-auto' }, icon)\n\n  switch (routeName) {\n    case 'Leads':\n      return LeadsIcon\n    case 'Deals':\n      return DealsIcon\n    case 'Contacts':\n      return ContactsIcon\n    case 'Organizations':\n      return OrganizationsIcon\n    case 'Notes':\n      return NoteIcon\n    case 'Call Logs':\n      return PhoneIcon\n    default:\n      return PinIcon\n  }\n}\n</script>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M2.5 3.2002C2.5 2.92405 2.72386 2.7002 3 2.7002H13C13.2761 2.7002 13.5 2.92405 13.5 3.2002C13.5 3.47634 13.2761 3.7002 13 3.7002H3C2.72386 3.7002 2.5 3.47634 2.5 3.2002ZM2.5 8.00024C2.5 7.7241 2.72386 7.50024 3 7.50024H13C13.2761 7.50024 13.5 7.7241 13.5 8.00024C13.5 8.27639 13.2761 8.50024 13 8.50024H3C2.72386 8.50024 2.5 8.27639 2.5 8.00024ZM3 12.3003C2.72386 12.3003 2.5 12.5242 2.5 12.8003C2.5 13.0764 2.72386 13.3003 3 13.3003H13C13.2761 13.3003 13.5 13.0764 13.5 12.8003C13.5 12.5242 13.2761 12.3003 13 12.3003H3Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <div class=\"flex pr-3\">\n    <div class=\"z-20 ml-2 flex items-center justify-center\">\n      <Button\n        class=\"size-7\"\n        variant=\"ghosted\"\n        @click=\"sidebarOpened = !sidebarOpened\"\n      >\n        <MenuIcon class=\"h-4 text-ink-gray-9\" />\n      </Button>\n    </div>\n    <div id=\"app-header\" class=\"flex-1\" />\n  </div>\n</template>\n\n<script setup>\nimport MenuIcon from '@/components/Icons/MenuIcon.vue'\nimport { mobileSidebarOpened as sidebarOpened } from '@/composables/settings'\n</script>\n","<template>\n  <div class=\"flex h-screen w-screen\">\n    <MobileSidebar />\n    <div class=\"flex h-full flex-1 flex-col overflow-auto bg-surface-white\">\n      <MobileAppHeader />\n      <slot />\n    </div>\n    <GlobalModals />\n  </div>\n</template>\n<script setup>\nimport MobileSidebar from '@/components/Mobile/MobileSidebar.vue'\nimport MobileAppHeader from '@/components/Mobile/MobileAppHeader.vue'\nimport GlobalModals from '@/components/Modals/GlobalModals.vue'\n</script>\n"],"names":["_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","getPinnedViews","getPublicViews","viewsStore","links","LeadsIcon","DealsIcon","ContactsIcon","OrganizationsIcon","NoteIcon","TaskIcon","PhoneIcon","Email2Icon","allViews","computed","_views","parseView","views","view","getIcon","routeName","icon","h","PinIcon","_createBlock","_unref","TransitionRoot","sidebarOpened","_createVNode","Dialog","TransitionChild","UserDropdown","_hoisted_2","_hoisted_3","SidebarLink","__","NotificationsIcon","unreadNotificationsCount","_component_Badge","_Fragment","_renderList","Section","opened","hide","toggle","_component_FeatherIcon","_normalizeClass","_hoisted_5","link","DialogOverlay","_component_Button","$event","MenuIcon","MobileSidebar","MobileAppHeader","_renderSlot","GlobalModals"],"mappings":"8YAEIA,EAAU,CACV,WACA,YACA,QAAW,YACX,gDALF,SAAAC,EAAAC,EAAAC,EAAA,QAYIC,EAAA,EAAAC,EAAA,MAAAL,EAAAG,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAJAG,EAAmB,OAAA,CACnB,YAAU,UACV,YAAiqB,UACjqB,EAAA,ouBCVFN,GAAU,CACV,WACA,YACA,QAAW,YACX,gDALF,SAAAC,GAAAC,EAAAC,EAAA,QAYIC,EAAA,EAAAC,EAAA,MAAAL,GAAAG,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAJAG,EAAmB,OAAA,CACnB,YAAU,UACV,YAAy5C,UACz5C,EAAA,yvDCmGN,KAAM,CAAE,eAAAC,EAAgB,eAAAC,CAAgB,EAAGC,EAAW,EAEhDC,EAAQ,CACZ,CACE,MAAO,QACP,KAAMC,EACN,GAAI,OACL,EACD,CACE,MAAO,QACP,KAAMC,EACN,GAAI,OACL,EACD,CACE,MAAO,WACP,KAAMC,EACN,GAAI,UACL,EACD,CACE,MAAO,gBACP,KAAMC,EACN,GAAI,eACL,EACD,CACE,MAAO,QACP,KAAMC,EACN,GAAI,OACL,EACD,CACE,MAAO,QACP,KAAMC,GACN,GAAI,OACL,EACD,CACE,MAAO,YACP,KAAMC,EACN,GAAI,WACL,EACD,CACE,MAAO,kBACP,KAAMC,GACN,GAAI,iBACL,CACH,EAEMC,EAAWC,EAAS,IAAM,CAC9B,IAAIC,EAAS,CACX,CACE,KAAM,YACN,UAAW,GACX,OAAQ,GACR,MAAOX,CACR,CACH,EACA,OAAIF,EAAgB,EAAC,QACnBa,EAAO,KAAK,CACV,KAAM,eACN,OAAQ,GACR,MAAOC,EAAUd,GAAgB,CACvC,CAAK,EAGCD,EAAgB,EAAC,QACnBc,EAAO,KAAK,CACV,KAAM,eACN,OAAQ,GACR,MAAOC,EAAUf,GAAgB,CACvC,CAAK,EAEIc,CACT,CAAC,EAED,SAASC,EAAUC,EAAO,CACxB,OAAOA,EAAM,IAAKC,IACT,CACL,MAAOA,EAAK,MACZ,KAAMC,EAAQD,EAAK,WAAYA,EAAK,IAAI,EACxC,GAAI,CACF,KAAMA,EAAK,WACX,OAAQ,CAAE,SAAUA,EAAK,MAAQ,MAAQ,EACzC,MAAO,CAAE,KAAMA,EAAK,IAAM,CAC3B,CACH,EACD,CACH,CAEA,SAASC,EAAQC,EAAWC,EAAM,CAChC,GAAIA,EAAM,OAAOC,EAAE,MAAO,CAAE,MAAO,WAAa,EAAED,CAAI,EAEtD,OAAQD,EAAS,CACf,IAAK,QACH,OAAOf,EACT,IAAK,QACH,OAAOC,EACT,IAAK,WACH,OAAOC,EACT,IAAK,gBACH,OAAOC,EACT,IAAK,QACH,OAAOC,EACT,IAAK,YACH,OAAOE,EACT,QACE,OAAOY,CACX,CACF,gEAvNEC,EAiFiBC,EAAAC,CAAA,EAAA,CAjFA,KAAMD,EAAaE,CAAA,GAAA,WAClC,IA+ES,CA/ETC,EA+ESH,EAAAI,CAAA,EAAA,CA/ED,GAAG,MAAO,uBAAOF,EAAa,MAAA,IAAU,MAAM,iCACpD,IAkEkB,CAlElBC,EAkEkBH,EAAAK,CAAA,EAAA,CAjEhB,GAAG,WACH,MAAM,gDACN,aAAW,oBACX,WAAS,gBACT,MAAM,gDACN,aAAW,gBACX,WAAS,gCAET,IAwDM,CAxDN9B,EAwDM,MAxDNN,GAwDM,CArDJM,EAEM,MAAA,KAAA,CADJ4B,EAA0DG,EAAA,CAA5C,MAAM,MAAO,aAAcN,EAAaE,CAAA,6BAExD3B,EAiDM,MAjDNgC,GAiDM,CAhDJhC,EAgBM,MAhBNiC,GAgBM,CAfJL,EAccM,EAAA,CAbZ,GAAG,oBACF,MAAOC,EAAE,GAAA,eAAA,EACT,KAAMC,EACN,GAAI,CAAyB,KAAA,eAAA,EAC9B,MAAM,yBAEK,QACT,IAIE,CAHMX,EAAwBY,CAAA,OADhCb,EAIEc,EAAA,OAFC,MAAOb,EAAwBY,CAAA,EAChC,QAAQ,mEAKhBtC,EA8BMwC,EAAA,KAAAC,EA9Bc3B,EAAQ,MAAhBK,QAAZnB,EA8BM,MAAA,CA9ByB,IAAKmB,EAAK,QACvCU,EA4BUa,EAAA,CA3BP,MAAOvB,EAAK,KACZ,UAAWA,EAAK,UAChB,OAAQA,EAAK,SAEH,SACT,CAWM,CAZa,OAAAwB,EAAQ,KAAAC,EAAM,OAAAC,CAAM,IAAA,CAE9BD,gBADT5C,EAWM,MAAA,OATJ,MAAM,kJACL,YAAO6C,MAERhB,EAIEiB,EAAA,CAHA,KAAK,gBACL,MAAKC,EAAA,CAAC,8DAA6D,CAAA,YAC5CJ,CAAM,CAAA,CAAA,qBAE/B1C,EAAgC,OAAvBmC,KAAAA,EAAAA,EAAAA,GAAGjB,EAAK,IAAI,CAAA,EAAA,CAAA,sBAGzB,IAQM,CARNlB,EAQM,MARN+C,GAQM,EAPJjD,EAAA,EAAA,EAAAC,EAMEwC,EALe,KAAAC,EAAAtB,EAAK,MAAb8B,QADTxB,EAMEU,EAAA,CAJC,KAAMc,EAAK,KACX,MAAOb,EAAAA,GAAGa,EAAK,KAAK,EACpB,GAAIA,EAAK,GACV,MAAM,yHAQpBpB,EAUkBH,EAAAK,CAAA,EAAA,CAThB,GAAG,WACH,MAAM,8CACN,aAAW,YACX,WAAS,cACT,MAAM,8CACN,aAAW,cACX,WAAS,wBAET,IAAiE,CAAjEF,EAAiEH,EAAAwB,CAAA,EAAA,CAAlD,MAAM,yCAAyC,CAAA,8CC7ElEvD,GAAU,CACV,WACA,YACA,QAAW,YACX,gDALF,SAAAC,GAAAC,EAAAC,EAAA,QAYIC,EAAA,EAAAC,EAAA,MAAAL,GAAAG,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAJAG,EAAmB,OAAA,CACnB,YAAU,UACV,YAA6gB,UAC7gB,EAAA,muBCXJ,OAAAF,EAAA,EAAAC,EAWM,MAXNL,GAWM,CAVJM,EAQM,MARNgC,GAQM,CAPJJ,EAMSsB,EAAA,CALP,MAAM,SACN,QAAQ,UACP,QAAKrD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAsD,GAAExB,EAAa,MAAA,CAAIF,EAAaE,CAAA,eAEtC,IAAwC,CAAxCC,EAAwCwB,GAAA,CAA9B,MAAM,qBAAqB,CAAA,wBAGzCpD,EAAsC,MAAA,CAAjC,GAAG,aAAa,MAAM,sLCV7BF,EAAA,EAAAC,EAOM,MAPNL,GAOM,CANJkC,EAAiByB,EAAA,EACjBrD,EAGM,MAHNgC,GAGM,CAFJJ,EAAmB0B,EAAA,EACnBC,EAAQ3D,EAAA,OAAA,SAAA,IAEVgC,EAAgB4B,CAAA"}